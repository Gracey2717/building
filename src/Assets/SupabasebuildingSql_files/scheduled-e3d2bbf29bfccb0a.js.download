try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="f2d94066-ca3e-40f0-8175-2e005e0b8eba",e._sentryDebugIdIdentifier="sentry-dbid-f2d94066-ca3e-40f0-8175-2e005e0b8eba")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4307,4986],{6953:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/database/backups/scheduled",function(){return a(80793)}])},14528:(e,s,a)=>{"use strict";a.d(s,{A:()=>f});var t=a(80263),r=a(58378),l=a(69724),n=a(23445),i=a(15601),d=a.n(i),c=a(53239),o=a(40022);let u=(0,c.forwardRef)((e,s)=>{let{icon:a,title:i,description:u,url:f,urlLabel:x="Read more",defaultVisibility:h=!1,hideCollapse:p=!1,button:b,className:m="",block:j=!1}=e,[v,y]=(0,c.useState)(h);return(0,t.jsx)("div",{ref:s,role:"alert",className:"".concat(j?"block w-full":"","\n      block w-full rounded-md border bg-surface-300/25 py-3 ").concat(m),children:(0,t.jsxs)("div",{className:"flex flex-col px-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex w-full space-x-3 items-center",children:[a&&(0,t.jsx)("span",{className:"text-foreground-lighter",children:a}),(0,t.jsx)("div",{className:"flex-grow",children:(0,t.jsx)("h5",{className:"text-foreground",children:i})})]}),u&&!p?(0,t.jsx)("div",{className:"cursor-pointer text-foreground-lighter",onClick:()=>y(!v),children:v?(0,t.jsx)(r.A,{size:14,strokeWidth:1.5}):(0,t.jsx)(l.A,{size:14,strokeWidth:1.5})}):null]}),(u||f||b)&&(0,t.jsxs)("div",{className:"flex flex-col space-y-3 overflow-hidden transition-all ".concat(v?"mt-3":""),style:{maxHeight:500*!!v},children:[(0,t.jsx)("div",{className:"text-foreground-light text-sm",children:u}),f&&(0,t.jsx)("div",{children:(0,t.jsx)(o.$,{asChild:!0,type:"default",icon:(0,t.jsx)(n.A,{}),children:(0,t.jsx)(d(),{href:f,target:"_blank",rel:"noreferrer",children:x})})}),b&&(0,t.jsx)("div",{children:b})]})]})})});u.displayName="InformationBox";let f=u},39358:(e,s,a)=>{"use strict";a.d(s,{O:()=>i,h:()=>n});var t=a(80263),r=a(53239),l=a(51500);let n=(0,r.forwardRef)((e,s)=>(0,t.jsx)("nav",{ref:s,dir:"ltr",...e,className:(0,l.cn)("border-b",e.className),children:(0,t.jsx)("ul",{role:"menu",className:"flex gap-5",children:e.children})})),i=(0,r.forwardRef)((e,s)=>{let{children:a,className:r,active:n,...i}=e;return(0,t.jsx)("li",{ref:s,"aria-selected":n?"true":"false","data-state":n?"active":"inactive",className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap text-sm ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent *:py-1.5",r),...i,children:a})})},42920:(e,s,a)=>{"use strict";a.d(s,{A:()=>c});var t=a(80263),r=a(15601),l=a.n(r),n=a(5483),i=a(2119),d=a(39358);let c=function(e){var s;let{active:a}=e,{ref:r,cloud_provider:c}=(null==(s=(0,n.YA)())?void 0:s.data)||{},o=[{enabled:!0,id:"scheduled",label:"Scheduled backups",href:"/project/".concat(r,"/database/backups/scheduled")},{enabled:!0,id:"pitr",label:"Point in time",href:"/project/".concat(r,"/database/backups/pitr")},{enabled:"FLY"!==c,id:"rtnp",label:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["Restore to new project"," ",(0,t.jsx)(i.E,{size:"small",className:"!text-[10px] px-1.5 py-0",children:"Beta"})]}),href:"/project/".concat(r,"/database/backups/restore-to-new-project")}];return(0,t.jsx)(d.h,{className:"overflow-hidden overflow-x-auto","data-sentry-element":"NavMenu","data-sentry-component":"DatabaseBackupsNav","data-sentry-source-file":"DatabaseBackupsNav.tsx",children:o.map(e=>e.enabled&&(0,t.jsx)(d.O,{active:e.id===a,children:(0,t.jsx)(l(),{href:e.href,children:e.label})},e.id))})}},80793:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>k});var t=a(80263),r=a(60045),l=a(54753),n=a(75232),i=a(74383),d=a(42920),c=a(46221),o=a(96232),u=a(92882),f=a(20313),x=a(62136),h=a(92512),p=a(14528),b=a(98969),m=a(90437),j=a(11799),v=a(75019),y=a(5483),g=a(47142);let N=()=>{let{ref:e}=(0,n.g)(),{data:s,error:a,isLoading:c,isError:o,isSuccess:N}=(0,j.h)({projectRef:e}),k=(0,y.CG)(),w=null==s?void 0:s.pitr_enabled,{can:_,isSuccess:A}=(0,v.hl)(r.aG.READ,"back_ups");return(0,t.jsx)(u.eh,{"data-sentry-element":"ScaffoldContainer","data-sentry-component":"DatabaseScheduledBackups","data-sentry-source-file":"scheduled.tsx",children:(0,t.jsx)(u.gu,{"data-sentry-element":"ScaffoldSection","data-sentry-source-file":"scheduled.tsx",children:(0,t.jsx)("div",{className:"col-span-12",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(h.M,{className:"!mb-0",title:"Database Backups","data-sentry-element":"FormHeader","data-sentry-source-file":"scheduled.tsx"}),(0,t.jsx)(d.A,{active:"scheduled","data-sentry-element":"DatabaseBackupsNav","data-sentry-source-file":"scheduled.tsx"}),k?(0,t.jsx)(g.Z,{type:"default",title:"Database backups are not available for OrioleDB",description:"OrioleDB is currently in public alpha and projects created are strictly ephemeral with no database backups",children:(0,t.jsx)(x.A,{abbrev:!1,className:"mt-2",href:"https://supabase.com/docs"})}):(0,t.jsxs)("div",{className:"flex flex-col gap-y-4",children:[c&&(0,t.jsx)(m.y,{}),o&&(0,t.jsx)(f.A,{error:a,subject:"Failed to retrieve scheduled backups"}),N&&(0,t.jsxs)(t.Fragment,{children:[!w&&(0,t.jsx)("p",{className:"text-sm text-foreground-light",children:"Projects are backed up daily around midnight of your project's region and can be restored at any time."}),w&&(0,t.jsx)(p.A,{hideCollapse:!0,defaultVisibility:!0,icon:(0,t.jsx)(l.A,{strokeWidth:2}),title:"Point-In-Time-Recovery (PITR) enabled",description:(0,t.jsxs)("div",{children:["Your project uses PITR and full daily backups are no longer taken. They're not needed, as PITR supports a superset of functionality, in terms of the granular recovery that can be performed."," ",(0,t.jsx)("a",{className:"text-brand transition-colors hover:text-brand-600",href:"https://supabase.com/docs/guides/platform/backups",children:"Learn more"})]})}),A&&!_?(0,t.jsx)(b.A,{resourceText:"view scheduled backups"}):(0,t.jsx)(i.aE,{})]})]})]})})})})};N.getLayout=e=>(0,t.jsx)(o.A,{children:(0,t.jsx)(c.A,{title:"Database",children:e})});let k=N},98969:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});var t=a(80263),r=a(87610);let l=e=>{let{resourceText:s,isFullPage:a=!1}=e,l=()=>(0,t.jsx)("div",{className:"block w-full rounded border border-opacity-20 py-4 px-6 border-overlay bg-surface-200","data-sentry-component":"NoPermissionMessage","data-sentry-source-file":"NoPermission.tsx",children:(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)(r.A,{size:20,"data-sentry-element":"AlertCircle","data-sentry-source-file":"NoPermission.tsx"})}),(0,t.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("p",{className:"text-sm",children:["You need additional permissions to ",s]}),(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-sm text-foreground-light",children:"Contact your organization owner or administrator for assistance."})})]})})]})});return a?(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsx)("div",{className:"w-[550px]",children:(0,t.jsx)(l,{})})}):(0,t.jsx)(l,{})}}},e=>{var s=s=>e(e.s=s);e.O(0,[89,2313,4335,9441,7494,4280,7598,4915,4560,6797,4674,2360,6110,6712,7795,4968,876,5089,9239,1895,3709,5573,9897,6585,279,7460,7686,8343,2690,6232,597,8119,1533,8742,2091,636,6593,8792],()=>s(6953)),_N_E=e.O()}]);