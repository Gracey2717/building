try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8d30b6d6-cf84-4f8a-aa65-7cbcb3a2d083",e._sentryDebugIdIdentifier="sentry-dbid-8d30b6d6-cf84-4f8a-aa65-7cbcb3a2d083")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[937,4986],{3434:(e,t,l)=>{"use strict";l.d(t,{A0:()=>o,BF:()=>c,Gg:()=>d,Hj:()=>m,XI:()=>i,nA:()=>f,nd:()=>u,r6:()=>x});var a=l(80263),n=l(53239),s=l(51500),r=l(95083);let i=n.forwardRef((e,t)=>{let{className:l,containerProps:n,...i}=e;return(0,a.jsx)(r.x,{...n,children:(0,a.jsx)("table",{ref:t,className:(0,s.cn)("w-full caption-bottom text-sm",l),...i})})});i.displayName="Table";let o=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("thead",{ref:t,className:(0,s.cn)("[&_tr]:border-b [&>tr]:bg-200",l),...n})});o.displayName="TableHeader";let c=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,s.cn)("[&_tr:last-child]:border-0",l),...n})});c.displayName="TableBody";let d=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,s.cn)("bg-primary font-medium text-primary-foreground",l),...n})});d.displayName="TableFooter";let m=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("tr",{ref:t,className:(0,s.cn)("border-b [&>td]:hover:bg-surface-200 data-[state=selected]:bg-muted",l),...n})});m.displayName="TableRow";let u=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("th",{ref:t,className:(0,s.cn)("h-10 px-4 text-left align-middle heading-meta text-foreground-lighter [&:has([role=checkbox])]:pr-0",l),...n})});u.displayName="TableHead";let f=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("td",{ref:t,className:(0,s.cn)("transition-colors p-4 align-middle [&:has([role=checkbox])]:pr-0",l),...n})});f.displayName="TableCell";let x=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("caption",{ref:t,className:(0,s.cn)("mt-4 text-sm text-foreground-muted",l),...n})});x.displayName="TableCaption"},15301:(e,t,l)=>{"use strict";l.d(t,{A:()=>L});var a=l(80263),n=l(23445),s=l(15601),r=l.n(s),i=l(73969),o=l(15998),c=l(90309),d=l(32144),m=l(80251),u=l(64813),f=l(15629),x=l(667),h=l(66628),p=l(22918),g=l(46144);async function y(e){let{projectRef:t,connectionString:l,table:a,filters:n,roleImpersonationState:s}=e,r=(0,x.Nf)(function(e){var t;let{table:l,filters:a}=e,n=new u.Query().from(l.name,null!=(t=l.schema)?t:void 0).delete();return a.filter(e=>e.value&&""!==e.value).forEach(e=>{let t=(0,g.b)(l,e);n=n.filter(e.column,e.operator,t)}),n.toSql()}({table:a,filters:n}),s),{result:i}=await (0,f.E)({projectRef:t,connectionString:l,sql:r,isRoleImpersonationEnabled:(0,h._c)(null==s?void 0:s.role)});return i}let b=function(){let{onSuccess:e,onError:t,...l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,d.jE)();return(0,m.n)(e=>y(e),{async onSuccess(t,l,n){let{projectRef:s,table:r}=l;await a.invalidateQueries(p.j.tableRowsAndCount(s,r.id)),await (null==e?void 0:e(t,l,n))},async onError(e,l,a){void 0===t?i.oR.error("Failed to delete all table rows: ".concat(e.message)):t(e,l,a)},...l})};var j=l(58696),v=l(62136);async function w(e){let{projectRef:t,connectionString:l,table:a,rows:n,roleImpersonationState:s}=e,r=(0,x.Nf)(function(e){var t;let{table:l,rows:a}=e,{primaryKeys:n,error:s}=(0,g.j)({table:l});if(s)throw s;let r=new u.Query().from(l.name,null!=(t=l.schema)?t:void 0).delete();return null==n||n.forEach(e=>{let t=a.map(t=>t[e]);r=r.filter(e,"in",t)}),r.toSql()}({table:a,rows:n}),s),{result:i}=await (0,f.E)({projectRef:t,connectionString:l,sql:r,isRoleImpersonationEnabled:(0,h._c)(null==s?void 0:s.role)});return i}let N=function(){let{onSuccess:e,onError:t,...l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,d.jE)();return(0,m.n)(e=>w(e),{async onSuccess(t,l,a){let{projectRef:s,table:r}=l;await n.invalidateQueries(p.j.tableRowsAndCount(s,r.id)),await (null==e?void 0:e(t,l,a))},async onError(e,l,n){if(void 0===t){let{table:t,rows:n}=l,s=e.message.includes("Please add a primary key column"),r=e.message.includes("violates foreign key constraint"),o=n.length>1;if(r){let l=t.name,n=e.message.split("on table ")[2].replaceAll('"',""),s=e.message.split("foreign key constraint")[1].split("on table")[0].replaceAll('"',""),r=o?"Unable to delete rows as one of them is currently referenced by a foreign key constraint from the table `".concat(n,"`."):"Unable to delete row as it is currently referenced by a foreign key constraint from the table `".concat(n,"`."),c="Set an on delete behavior on the foreign key relation `".concat(s,"` in the `").concat(n,"` table to automatically respond when row(s) are being deleted in the `").concat(l,"` table.");(0,i.oR)(r,{description:(0,a.jsx)(j.o,{content:c,className:"[&>p]:m-0"}),action:(0,a.jsx)("div",{className:"w-full flex gap-x-2 !mx-0 mt-3",children:(0,a.jsx)(v.A,{href:"https://supabase.com/docs/guides/database/postgres/cascade-deletes"})})})}else s?(0,i.oR)("Unable to delete row(s) as table has no primary keys",{description:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Add a primary key column to your table first to serve as a unique identifier for each row before updating or deleting the row."}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)(v.A,{href:"https://supabase.com/docs/guides/database/tables#primary-keys"})})]})}):i.oR.error("Failed to delete table row: ".concat(e.message))}else t(e,l,n)},...l})};async function S(e){let{projectRef:t,connectionString:l,table:a}=e,n=function(e){var t;let{table:l}=e;return new u.Query().from(l.name,null!=(t=l.schema)?t:void 0).truncate().toSql()}({table:a}),{result:s}=await (0,f.E)({projectRef:t,connectionString:l,sql:n});return s}let C=function(){let{onSuccess:e,onError:t,...l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,d.jE)();return(0,m.n)(e=>S(e),{async onSuccess(t,l,n){let{projectRef:s,table:r}=l;await a.invalidateQueries(p.j.tableRowsAndCount(s,r.id)),await (null==e?void 0:e(t,l,n))},async onError(e,l,a){void 0===t?i.oR.error("Failed to truncate table row: ".concat(e.message)):t(e,l,a)},...l})};var A=l(95865),_=l(5483),D=l(79033),k=l(35768),R=l(1012),T=l(40022),E=l(50204);let L=e=>{var t,l,s,d,m,u,f,x,p;let{selectedTable:g,onTableDeleted:y}=e,{data:j}=(0,_.YA)(),v=(0,D.ap)(),{filters:w,onApplyFilters:S}=(0,o.M)(),L=e=>{let{columnName:t}=e;S(w.filter(e=>e.column!==t))},{mutate:z}=(0,c.T)({onSuccess:()=>{var e;if((null==(e=v.confirmationDialog)?void 0:e.type)!=="column")return;let t=v.confirmationDialog.column;L({columnName:t.name}),i.oR.success('Successfully deleted column "'.concat(t.name,'"'))},onError:e=>{var t;if((null==(t=v.confirmationDialog)?void 0:t.type)!=="column")return;let l=v.confirmationDialog.column;i.oR.error("Failed to delete ".concat(l.name,": ").concat(e.message))},onSettled:()=>{v.closeConfirmationDialog()}}),{mutate:I}=(0,A.A)({onSuccess:async()=>{i.oR.success('Successfully deleted table "'.concat(null==g?void 0:g.name,'"')),null==y||y()},onError:e=>{i.oR.error("Failed to delete ".concat(null==g?void 0:g.name,": ").concat(e.message))},onSettled:()=>{v.closeConfirmationDialog()}}),{mutate:M,isLoading:F}=N({onSuccess:()=>{var e,t,l;(null==(e=v.confirmationDialog)?void 0:e.type)==="row"&&(null==(t=(l=v.confirmationDialog).callback)||t.call(l)),i.oR.success("Successfully deleted selected row(s)")},onSettled:()=>{v.closeConfirmationDialog()}}),{mutate:H,isLoading:W}=b({onSuccess:()=>{var e,t,l;(null==(e=v.confirmationDialog)?void 0:e.type)==="row"&&(null==(t=(l=v.confirmationDialog).callback)||t.call(l)),i.oR.success("Successfully deleted selected rows")},onError:e=>{i.oR.error("Failed to delete rows: ".concat(e.message))},onSettled:()=>{v.closeConfirmationDialog()}}),{mutate:P,isLoading:B}=C({onSuccess:()=>{var e,t,l;(null==(e=v.confirmationDialog)?void 0:e.type)==="row"&&(null==(t=(l=v.confirmationDialog).callback)||t.call(l)),i.oR.success("Successfully deleted all rows from table")},onError:e=>{i.oR.error("Failed to delete rows: ".concat(e.message))},onSettled:()=>{v.closeConfirmationDialog()}}),q=(null==(t=v.confirmationDialog)?void 0:t.type)==="row"&&v.confirmationDialog.allRowsSelected,$=(null==(l=v.confirmationDialog)?void 0:l.type)==="row"?v.confirmationDialog.allRowsSelected?null!=(p=v.confirmationDialog.numRows)?p:0:v.confirmationDialog.rows.length:0,Q=((null==(s=v.confirmationDialog)?void 0:s.type)==="column"||(null==(d=v.confirmationDialog)?void 0:d.type)==="table")&&v.confirmationDialog.isDeleteWithCascade,O=async()=>{var e;if((null==(e=v.confirmationDialog)?void 0:e.type)!=="column"||void 0===j)return;let t=v.confirmationDialog.column;void 0!==t&&z({column:t,cascade:Q,projectRef:j.ref,connectionString:null==j?void 0:j.connectionString})},G=async()=>{var e;(null==(e=v.confirmationDialog)?void 0:e.type)==="table"&&void 0!==g&&I({projectRef:null==j?void 0:j.ref,connectionString:null==j?void 0:j.connectionString,id:g.id,name:g.name,schema:g.schema,cascade:Q})},V=(0,h.Qj)(),Y=async()=>{var e;if(!j)return console.error("Project ref is required");if(!g)return console.error("Selected table required");if((null==(e=v.confirmationDialog)?void 0:e.type)!=="row")return;let t=v.confirmationDialog.rows;if(v.confirmationDialog.allRowsSelected)if(0===w.length){if(void 0!==V().role)return v.closeConfirmationDialog(),i.oR.error("Table truncation is not supported when impersonating a role");P({projectRef:j.ref,connectionString:j.connectionString,table:g})}else H({projectRef:j.ref,connectionString:j.connectionString,table:g,filters:w,roleImpersonationState:V()});else M({projectRef:j.ref,connectionString:j.connectionString,table:g,rows:t,roleImpersonationState:V()})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.A,{variant:"destructive",size:"small",visible:(null==(m=v.confirmationDialog)?void 0:m.type)==="column",title:'Confirm deletion of column "'.concat((null==(u=v.confirmationDialog)?void 0:u.type)==="column"&&v.confirmationDialog.column.name,'"'),confirmLabel:"Delete",confirmLabelLoading:"Deleting",onCancel:()=>{v.closeConfirmationDialog()},onConfirm:O,"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"DeleteConfirmationDialogs.tsx",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Are you sure you want to delete the selected column? This action cannot be undone."}),(0,a.jsx)(k.A,{label:"Drop column with cascade?",description:"Deletes the column and its dependent objects",checked:Q,onChange:()=>v.toggleConfirmationIsWithCascade(),"data-sentry-element":"Checkbox","data-sentry-source-file":"DeleteConfirmationDialogs.tsx"}),Q&&(0,a.jsxs)(R.Fc,{variant:"warning",title:"Warning: Dropping with cascade may result in unintended consequences",children:[(0,a.jsx)(R.XL,{children:"All dependent objects will be removed, as will any objects that depend on them, recursively."}),(0,a.jsx)(R.TN,{children:(0,a.jsx)(T.$,{asChild:!0,size:"tiny",type:"default",icon:(0,a.jsx)(n.A,{}),children:(0,a.jsx)(r(),{href:"https://www.postgresql.org/docs/current/ddl-depend.html",target:"_blank",rel:"noreferrer",children:"About dependency tracking"})})})]})]})}),(0,a.jsx)(E.A,{variant:"destructive",size:"small",visible:(null==(f=v.confirmationDialog)?void 0:f.type)==="table",title:(0,a.jsx)("span",{className:"break-words",children:'Confirm deletion of table "'.concat(null==g?void 0:g.name,'"')}),confirmLabel:"Delete",confirmLabelLoading:"Deleting",onCancel:()=>{v.closeConfirmationDialog()},onConfirm:G,"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"DeleteConfirmationDialogs.tsx",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Are you sure you want to delete the selected table? This action cannot be undone."}),(0,a.jsx)(k.A,{label:"Drop table with cascade?",description:"Deletes the table and its dependent objects",checked:Q,onChange:()=>v.toggleConfirmationIsWithCascade(!Q),"data-sentry-element":"Checkbox","data-sentry-source-file":"DeleteConfirmationDialogs.tsx"}),Q&&(0,a.jsxs)(R.Fc,{variant:"warning",children:[(0,a.jsx)(R.XL,{children:"Warning: Dropping with cascade may result in unintended consequences"}),(0,a.jsx)(R.TN,{children:"All dependent objects will be removed, as will any objects that depend on them, recursively."}),(0,a.jsx)(R.TN,{className:"mt-4",children:(0,a.jsx)(T.$,{asChild:!0,size:"tiny",type:"default",icon:(0,a.jsx)(n.A,{}),children:(0,a.jsx)(r(),{href:"https://www.postgresql.org/docs/current/ddl-depend.html",target:"_blank",rel:"noreferrer",children:"About dependency tracking"})})})]})]})}),(0,a.jsx)(E.A,{variant:"destructive",size:"small",visible:(null==(x=v.confirmationDialog)?void 0:x.type)==="row",title:(0,a.jsxs)("p",{className:"break-words",children:[(0,a.jsx)("span",{children:"Confirm to delete the selected row"}),(0,a.jsx)("span",{children:$>1&&"s"})]}),confirmLabel:"Delete",confirmLabelLoading:"Deleting",onCancel:()=>v.closeConfirmationDialog(),onConfirm:()=>Y(),loading:B||F||W,"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"DeleteConfirmationDialogs.tsx",children:(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:[(0,a.jsx)("span",{children:"Are you sure you want to delete "}),(0,a.jsxs)("span",{children:[q?"all":"the selected"," "]}),(0,a.jsx)("span",{children:$>1&&"".concat($," ")}),(0,a.jsx)("span",{children:"row"}),(0,a.jsx)("span",{children:$>1&&"s"}),(0,a.jsx)("span",{children:"? This action cannot be undone."})]})})})]})}},15478:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var a=l(80263),n=l(46115),s=l(53239),r=l(70800);let i=e=>{var t,l,i;let{defaultActiveId:o,activeId:c,type:d="pills",size:m="tiny",block:u,onChange:f,onClick:x,scrollable:h,wrappable:p,addOnBefore:g,addOnAfter:y,listClassNames:b,baseClassNames:j,refs:v,children:w}=e,N=s.Children.toArray(w),[S,C]=(0,s.useState)(null!=(i=null!=c?c:o)?i:null==N||null==(l=N[0])||null==(t=l.props)?void 0:t.id);(0,s.useMemo)(()=>{c&&c!==S&&C(c)},[c]);let A=(0,r.A)("tabs");function _(e){null==x||x(e),e!==S&&(null==f||f(e),C(e))}let D=[A[d].list];return h&&D.push(A.scrollable),p&&D.push(A.wrappable),b&&D.push(b),(0,a.jsxs)(n.bL,{value:S,className:[A.base,j].join(" "),ref:null==v?void 0:v.base,"data-sentry-element":"TabsPrimitive.Root","data-sentry-component":"Tabs","data-sentry-source-file":"Tabs.tsx",children:[(0,a.jsxs)(n.B8,{className:D.join(" "),ref:null==v?void 0:v.list,"data-sentry-element":"TabsPrimitive.List","data-sentry-source-file":"Tabs.tsx",children:[g,N.map(e=>{let t=S===e.props.id,l=[A[d].base,A.size[m]];return t?l.push(A[d].active):l.push(A[d].inactive),u&&l.push(A.block),(0,a.jsxs)(n.l9,{onKeyDown:t=>{"Enter"===t.key&&(t.preventDefault(),_(e.props.id))},onClick:()=>_(e.props.id),value:e.props.id,className:l.join(" "),children:[e.props.icon,(0,a.jsx)("span",{children:e.props.label}),e.props.iconRight]},"".concat(e.props.id,"-tab-button"))}),y]}),N]})};i.Panel=e=>{let{children:t,id:l,className:s}=e,i=(0,r.A)("tabs");return(0,a.jsx)(n.UC,{value:l,className:[i.content,s].join(" "),"data-sentry-element":"TabsPrimitive.Content","data-sentry-component":"Panel","data-sentry-source-file":"Tabs.tsx",children:t})};let o=i},20814:(e,t,l)=>{"use strict";l.d(t,{H:()=>a.A});var a=l(78362)},24771:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var a=l(80263);l(53239);let n=function(e){let{children:t,target:l="_blank",href:n,className:s,onClick:r,style:i}=e;return(0,a.jsx)("a",{onClick:r,href:n,target:l,rel:"noopener noreferrer",style:i,"data-sentry-component":"Link","data-sentry-source-file":"Link.tsx",children:t})}},36760:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(15740).A)("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]])},43242:(e,t,l)=>{"use strict";l.d(t,{Ay:()=>f});var a=l(80263),n=l(53239),s=l(70800),r=l(51500),i=l(24771);function o(e){let{children:t,className:l,tag:n="div",style:s}=e;return(0,a.jsx)("".concat(n),{style:s,"data-sentry-element":"CustomTag","data-sentry-component":"Typography","data-sentry-source-file":"Typography.tsx",children:t})}o.Title=function(e){let{className:t,level:l=1,children:n,style:s}=e;return(0,a.jsx)("h".concat(l),{style:s,"data-sentry-element":"CustomTag","data-sentry-component":"Title","data-sentry-source-file":"Title.tsx",children:n})},o.Text=function(e){let{className:t,children:l,style:n,type:s,disabled:r,mark:i,code:o,keyboard:c,underline:d,strikethrough:m,strong:u,small:f}=e;return o?(0,a.jsx)("code",{style:n,children:l}):i?(0,a.jsx)("mark",{style:n,children:l}):c?(0,a.jsx)("kbd",{style:n,children:l}):u?(0,a.jsx)("strong",{style:n,children:l}):(0,a.jsx)("span",{style:n,"data-sentry-component":"Text","data-sentry-source-file":"Text.tsx",children:l})},o.Link=i.A;let c=(0,n.createContext)({type:"text"}),d=e=>{let{type:t}=e;return(0,a.jsx)(c.Provider,{value:{type:t},"data-sentry-element":"MenuContext.Provider","data-sentry-component":"MenuContextProvider","data-sentry-source-file":"MenuContext.tsx",children:e.children})},m=()=>{let e=(0,n.useContext)(c);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function u(e){let{children:t,className:l,ulClassName:n,style:s,type:r="text"}=e;return(0,a.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:l,style:s,"data-sentry-component":"Menu","data-sentry-source-file":"Menu.tsx",children:(0,a.jsx)(d,{type:r,"data-sentry-element":"MenuContextProvider","data-sentry-source-file":"Menu.tsx",children:(0,a.jsx)("ul",{className:n,children:t})})})}u.Item=function(e){let{children:t,icon:l,active:n,rounded:i,onClick:o,doNotCloseOverlay:c=!1,showActiveBar:d=!1,style:u}=e,f=(0,s.A)("menu"),{type:x}=m(),h=[f.item.base];h.push(f.item.variants[x].base),n?h.push(f.item.variants[x].active):h.push(f.item.variants[x].normal);let p=[f.item.content.base];n?p.push(f.item.content.active):p.push(f.item.content.normal);let g=[f.item.icon.base];return n?g.push(f.item.icon.active):g.push(f.item.icon.normal),(0,a.jsxs)("li",{role:"menuitem",className:(0,r.cn)("outline-none",h),style:u,onClick:o,"aria-current":n?"page":void 0,"data-sentry-component":"Item","data-sentry-source-file":"Menu.tsx",children:[l&&(0,a.jsx)("div",{className:"".concat(g.join(" ")," min-w-fit"),children:l}),(0,a.jsx)("span",{className:p.join(" "),children:t})]})},u.Group=function(e){let{children:t,icon:l,title:n}=e,r=(0,s.A)("menu"),{type:i}=m();return(0,a.jsxs)("div",{className:[r.group.base,r.group.variants[i]].join(" "),"data-sentry-component":"Group","data-sentry-source-file":"Menu.tsx",children:[l&&(0,a.jsx)("span",{className:r.group.icon,children:l}),(0,a.jsx)("span",{className:r.group.content,children:n}),t]})},u.Misc=function(e){let{children:t}=e;return(0,a.jsx)("div",{"data-sentry-component":"Misc","data-sentry-source-file":"Menu.tsx",children:(0,a.jsx)(o.Text,{"data-sentry-element":"Typography.Text","data-sentry-source-file":"Menu.tsx",children:(0,a.jsx)("span",{children:t})})})};let f=u},46221:(e,t,l)=>{"use strict";l.d(t,{A:()=>p});var a=l(80263),n=l(24400),s=l(75232),r=l(72035),i=l(90226),o=l(91435),c=l(20438),d=l(97600),m=l(5483),u=l(52361),f=l(31533),x=l(97175);let h=()=>{let{data:e}=(0,m.YA)(),t=(0,n.useRouter)().pathname.split("/")[4],{data:l}=(0,o.z)({projectRef:null==e?void 0:e.ref,connectionString:null==e?void 0:e.connectionString}),{data:u}=(0,c.Q)({projectRef:null==e?void 0:e.ref}),f=void 0!==(null!=l?l:[]).find(e=>"pg_net"===e.name),h=(null==u?void 0:u.selected_addons.find(e=>"pitr"===e.type))!==void 0,p=(0,r.p4)(),g=(0,s._P)("enablePgReplicate"),{databaseReplication:y,databaseRoles:b}=(0,d.x)(["database:replication","database:roles"]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.l,{page:t,menu:(0,x.k)(e,{pgNetExtensionExists:f,pitrEnabled:h,columnLevelPrivileges:p,enablePgReplicate:g,showPgReplicate:y,showRoles:b}),"data-sentry-element":"ProductMenu","data-sentry-source-file":"DatabaseLayout.tsx"})})},p=(0,u.r)(e=>{let{children:t}=e;return(0,a.jsx)(f.A,{product:"Database",productMenu:(0,a.jsx)(h,{}),isBlocking:!1,"data-sentry-element":"ProjectLayout","data-sentry-component":"DatabaseLayout","data-sentry-source-file":"DatabaseLayout.tsx",children:t})})},73047:(e,t,l)=>{"use strict";l.d(t,{A:()=>c});var a=l(80263),n=l(15601),s=l.n(n),r=l(43242),i=l(2119),o=l(40022);let c=e=>{let{name:t="",isActive:l,isExternal:n,icon:c,rightIcon:d,url:m="",target:u="_self",onClick:f,textClassName:x="",hoverText:h="",label:p}=e,g=(0,a.jsx)(r.Ay.Item,{icon:c,rounded:!0,active:l,onClick:f,children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,a.jsxs)("div",{title:h||("string"==typeof t?t:""),className:"flex items-center gap-2 truncate w-full "+x,children:[(0,a.jsxs)("span",{className:"truncate",children:[t," "]}),void 0!==p&&(0,a.jsx)(i.E,{variant:"warning",className:"py-0 px-1.5 capitalize",children:p})]}),d&&(0,a.jsx)("div",{children:d})]})});return m?n?(0,a.jsx)(o.$,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:c,children:(0,a.jsx)(s(),{href:m,target:"_blank",rel:"noreferrer",children:t})}):(0,a.jsx)(s(),{href:m,className:"block",target:u,children:g}):g}},76879:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>ey});var a=l(80263),n=l(53239),s=l(75232),r=l(60045),i=l(83927),o=l.n(i),c=l(51935),d=l(75189),m=l(3689),u=l(36760),f=l(81774),x=l(80903),h=l(25643),p=l(92779),g=l(26587),y=l(11192),b=l(29012),j=l(17089),v=l(15601),w=l.n(v),N=l(24400),S=l(20313),C=l(88602),A=l(64711),_=l(79015),D=l(90437),k=l(91063),R=l(85265),T=l(56947),E=l(65172),L=l(35930),z=l(89811);async function I(e,t){let{projectRef:l,connectionString:a,schema:n}=e;if(!l)throw Error("projectRef is required");let s=new Headers;a&&s.set("x-connection-encrypted",a);let{data:r,error:i}=await (0,E.Jt)("/platform/pg-meta/{ref}/foreign-tables",{params:{header:{"x-connection-encrypted":a,"x-pg-application-name":z.r},path:{ref:l},query:{included_schemas:n||"",include_columns:!0}},headers:s,signal:t});return i&&(0,E.H4)(i),r}let M=function(e){let{projectRef:t,connectionString:l,schema:a}=e,{enabled:n=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,T.I)(a?L.x.listBySchema(t,a):L.x.list(t),e=>{let{signal:n}=e;return I({projectRef:t,connectionString:l,schema:a},n)},{enabled:n&&void 0!==t,...s})},F={list:e=>["projects",e,"materializedViews"],listBySchema:(e,t)=>[...F.list(e),t]};async function H(e,t){let{projectRef:l,connectionString:a,schema:n}=e;if(!l)throw Error("projectRef is required");let s=new Headers;a&&s.set("x-connection-encrypted",a);let{data:r,error:i}=await (0,E.Jt)("/platform/pg-meta/{ref}/materialized-views",{params:{header:{"x-connection-encrypted":a,"x-pg-application-name":z.r},path:{ref:l},query:{included_schemas:n||"",include_columns:!0}},headers:s,signal:t});return i&&(0,E.H4)(i),r}let W=function(e){let{projectRef:t,connectionString:l,schema:a}=e,{enabled:n=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,T.I)(a?F.listBySchema(t,a):F.list(t),e=>{let{signal:n}=e;return H({projectRef:t,connectionString:l,schema:a},n)},{enabled:n&&void 0!==t,staleTime:0,...s})};var P=l(88338),B=l(9319),q=l(69108);async function $(e,t){let{projectRef:l,connectionString:a,schema:n}=e;if(!l)throw Error("projectRef is required");let s=new Headers;a&&s.set("x-connection-encrypted",a);let{data:r,error:i}=await (0,E.Jt)("/platform/pg-meta/{ref}/views",{params:{header:{"x-connection-encrypted":a,"x-pg-application-name":z.r},path:{ref:l},query:{included_schemas:n||""}},headers:s,signal:t});return i&&(0,E.H4)(i),r}let Q=function(e){let{projectRef:t,connectionString:l,schema:a}=e,{enabled:n=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,T.I)(a?q.k.listBySchema(t,a):q.k.list(t),e=>{let{signal:n}=e;return $({projectRef:t,connectionString:l,schema:a},n)},{enabled:n&&void 0!==t,staleTime:0,...s})};var O=l(75019),G=l(86505),V=l(5483),Y=l(56776),X=l(9681),Z=l(40022),U=l(74245),J=l(19428),K=l(95708),ee=l(82228),et=l(3434),el=l(30435),ea=l(51500),en=l(71139),es=l(91746);let er=e=>{let{tables:t=[],views:l=[],materializedViews:a=[],foreignTables:n=[]}=e,s=t.map(e=>{var t;return{...e,type:R.z.TABLE,rows:e.live_rows_estimate,columns:null!=(t=e.columns)?t:[]}}),r=l.map(e=>{var t;return{type:R.z.VIEW,id:e.id,name:e.name,comment:e.comment,rows:void 0,size:void 0,columns:null!=(t=e.columns)?t:[]}});return[...s,...r,...a.map(e=>{var t;return{type:R.z.MATERIALIZED_VIEW,id:e.id,name:e.name,comment:e.comment,rows:void 0,size:void 0,columns:null!=(t=e.columns)?t:[]}}),...n.map(e=>{var t;return{type:R.z.FOREIGN_TABLE,id:e.id,name:e.name,comment:e.comment,rows:void 0,size:void 0,columns:null!=(t=e.columns)?t:[]}})].sort((e,t)=>e.name.localeCompare(t.name))},ei=e=>{let{onDuplicateTable:t,onAddTable:l=o(),onEditTable:i=o(),onDeleteTable:v=o()}=e,T=(0,N.useRouter)(),{ref:E}=(0,s.g)(),{data:L}=(0,V.YA)(),z=(0,P.li)(),{selectedSchema:I,setSelectedSchema:F}=(0,G.k)(),[H,q]=(0,n.useState)(""),[$,ei]=(0,n.useState)(Object.values(R.z)),{can:eo}=(0,O.hl)(r.aG.TENANT_SQL_ADMIN_WRITE,"tables"),{data:ec,error:ed,isError:em,isLoading:eu,isSuccess:ef}=(0,B.LW)({projectRef:null==L?void 0:L.ref,connectionString:null==L?void 0:L.connectionString,schema:I,sortByProperty:"name",includeColumns:!0},{select:e=>0===H.length?e:e.filter(e=>e.name.toLowerCase().includes(H.toLowerCase()))}),{data:ex,error:eh,isError:ep,isLoading:eg,isSuccess:ey}=Q({projectRef:null==L?void 0:L.ref,connectionString:null==L?void 0:L.connectionString,schema:I},{select:e=>0===H.length?e:e.filter(e=>e.name.toLowerCase().includes(H.toLowerCase()))}),{data:eb,error:ej,isError:ev,isLoading:ew,isSuccess:eN}=W({projectRef:null==L?void 0:L.ref,connectionString:null==L?void 0:L.connectionString,schema:I},{select:e=>0===H.length?e:e.filter(e=>e.name.toLowerCase().includes(H.toLowerCase()))}),{data:eS,error:eC,isError:eA,isLoading:e_,isSuccess:eD}=M({projectRef:null==L?void 0:L.ref,connectionString:null==L?void 0:L.connectionString,schema:I},{select:e=>0===H.length?e:e.filter(e=>e.name.toLowerCase().includes(H.toLowerCase()))}),{data:ek}=(0,k._)({projectRef:null==L?void 0:L.ref,connectionString:null==L?void 0:L.connectionString}),eR=(null!=ek?ek:[]).find(e=>"supabase_realtime"===e.name),eT=er({tables:ec,views:ex,materializedViews:eb,foreignTables:eS}).filter(e=>$.includes(e.type)),{isSchemaLocked:eE}=(0,Y.BQ)({schema:I}),eL=e=>{var t,l,a,n;return null==(n=Object.entries(R.z).find(t=>{let[,l]=t;return l===e}))||null==(a=n[0])||null==(l=a.toLowerCase())||null==(t=l.split("_"))?void 0:t.join(" ")};return(0,a.jsxs)("div",{className:"flex flex-col gap-y-4","data-sentry-component":"TableList","data-sentry-source-file":"TableList.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-2 flex-wrap",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(_.A,{className:"flex-grow lg:flex-grow-0 w-[180px]",size:"tiny",showError:!1,selectedSchemaName:I,onSelectSchema:F,"data-sentry-element":"SchemaSelector","data-sentry-source-file":"TableList.tsx"}),(0,a.jsxs)(X.AM,{"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"TableList.tsx",children:[(0,a.jsx)(X.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"TableList.tsx",children:(0,a.jsx)(Z.$,{size:"tiny",type:5!==$.length?"default":"dashed",className:"px-1",icon:(0,a.jsx)(c.A,{}),"data-sentry-element":"Button","data-sentry-source-file":"TableList.tsx"})}),(0,a.jsx)(X.hl,{className:"p-0 w-56",side:"bottom",align:"center",portal:!0,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"TableList.tsx",children:(0,a.jsxs)("div",{className:"px-3 pt-3 pb-2 flex flex-col gap-y-2",children:[(0,a.jsx)("p",{className:"text-xs",children:"Show entity types"}),(0,a.jsx)("div",{className:"flex flex-col",children:Object.entries(R.z).map(e=>{let[t,l]=e;return(0,a.jsxs)("div",{className:"group flex items-center justify-between py-0.5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)(U.S,{id:t,name:t,checked:$.includes(l),onCheckedChange:()=>{$.includes(l)?ei($.filter(e=>e!==l)):ei($.concat([l]))}}),(0,a.jsx)(J.J,{htmlFor:t,className:"capitalize text-xs",children:t.toLowerCase().replace("_"," ")})]}),(0,a.jsx)(Z.$,{size:"tiny",type:"default",onClick:()=>ei([l]),className:"transition opacity-0 group-hover:opacity-100 h-auto px-1 py-0.5",children:"Select only"})]},t)})})]})})]})]}),(0,a.jsxs)("div",{className:"flex flex-grow justify-between gap-2 items-center",children:[(0,a.jsx)(K.A,{size:"tiny",className:"flex-grow lg:flex-grow-0 w-52",placeholder:"Search for a table",value:H,onChange:e=>q(e.target.value),icon:(0,a.jsx)(d.A,{size:12}),"data-sentry-element":"Input","data-sentry-source-file":"TableList.tsx"}),!eE&&(0,a.jsx)(C.G,{className:"w-auto ml-auto",icon:(0,a.jsx)(m.A,{}),disabled:!eo,onClick:()=>l(),tooltip:{content:{side:"bottom",text:eo?void 0:"You need additional permissions to create tables"}},children:"New table"})]})]}),eE&&(0,a.jsx)(es.i,{schema:I,entity:"tables"}),(eu||eg||ew||e_)&&(0,a.jsx)(D.y,{}),(em||ep||ev||eA)&&(0,a.jsx)(S.A,{error:ed||eh||ej||eC,subject:"Failed to retrieve tables"}),ef&&ey&&eN&&eD&&(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(ee.Zp,{children:(0,a.jsxs)(et.XI,{children:[(0,a.jsx)(et.A0,{children:(0,a.jsxs)(et.Hj,{children:[(0,a.jsx)(et.nd,{className:"!px-0"},"icon"),(0,a.jsx)(et.nd,{children:"Name"},"name"),(0,a.jsx)(et.nd,{className:"hidden lg:table-cell",children:"Description"},"description"),(0,a.jsx)(et.nd,{className:"hidden text-right xl:table-cell",children:"Rows (Estimated)"},"rows"),(0,a.jsx)(et.nd,{className:"hidden text-right xl:table-cell",children:"Size (Estimated)"},"size"),(0,a.jsx)(et.nd,{className:"hidden xl:table-cell text-center",children:"Realtime Enabled"},"realtime"),(0,a.jsx)(et.nd,{},"buttons")]})}),(0,a.jsx)(et.BF,{children:(0,a.jsxs)(a.Fragment,{children:[0===eT.length&&0===H.length&&(0,a.jsx)(et.Hj,{children:(0,a.jsx)(et.nA,{colSpan:7,children:0===$.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-sm text-foreground",children:"Please select at least one entity type to filter with"}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"There are currently no results based on the filter that you have applied"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-sm text-foreground",children:"No tables created yet"}),(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:["There are no"," ",5===$.length?"tables":1===$.length?"".concat(eL($[0]),"s"):"".concat($.slice(0,-1).map(e=>"".concat(eL(e),"s")).join(", "),", and ").concat(eL($[$.length-1]),"s")," ",'found in the schema "',I,'"']})]})})},I),0===eT.length&&H.length>0&&(0,a.jsx)(et.Hj,{children:(0,a.jsxs)(et.nA,{colSpan:7,children:[(0,a.jsx)("p",{className:"text-sm text-foreground",children:"No results found"}),(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:['Your search for "',H,'" did not return any results']})]})},I),eT.length>0&&eT.map(e=>{var l,n,s,r;return(0,a.jsxs)(et.Hj,{children:[(0,a.jsx)(et.nA,{className:"!pl-5 !pr-1",children:(0,a.jsxs)(el.m_,{children:[(0,a.jsx)(el.k$,{asChild:!0,children:e.type===R.z.TABLE?(0,a.jsx)(u.A,{size:15,strokeWidth:1.5,className:"text-foreground-lighter"}):e.type===R.z.VIEW?(0,a.jsx)(f.A,{size:15,strokeWidth:1.5,className:"text-foreground-lighter"}):(0,a.jsx)("div",{className:(0,ea.cn)("flex items-center justify-center text-xs h-4 w-4 rounded-[2px] font-bold",e.type===R.z.FOREIGN_TABLE&&"text-yellow-900 bg-yellow-500",e.type===R.z.MATERIALIZED_VIEW&&"text-purple-1000 bg-purple-500"),children:null==(s=Object.entries(R.z).find(t=>{let[,l]=t;return l===e.type}))||null==(n=s[0])||null==(l=n[0])?void 0:l.toUpperCase()})}),(0,a.jsx)(el.ZI,{side:"bottom",className:"capitalize",children:eL(e.type)})]})}),(0,a.jsx)(et.nA,{children:e.name.length>20?(0,a.jsxs)(el.m_,{disableHoverableContent:!0,children:[(0,a.jsx)(el.k$,{asChild:!0,className:"max-w-[95%] overflow-hidden text-ellipsis whitespace-nowrap",children:(0,a.jsx)("p",{children:e.name})}),(0,a.jsx)(el.ZI,{side:"bottom",children:e.name})]}):(0,a.jsx)("p",{children:e.name})}),(0,a.jsx)(et.nA,{className:"hidden lg:table-cell ",children:null!==e.comment?(0,a.jsx)("span",{className:"lg:max-w-48 truncate inline-block",title:e.comment,children:e.comment}):(0,a.jsx)("p",{className:"text-border-stronger",children:"No description"})}),(0,a.jsx)(et.nA,{className:"hidden text-right xl:table-cell",children:void 0!==e.rows?e.rows.toLocaleString():"-"}),(0,a.jsx)(et.nA,{className:"hidden text-right xl:table-cell",children:void 0!==e.size?(0,a.jsx)("code",{className:"text-xs",children:e.size}):"-"}),(0,a.jsx)(et.nA,{className:"hidden xl:table-cell text-center",children:(null!=(r=null==eR?void 0:eR.tables)?r:[]).find(t=>t.id===e.id)?(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(x.A,{size:18,strokeWidth:2,className:"text-brand"})}):(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(h.A,{size:18,strokeWidth:2,className:"text-foreground-lighter"})})}),(0,a.jsx)(et.nA,{children:(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(Z.$,{asChild:!0,type:"default",iconRight:(0,a.jsx)(p.A,{size:14,className:"text-foreground-light"}),className:"whitespace-nowrap hover:border-muted",style:{paddingTop:3,paddingBottom:3},children:(0,a.jsxs)(w(),{href:"/project/".concat(E,"/database/tables/").concat(e.id),children:[e.columns.length," columns"]})}),!eE&&(0,a.jsxs)(en.rI,{children:[(0,a.jsx)(en.ty,{asChild:!0,children:(0,a.jsx)(Z.$,{type:"default",className:"px-1",icon:(0,a.jsx)(g.A,{})})}),(0,a.jsxs)(en.SQ,{side:"bottom",align:"end",className:"w-40",children:[(0,a.jsxs)(en._2,{className:"flex items-center space-x-2",onClick:()=>T.push("/project/".concat(null==L?void 0:L.ref,"/editor/").concat(e.id)),onMouseEnter:()=>z({id:e.id?String(e.id):void 0}),children:[(0,a.jsx)(f.A,{size:12}),(0,a.jsx)("p",{children:"View in Table Editor"})]}),e.type===R.z.TABLE&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(en.mB,{}),(0,a.jsxs)(A.x,{className:"gap-x-2",disabled:!eo,onClick:()=>{eo&&i(e)},tooltip:{content:{side:"left",text:"You need additional permissions to edit this table"}},children:[(0,a.jsx)(y.A,{size:12}),(0,a.jsx)("p",{children:"Edit table"})]}),(0,a.jsxs)(A.x,{className:"gap-x-2",disabled:!eo,onClick:()=>{eo&&t(e)},tooltip:{content:{side:"left",text:"You need additional permissions to duplicate tables"}},children:[(0,a.jsx)(b.A,{size:12}),(0,a.jsx)("span",{children:"Duplicate Table"})]},"duplicate-table"),(0,a.jsx)(en.mB,{}),(0,a.jsxs)(A.x,{disabled:!eo||eE,className:"gap-x-2",onClick:()=>{eo&&!eE&&v({...e,schema:I})},tooltip:{content:{side:"left",text:"You need additional permissions to delete tables"}},children:[(0,a.jsx)(j.A,{size:12}),(0,a.jsx)("p",{children:"Delete table"})]})]})]})]})]})})]},e.id)})]})})]})})})]})};var eo=l(20814),ec=l(15301),ed=l(46221),em=l(96232),eu=l(92882),ef=l(92512),ex=l(41728),eh=l(79033),ep=l(67920);let eg=()=>{let{ref:e}=(0,s.g)(),t=(0,eh.ap)(),[l,r]=(0,n.useState)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eu.eh,{"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"index.tsx",children:(0,a.jsx)(eu.gu,{"data-sentry-element":"ScaffoldSection","data-sentry-source-file":"index.tsx",children:(0,a.jsxs)("div",{className:"col-span-12",children:[(0,a.jsx)(ef.M,{title:"Database Tables","data-sentry-element":"FormHeader","data-sentry-source-file":"index.tsx"}),(0,a.jsx)(ei,{onAddTable:t.onAddTable,onEditTable:e=>{r((0,ex.ID)(e)),t.onEditTable()},onDeleteTable:e=>{r((0,ex.ID)(e)),t.onDeleteTable()},onDuplicateTable:e=>{r((0,ex.ID)(e)),t.onDuplicateTable()},"data-sentry-element":"TableList","data-sentry-source-file":"index.tsx"})]})})}),void 0!==e&&void 0!==l&&(0,ex.KO)(l)&&(0,a.jsx)(ep.HQ,{projectRef:e,table:l,children:(0,a.jsx)(ec.A,{selectedTable:l})},"table-editor-table-".concat(l.id)),(0,a.jsx)(eo.H,{includeColumns:!0,selectedTable:l,"data-sentry-element":"SidePanelEditor","data-sentry-source-file":"index.tsx"})]})};eg.getLayout=e=>(0,a.jsx)(em.A,{children:(0,a.jsx)(ed.A,{title:"Database",children:e})});let ey=eg},79015:(e,t,l)=>{"use strict";l.d(t,{A:()=>y});var a=l(80263),n=l(60045),s=l(96572),r=l(80903),i=l(3689),o=l(53239),c=l(63604),d=l(75019),m=l(5483),u=l(40022),f=l(53555),x=l(1012),h=l(9681),p=l(61965),g=l(38417);let y=e=>{let{className:t,disabled:l=!1,size:y="tiny",showError:b=!0,selectedSchemaName:j,supportSelectAll:v=!1,excludedSchemas:w=[],onSelectSchema:N,onSelectCreateSchema:S,portal:C=!0,align:A="start"}=e,[_,D]=(0,o.useState)(!1),{can:k}=(0,d.hl)(n.aG.TENANT_SQL_ADMIN_WRITE,"schemas"),{data:R}=(0,m.YA)(),{data:T,isLoading:E,isSuccess:L,isError:z,error:I,refetch:M}=(0,c.w$)({projectRef:null==R?void 0:R.ref,connectionString:null==R?void 0:R.connectionString}),F=(T||[]).filter(e=>!w.includes(e.name)).sort((e,t)=>e.name.localeCompare(t.name));return(0,a.jsxs)("div",{className:t,"data-sentry-component":"SchemaSelector","data-sentry-source-file":"SchemaSelector.tsx",children:[E&&(0,a.jsx)(u.$,{type:"default",className:"w-full [&>span]:w-full",size:y,disabled:!0,children:(0,a.jsx)(f.E,{className:"w-full h-3 bg-foreground-muted"})},"schema-selector-skeleton"),b&&z&&(0,a.jsxs)(x.Fc,{variant:"warning",className:"!px-3 !py-3",children:[(0,a.jsx)(x.XL,{className:"text-xs text-amber-900",children:"Failed to load schemas"}),(0,a.jsxs)(x.TN,{className:"text-xs mb-2 break-words",children:["Error: ",null==I?void 0:I.message]}),(0,a.jsx)(u.$,{type:"default",size:"tiny",onClick:()=>M(),children:"Reload schemas"})]}),L&&(0,a.jsxs)(h.AM,{open:_,onOpenChange:D,modal:!1,children:[(0,a.jsx)(h.Wv,{asChild:!0,children:(0,a.jsx)(u.$,{size:y,disabled:l,type:"default","data-testid":"schema-selector",className:"w-full [&>span]:w-full !pr-1 space-x-1",iconRight:(0,a.jsx)(s.A,{className:"text-foreground-muted",strokeWidth:2,size:14}),children:j?(0,a.jsxs)("div",{className:"w-full flex gap-1",children:[(0,a.jsx)("p",{className:"text-foreground-lighter",children:"schema"}),(0,a.jsx)("p",{className:"text-foreground",children:"*"===j?"All schemas":j})]}):(0,a.jsx)("div",{className:"w-full flex gap-1",children:(0,a.jsx)("p",{className:"text-foreground-lighter",children:"Choose a schema…"})})})}),(0,a.jsx)(h.hl,{className:"p-0 min-w-[200px] pointer-events-auto",side:"bottom",align:A,portal:C,sameWidthAsTrigger:!0,children:(0,a.jsxs)(p.uB,{children:[(0,a.jsx)(p.G7,{placeholder:"Find schema..."}),(0,a.jsxs)(p.oI,{children:[(0,a.jsx)(p.xL,{children:"No schemas found"}),(0,a.jsx)(p.L$,{children:(0,a.jsxs)(g.FK,{className:(F||[]).length>7?"h-[210px]":"",children:[v&&(0,a.jsxs)(p.h_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{N("*"),D(!1)},onClick:()=>{N("*"),D(!1)},children:[(0,a.jsx)("span",{children:"All schemas"}),"*"===j&&(0,a.jsx)(r.A,{className:"text-brand",strokeWidth:2,size:16})]},"select-all"),null==F?void 0:F.map(e=>(0,a.jsxs)(p.h_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{N(e.name),D(!1)},onClick:()=>{N(e.name),D(!1)},children:[(0,a.jsx)("span",{children:e.name}),j===e.name&&(0,a.jsx)(r.A,{className:"text-brand",strokeWidth:2,size:16})]},e.id))]})}),void 0!==S&&k&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.fx,{}),(0,a.jsx)(p.L$,{children:(0,a.jsxs)(p.h_,{className:"cursor-pointer flex items-center gap-x-2 w-full",onSelect:()=>{S(),D(!1)},onClick:()=>{S(),D(!1)},children:[(0,a.jsx)(i.A,{size:12}),"Create a new schema"]})})]})]})]})})]})]})}},82228:(e,t,l)=>{"use strict";l.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>r,aR:()=>i,wL:()=>m});var a=l(80263),n=l(53239),s=l(51500);let r=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("overflow-hidden rounded-lg border bg-surface-100 text-card-foreground shadow-sm",l),...n})});r.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 py-4 px-6 border-b",l),...n})});i.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-xs font-mono uppercase",l),...n})});o.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-foreground-muted",l),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("py-4 px-6 border-b last:border-none",l),...n})});d.displayName="CardContent";let m=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)(" flex items-center py-4 px-6",l),...n})});m.displayName="CardFooter"},86505:(e,t,l)=>{"use strict";l.d(t,{k:()=>i});var a=l(32466),n=l(53239),s=l(75232);let r=e=>(0,a.ZA)("schema",a.tU.withDefault(e).withOptions({clearOnDefault:!1})),i=()=>{let{ref:e}=(0,s.g)(),t=e&&e.length>0&&window.localStorage.getItem(s.rS.LAST_SELECTED_SCHEMA(e))||"public",[l,a]=r((0,n.useMemo)(()=>t,[e]));return(0,n.useEffect)(()=>{e&&e.length>0&&window.localStorage.setItem(s.rS.LAST_SELECTED_SCHEMA(e),l)},[l,e]),{selectedSchema:l,setSelectedSchema:a}}},90226:(e,t,l)=>{"use strict";l.d(t,{l:()=>i});var a=l(80263),n=l(43242),s=l(2119),r=l(73047);let i=e=>{let{page:t,menu:l}=e;return(0,a.jsx)("div",{className:"flex flex-col space-y-8","data-sentry-component":"ProductMenu","data-sentry-source-file":"ProductMenu.tsx",children:(0,a.jsx)(n.Ay,{type:"pills","data-sentry-element":"Menu","data-sentry-source-file":"ProductMenu.tsx",children:l.map((e,i)=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"my-6 space-y-8",children:(0,a.jsxs)("div",{className:"mx-3",children:[(0,a.jsx)(n.Ay.Group,{title:e.title?(0,a.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,a.jsx)("span",{children:e.title}),e.isPreview&&(0,a.jsx)(s.E,{variant:"warning",children:"Not production ready"})]}):null}),(0,a.jsx)("div",{children:e.items.map(e=>{let l=e.pages?e.pages.includes(null!=t?t:""):t===e.key;return(0,a.jsx)(r.A,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:l,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key)})})]})}),i!==l.length-1&&(0,a.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},91435:(e,t,l)=>{"use strict";l.d(t,{z:()=>d});var a=l(89811),n=l(56947),s=l(65172),r=l(5483),i=l(63492),o=l(28140);async function c(e,t,l){let{projectRef:n,connectionString:r}=e;if(!n)throw Error("projectRef is required");let i=new Headers(l);r&&i.set("x-connection-encrypted",r);let{data:o,error:c}=await (0,s.Jt)("/platform/pg-meta/{ref}/extensions",{params:{header:{"x-connection-encrypted":r,"x-pg-application-name":a.r},path:{ref:n}},headers:i,signal:t});return c&&(0,s.H4)(c),o}let d=function(e){let{projectRef:t,connectionString:l}=e,{enabled:a=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{data:d}=(0,r.YA)(),m=(null==d?void 0:d.status)===i.BU.ACTIVE_HEALTHY;return(0,n.I)(o.I.list(t),e=>{let{signal:a}=e;return c({projectRef:t,connectionString:l},a)},{enabled:a&&void 0!==t&&m,...s})}},92512:(e,t,l)=>{"use strict";l.d(t,{M:()=>r});var a=l(80263),n=l(51500),s=l(62136);let r=e=>{let{title:t,description:l,docsUrl:r,actions:i,className:o}=e;return(0,a.jsxs)("div",{className:(0,n.cn)("w-full mb-6 flex flex-col sm:flex-row md:items-center justify-between gap-4 ".concat(o)),"data-sentry-component":"FormHeader","data-sentry-source-file":"FormHeader.tsx",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h3",{className:"text-foreground text-xl prose",children:t}),l&&(0,a.jsx)("div",{className:"prose text-sm max-w-2xl",children:l})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row md:items-center gap-x-2",children:[void 0!==r&&(0,a.jsx)(s.A,{href:r}),i]})]})}},92779:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(15740).A)("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]])},92882:(e,t,l)=>{"use strict";l.d(t,{BS:()=>i,Dm:()=>d,HJ:()=>b,Rf:()=>g,Uw:()=>c,Vw:()=>w,Xr:()=>v,aw:()=>h,bV:()=>r,cJ:()=>f,dX:()=>m,eh:()=>o,fh:()=>j,gu:()=>u,sZ:()=>x,tn:()=>y,xp:()=>p});var a=l(80263),n=l(53239),s=l(51500);let r="mx-auto w-full max-w-[1200px]",i="px-4 @lg:px-6 @xl:px-10",o=(0,n.forwardRef)((e,t)=>{let{className:l,bottomPadding:n,size:r="default",...o}=e;return(0,a.jsx)("div",{ref:t,...o,className:(0,s.cn)("mx-auto w-full",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[r],i,n&&"pb-16",l)})}),c=(0,n.forwardRef)((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("header",{...n,ref:t,className:(0,s.cn)("w-full","flex-col gap-3 py-6",l)})}),d=(0,n.forwardRef)((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("h1",{ref:t,...n,className:(0,s.cn)(l)})}),m=(0,n.forwardRef)((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("p",{ref:t,...n,className:(0,s.cn)("text-sm text-foreground-light",l)})}),u=(0,n.forwardRef)((e,t)=>{let{className:l,isFullWidth:n,topPadding:r,...i}=e;return(0,a.jsx)("div",{ref:t,...i,className:(0,s.cn)("flex flex-col first:pt-12 py-6",n?"w-full":"gap-3 lg:grid md:grid-cols-12",l)})}),f=(0,n.forwardRef)((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,s.cn)("w-full h-px bg-border",l)})}),x=(0,n.forwardRef)((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("h3",{ref:t,...n,className:(0,s.cn)("text-foreground text-xl",l)})}),h=(0,n.forwardRef)((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("p",{ref:t,...n,className:(0,s.cn)("text-sm text-foreground-light",l)})}),p=(0,n.forwardRef)((e,t)=>{let{className:l,children:n,title:r,...i}=e;return(0,a.jsxs)("div",{ref:t,...i,className:(0,s.cn)("col-span-4 xl:col-span-5 prose text-sm",l),children:[r&&(0,a.jsx)("h2",{children:r}),n]})}),g=(0,n.forwardRef)((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,s.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",l)})}),y=(0,n.forwardRef)((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,s.cn)("flex flex-col gap-3 items-center",l)})}),b=(0,n.forwardRef)((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,s.cn)("flex w-full items-center",l)})}),j=(0,n.forwardRef)((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,s.cn)("flex flex-row gap-3",l)})}),v=(0,n.forwardRef)((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,s.cn)("flex flex-col gap-3","min-w-[420px]",l)})}),w=(0,n.forwardRef)((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,s.cn)(r,i,"my-8 flex flex-col gap-8",l)})});c.displayName="ScaffoldHeader",d.displayName="ScaffoldTitle",m.displayName="ScaffoldDescription",o.displayName="ScaffoldContainer",f.displayName="ScaffoldDivider",u.displayName="ScaffoldSection",v.displayName="ScaffoldColumn",p.displayName="ScaffoldSectionDetail",g.displayName="ScaffoldSectionContent",y.displayName="ScaffoldFilterAndContent",b.displayName="ScaffoldActionsContainer",j.displayName="ScaffoldActionsGroup",w.displayName="ScaffoldContainerLegacy",x.displayName="ScaffoldSectionTitle",h.displayName="ScaffoldSectionDescription"},94118:(e,t,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/database/tables",function(){return l(76879)}])},95083:(e,t,l)=>{"use strict";l.d(t,{x:()=>i});var a=l(80263),n=l(53239),s=l(51500);let r=e=>{let[t,l]=n.useState(!1),[a,s]=n.useState(!1),[r,i]=n.useState(!1);return n.useEffect(()=>{let a=e.current;if(!a)return;let n=()=>{let e=a.scrollWidth>a.clientWidth;if(l(e),e){let e=a.scrollLeft>0,t=a.scrollLeft<a.scrollWidth-a.clientWidth;s(e),i(t)}else s(!1),i(!1)},r=()=>{if(t){let e=a.scrollLeft>0,t=a.scrollLeft<a.scrollWidth-a.clientWidth;s(e),i(t)}};return n(),a.addEventListener("scroll",r),window.addEventListener("resize",n),()=>{a.removeEventListener("scroll",r),window.removeEventListener("resize",n)}},[e,t]),{hasHorizontalScroll:t,canScrollLeft:a,canScrollRight:r}},i=n.forwardRef((e,t)=>{let{className:l,children:i,stickyLastColumn:o,...c}=e,d=n.useRef(null),{hasHorizontalScroll:m,canScrollLeft:u,canScrollRight:f}=r(d),x=(0,s.cn)("[&_td:last-child]:before:absolute [&_td:last-child]:before:top-0 [&_td:last-child]:before:-left-6","[&_td:last-child]:before:bottom-0 [&_td:last-child]:before:w-6 [&_td:last-child]:before:bg-gradient-to-l","[&_td:last-child]:before:from-black/5 dark:[&_td:last-child]:before:from-black/20 [&_td:last-child]:before:to-transparent","[&_td:last-child]:before:opacity-0 [&_td:last-child]:before:transition-all [&_td:last-child]:before:duration-400","[&_td:last-child]:before:easing-[0.24, 0.25, 0.05, 1] [&_td:last-child]:before:z-[60]","[&_th:last-child]:before:absolute [&_th:last-child]:before:top-0 [&_th:last-child]:before:-left-6","[&_th:last-child]:before:bottom-0 [&_th:last-child]:before:w-6 [&_th:last-child]:before:bg-gradient-to-l","[&_th:last-child]:before:from-black/5 dark:[&_th:last-child]:before:from-black/20 [&_th:last-child]:before:to-transparent","[&_th:last-child]:before:opacity-0 [&_th:last-child]:before:transition-all [&_th:last-child]:before:duration-400","[&_th:last-child]:before:easing-[0.24, 0.25, 0.05, 1] [&_th:last-child]:before:z-[60]");return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:(0,s.cn)("absolute inset-0 pointer-events-none z-50","before:absolute before:top-0 before:right-0 before:bottom-0 before:w-6 before:bg-gradient-to-l before:from-black/5 dark:before:from-black/20 before:to-transparent before:opacity-0 before:transition-all before:duration-400 before:easing-[0.24, 0.25, 0.05, 1]","after:absolute after:top-0 after:left-0 after:bottom-0 after:w-6 after:bg-gradient-to-r after:from-black/5 dark:after:from-black/20 after:to-transparent after:opacity-0 after:transition-all after:duration-400 after:easing-[0.24, 0.25, 0.05, 1]",m&&"hover:before:opacity-100 hover:after:opacity-100",f&&"before:opacity-100",u&&"after:opacity-100")}),(0,a.jsx)("div",{ref:d,className:(0,s.cn)("w-full overflow-auto",o&&["[&_tr>*:last-child]:sticky [&_tr>*:last-child]:z-50 [&_tr>*:last-child]:right-0","[&_tr:hover>*:last-child]:bg-transparent","[&_th>*:last-child]:bg-surface-100",x],m&&"[&_tr:hover>td:last-child]:!bg-surface-200",f&&"[&_td]:before:opacity-100 [&_tr>*:last-child]:before:opacity-100 [&_th:last-child]:before:opacity-100",l),...c,children:i})]})});i.displayName="ShadowScrollArea"}},e=>{var t=t=>e(e.s=t);e.O(0,[89,2313,4335,9441,7494,4280,7598,4915,4560,6797,4674,2360,6110,6712,7795,4968,876,5089,9239,1895,3709,5573,9897,6585,279,7460,9839,7686,8343,2690,6232,597,8119,1533,8742,8221,835,636,6593,8792],()=>t(94118)),_N_E=e.O()}]);