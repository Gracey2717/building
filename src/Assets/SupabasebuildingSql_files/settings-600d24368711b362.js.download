try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ca27d199-0a6e-42c4-a7de-593373e2aa0e",e._sentryDebugIdIdentifier="sentry-dbid-ca27d199-0a6e-42c4-a7de-593373e2aa0e")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2101,4986,5125],{107:(e,t,s)=>{var a=s(50117),r=s(94277),n=Object.prototype.hasOwnProperty;e.exports=r(function(e,t,s){n.call(e,s)?e[s].push(t):a(e,s,[t])})},4576:e=>{var t="\ud800-\udfff",s="\\u2700-\\u27bf",a="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",l="['’]",i="["+n+"]",o="["+a+"]",d="[^"+t+n+"\\d+"+s+a+r+"]",c="(?:\ud83c[\udde6-\uddff]){2}",u="[\ud800-\udbff][\udc00-\udfff]",f="["+r+"]",x="(?:"+o+"|"+d+")",m="(?:"+f+"|"+d+")",p="(?:"+l+"(?:d|ll|m|re|s|t|ve))?",h="(?:"+l+"(?:D|LL|M|RE|S|T|VE))?",y="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\ud83c[\udffb-\udfff])?",g="[\\ufe0e\\ufe0f]?",j="(?:\\u200d(?:"+["[^"+t+"]",c,u].join("|")+")"+g+y+")*",v="(?:"+["["+s+"]",c,u].join("|")+")"+(g+y+j),b=RegExp([f+"?"+o+"+"+p+"(?="+[i,f,"$"].join("|")+")",m+"+"+h+"(?="+[i,f+x,"$"].join("|")+")",f+"?"+x+"+"+p,f+"+"+h,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",v].join("|"),"g");e.exports=function(e){return e.match(b)||[]}},5010:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(15740).A)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]])},12101:(e,t,s)=>{"use strict";s.d(t,{M:()=>C});var a=s(80263),r=s(15601),n=s.n(r),l=s(24400),i=s(75232),o=s(51500),d=s(39358),c=s(2119),u=s(40022),f=s(92882),x=s(99846),m=s(53239),p=s(8684),h=s(95043);let y=m.forwardRef((e,t)=>{let{...s}=e;return(0,a.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...s})});y.displayName="Breadcrumb";let g=m.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("ol",{ref:t,className:(0,o.cn)("flex flex-wrap items-center gap-0.5 break-words text-sm text-muted-foreground sm:gap-1.5",s),...r})});g.displayName="BreadcrumbList";let j=m.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("li",{ref:t,className:(0,o.cn)("inline-flex text-foreground-lighter items-center gap-1.5 leading-5",s),...r})});j.displayName="BreadcrumbItem";let v=m.forwardRef((e,t)=>{let{asChild:s,className:r,...n}=e,l=s?p.DX:"a";return(0,a.jsx)(l,{ref:t,className:(0,o.cn)("transition-colors underline lg:no-underline hover:text-foreground",r),...n})});v.displayName="BreadcrumbLink";let b=m.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,o.cn)("no-underline text-foreground",s),...r})});b.displayName="BreadcrumbPage";let N=e=>{let{children:t,className:s,...r}=e;return(0,a.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,o.cn)("[&>svg]:size-3.5",s),...r,"data-sentry-component":"BreadcrumbSeparator","data-sentry-source-file":"breadcrumb.tsx",children:null!=t?t:(0,a.jsx)(h.A,{})})};N.displayName="BreadcrumbSeparator";let S=e=>{let{title:t,subtitle:s,icon:r,breadcrumbs:l=[],primaryActions:d,secondaryActions:c,className:u,isCompact:p=!1}=e,{ref:h}=(0,i.g)(),S=p&&t?[...l,{label:t}]:l;return(0,a.jsxs)("div",{className:(0,o.cn)("space-y-4",u),"data-sentry-component":"PageHeader","data-sentry-source-file":"PageHeader.tsx",children:[(S.length>0||p&&(t||d||c))&&(0,a.jsxs)("div",{className:(0,o.cn)("flex items-center gap-4",p?"justify-between":"mb-4"),children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:l.length>0?(0,a.jsx)(y,{className:(0,o.cn)("text-foreground-muted",p&&"text-base"),children:(0,a.jsxs)(g,{className:p?"text-base":"text-xs",children:[l.map((e,t)=>(0,a.jsxs)(m.Fragment,{children:[(0,a.jsx)(j,{children:e.element?e.element:e.href?(0,a.jsx)(v,{asChild:!0,className:"flex items-center gap-2",children:(0,a.jsxs)(n(),{href:h?e.href.replace("[ref]",h):e.href,children:[1===l.length&&!p&&(0,a.jsx)(x.A,{size:16,strokeWidth:1.5}),e.label]})}):(0,a.jsxs)(b,{className:"flex items-center gap-2",children:[1===l.length&&(0,a.jsx)(x.A,{size:16,strokeWidth:1.5}),e.label]})}),t<l.length-1&&(0,a.jsx)(N,{})]},e.label||"breadcrumb-".concat(t))),p&&t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N,{}),(0,a.jsx)(j,{children:(0,a.jsx)(b,{children:t})})]})]})}):p?t:null}),p&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[c&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:c}),d&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:d})]})]}),!p&&(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[r&&(0,a.jsx)("div",{className:"text-foreground-light",children:r}),(0,a.jsxs)("div",{className:"space-y-1",children:[t&&(0,a.jsx)(f.Dm,{children:t}),s&&(0,a.jsx)(f.dX,{className:"text-sm text-foreground-light",children:s})]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[c&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:c}),d&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:d})]})]})]})},C=e=>{let{children:t,title:s,subtitle:r,icon:x,breadcrumbs:m=[],primaryActions:p,secondaryActions:h,navigationItems:y=[],className:g,size:j="default",isCompact:v=!1}=e,{ref:b}=(0,i.g)(),N=(0,l.useRouter)();return(0,a.jsxs)("div",{className:"w-full min-h-full flex flex-col items-stretch","data-sentry-component":"PageLayout","data-sentry-source-file":"PageLayout.tsx",children:[(0,a.jsxs)(f.eh,{size:j,className:(0,o.cn)("w-full mx-auto","full"===j&&(v?"max-w-none !px-6 border-b pt-4":"max-w-none pt-6 !px-10 border-b"),"full"!==j&&(v?"pt-4":"pt-12"),0===y.length&&"full"===j&&(v?"pb-4":"pb-8"),g),"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"PageLayout.tsx",children:[(s||r||p||h||m.length>0)&&(0,a.jsx)(S,{title:s,subtitle:r,icon:x,breadcrumbs:m,primaryActions:p,secondaryActions:h,isCompact:v}),y.length>0&&(0,a.jsx)(d.h,{className:(0,o.cn)(v?"mt-2":"mt-4","full"===j&&"border-none"),children:y.map(e=>{let t=void 0!==e.active?e.active:N.asPath.split("?")[0]===e.href;return(0,a.jsx)(d.O,{active:t,children:e.href?(0,a.jsxs)(n(),{href:e.href.includes("[ref]")&&b?e.href.replace("[ref]",b):e.href,className:(0,o.cn)("inline-flex items-center gap-2",t&&"text-foreground"),onClick:e.onClick,children:[e.icon&&(0,a.jsx)("span",{children:e.icon}),e.label,e.badge&&(0,a.jsx)(c.E,{variant:"default",children:e.badge})]}):(0,a.jsxs)(u.$,{type:"link",onClick:e.onClick,className:(0,o.cn)(t&&"text-foreground font-medium"),children:[e.icon&&(0,a.jsx)("span",{className:"mr-2",children:e.icon}),e.label,e.badge&&(0,a.jsx)(c.E,{variant:"default",children:e.badge})]})},e.label)})})]}),t]})}},15196:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},19686:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>d});var a={};s.r(a),s.d(a,{BRAND:()=>i.qt,DIRTY:()=>n.jm,EMPTY_PATH:()=>n.I3,INVALID:()=>n.uY,NEVER:()=>i.tm,OK:()=>n.OK,ParseStatus:()=>n.MY,Schema:()=>i.Sj,ZodAny:()=>i.Ml,ZodArray:()=>i.n,ZodBigInt:()=>i.Lr,ZodBoolean:()=>i.WF,ZodBranded:()=>i.eN,ZodCatch:()=>i.hw,ZodDate:()=>i.aP,ZodDefault:()=>i.Xi,ZodDiscriminatedUnion:()=>i.jv,ZodEffects:()=>i.k1,ZodEnum:()=>i.Vb,ZodError:()=>o.G,ZodFirstPartyTypeKind:()=>i.kY,ZodFunction:()=>i.CZ,ZodIntersection:()=>i.Jv,ZodIssueCode:()=>o.eq,ZodLazy:()=>i.Ih,ZodLiteral:()=>i.DN,ZodMap:()=>i.Ut,ZodNaN:()=>i.Tq,ZodNativeEnum:()=>i.WM,ZodNever:()=>i.iS,ZodNull:()=>i.PQ,ZodNullable:()=>i.l1,ZodNumber:()=>i.rS,ZodObject:()=>i.bv,ZodOptional:()=>i.Ii,ZodParsedType:()=>l.Zp,ZodPipeline:()=>i._c,ZodPromise:()=>i.$i,ZodReadonly:()=>i.EV,ZodRecord:()=>i.b8,ZodSchema:()=>i.lK,ZodSet:()=>i.Kz,ZodString:()=>i.ND,ZodSymbol:()=>i.K5,ZodTransformer:()=>i.BG,ZodTuple:()=>i.y0,ZodType:()=>i.aR,ZodUndefined:()=>i._Z,ZodUnion:()=>i.fZ,ZodUnknown:()=>i._,ZodVoid:()=>i.a0,addIssueToContext:()=>n.zn,any:()=>i.bz,array:()=>i.YO,bigint:()=>i.o,boolean:()=>i.zM,coerce:()=>i.au,custom:()=>i.Ie,date:()=>i.p6,datetimeRegex:()=>i.fm,defaultErrorMap:()=>r.su,discriminatedUnion:()=>i.gM,effect:()=>i.QZ,enum:()=>i.k5,function:()=>i.fH,getErrorMap:()=>r.$W,getParsedType:()=>l.CR,instanceof:()=>i.Nl,intersection:()=>i.E$,isAborted:()=>n.G4,isAsync:()=>n.xP,isDirty:()=>n.DM,isValid:()=>n.fn,late:()=>i.fn,lazy:()=>i.RZ,literal:()=>i.eu,makeIssue:()=>n.y7,map:()=>i.Tj,nan:()=>i.oi,nativeEnum:()=>i.fc,never:()=>i.Zm,null:()=>i.ch,nullable:()=>i.me,number:()=>i.ai,object:()=>i.Ik,objectUtil:()=>l.o6,oboolean:()=>i.yN,onumber:()=>i.p7,optional:()=>i.lq,ostring:()=>i.Di,pipeline:()=>i.Tk,preprocess:()=>i.vk,promise:()=>i.iv,quotelessJson:()=>o.WI,record:()=>i.g1,set:()=>i.hZ,setErrorMap:()=>r.pJ,strictObject:()=>i.re,string:()=>i.Yj,symbol:()=>i.HR,transformer:()=>i.Gu,tuple:()=>i.PV,undefined:()=>i.Vx,union:()=>i.KC,unknown:()=>i.L5,util:()=>l.ZS,void:()=>i.rI});var r=s(54686),n=s(93298),l=s(14595),i=s(10663),o=s(63324);let d=a},20680:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(15740).A)("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]])},24863:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(15740).A)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]])},36975:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(15740).A)("Vault",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}],["path",{d:"m7.9 7.9 2.7 2.7",key:"hpeyl3"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}],["path",{d:"m13.4 10.6 2.7-2.7",key:"264c1n"}],["circle",{cx:"7.5",cy:"16.5",r:".5",fill:"currentColor",key:"nkw3mc"}],["path",{d:"m7.9 16.1 2.7-2.7",key:"p81g5e"}],["circle",{cx:"16.5",cy:"16.5",r:".5",fill:"currentColor",key:"fubopw"}],["path",{d:"m13.4 13.4 2.7 2.7",key:"abhel3"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},39358:(e,t,s)=>{"use strict";s.d(t,{O:()=>i,h:()=>l});var a=s(80263),r=s(53239),n=s(51500);let l=(0,r.forwardRef)((e,t)=>(0,a.jsx)("nav",{ref:t,dir:"ltr",...e,className:(0,n.cn)("border-b",e.className),children:(0,a.jsx)("ul",{role:"menu",className:"flex gap-5",children:e.children})})),i=(0,r.forwardRef)((e,t)=>{let{children:s,className:r,active:l,...i}=e;return(0,a.jsx)("li",{ref:t,"aria-selected":l?"true":"false","data-state":l?"active":"inactive",className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap text-sm ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent *:py-1.5",r),...i,children:s})})},42092:(e,t,s)=>{var a=s(48550),r=s(40293),n=s(92479),l=s(50084);e.exports=n(function(e,t){return l(e)?a(e,r(t,1,l,!0)):[]})},43171:e=>{e.exports=function(e,t,s,a){var r=-1,n=null==e?0:e.length;for(a&&n&&(s=e[++r]);++r<n;)s=t(s,e[r],r,e);return s}},48550:(e,t,s)=>{var a=s(45558),r=s(10116),n=s(59568),l=s(71057),i=s(10876),o=s(99582);e.exports=function(e,t,s,d){var c=-1,u=r,f=!0,x=e.length,m=[],p=t.length;if(!x)return m;s&&(t=l(t,i(s))),d?(u=n,f=!1):t.length>=200&&(u=o,f=!1,t=new a(t));e:for(;++c<x;){var h=e[c],y=null==s?h:s(h);if(h=d||0!==h?h:0,f&&y==y){for(var g=p;g--;)if(t[g]===y)continue e;m.push(h)}else u(t,y,d)||m.push(h)}return m}},52793:(e,t,s)=>{e.exports=s(55950)(function(e,t,s){return e+(s?"_":"")+t.toLowerCase()})},53689:(e,t,s)=>{var a=s(57658),r=s(15743),n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,l=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=r(e))&&e.replace(n,a).replace(l,"")}},55950:(e,t,s)=>{var a=s(43171),r=s(53689),n=s(76316),l=RegExp("['’]","g");e.exports=function(e){return function(t){return a(n(r(t).replace(l,"")),e,"")}}},56189:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},57624:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(15740).A)("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},57658:(e,t,s)=>{e.exports=s(56189)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"})},58792:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eb});var a=s(80263),r=s(32981),n=s(60045),l=s(1012),i=s(15601),o=s.n(i),d=s(53239),c=s(87494),u=s(73969),f=s(10663),x=s(75232),m=s(98832),p=s(92882),h=s(87645),y=s(20313),g=s(62136),j=s(98969),v=s(67575),b=s(85278),N=s(32144),S=s(80251),C=s(65172),k=s(47114);async function w(e){let{projectRef:t,fileSizeLimit:s,features:a}=e,{data:r,error:n}=await (0,C.F6)("/platform/projects/{ref}/config/storage",{params:{path:{ref:t}},body:{fileSizeLimit:s,features:a}});return n&&(0,C.H4)(n),r}let A=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,N.jE)();return(0,S.n)(e=>w(e),{async onSuccess(t,s,r){let{projectRef:n}=s;await a.invalidateQueries(k.n.storage(n)),await (null==e?void 0:e(t,s,r))},async onError(e,s,a){void 0===t?u.oR.error("Failed to update storage settings: ".concat(e.message)):t(e,s,a)},...s})};var R=s(56947),z=s(49009),_=s(63492);async function D(e,t){let{projectRef:s}=e;if(!s)throw Error("projectRef is required");let{data:a,error:r}=await (0,C.Jt)("/platform/storage/{ref}/credentials",{params:{path:{ref:s}},signal:t});return r&&(0,C.H4)(r),a}let E=function(e){let{projectRef:t}=e,{enabled:s=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,R.I)(z.A.credentials(t),e=>{let{signal:s}=e;return D({projectRef:t},s)},{enabled:s&&_.pe&&void 0!==t,...a})};var M=s(75019),T=s(5483),Z=s(47452),I=s(82228),L=s(13874),O=s(40022),F=s(86254),P=s(89769),B=s(67258),G=s(27799),W=s(39719),q=s(16838),$=s(30435);let Y=e=>{let{visible:t,onOpenChange:s}=e,{ref:l}=(0,x.g)(),i=(0,m.f)(),[o,u]=(0,d.useState)(!1),p=(0,M.SE)(n.aG.STORAGE_ADMIN_WRITE,"*"),{data:h}=(0,b.I)({projectRef:l}),y=null==h?void 0:h.features.s3Protocol.enabled,g=!i||!p||!y,j=f.Ik({description:f.Yj().min(3,{message:"Description must be at least 3 characters long"})}),v=(0,c.mN)({resolver:(0,r.u)(j),defaultValues:{description:""}}),{data:N,mutate:S,isLoading:C}=(0,W.S)({onSuccess:()=>{u(!0),v.reset()}});async function k(e){S({projectRef:l,...e})}return(0,a.jsxs)(q.lG,{open:t,onOpenChange:e=>{s(e),e||u(!1)},"data-sentry-element":"Dialog","data-sentry-component":"CreateCredentialModal","data-sentry-source-file":"CreateCredentialModal.tsx",children:[(0,a.jsxs)($.m_,{"data-sentry-element":"Tooltip","data-sentry-source-file":"CreateCredentialModal.tsx",children:[(0,a.jsx)($.k$,{asChild:!0,"data-sentry-element":"TooltipTrigger","data-sentry-source-file":"CreateCredentialModal.tsx",children:(0,a.jsx)(q.zM,{asChild:!0,"data-sentry-element":"DialogTrigger","data-sentry-source-file":"CreateCredentialModal.tsx",children:(0,a.jsx)(O.$,{type:"default",disabled:g,className:"pointer-events-auto","data-sentry-element":"Button","data-sentry-source-file":"CreateCredentialModal.tsx",children:"New access key"})})}),g&&(0,a.jsx)($.ZI,{side:"bottom",children:i?y?p?"":"You need additional permissions to create new access keys":"Connection via S3 protocol is currently disabled":"Restore your project to create new access keys"})]}),(0,a.jsx)(q.Cf,{onInteractOutside:e=>{o&&e.preventDefault()},"data-sentry-element":"DialogContent","data-sentry-source-file":"CreateCredentialModal.tsx",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(q.c7,{children:[(0,a.jsx)(q.L3,{children:"Save your new S3 access keys"}),(0,a.jsx)(q.rr,{children:"You won't be able to see them again. If you lose these access keys, you'll need to create a new ones."})]}),(0,a.jsx)(q.pf,{}),(0,a.jsxs)(q.OO,{className:"flex flex-col gap-4",children:[(0,a.jsx)(B.M,{label:"Access key ID",isReactForm:!1,children:(0,a.jsx)(P.p,{className:"input-mono",readOnly:!0,copy:!0,disabled:!0,value:null==N?void 0:N.access_key})}),(0,a.jsx)(B.M,{label:"Secret access key",isReactForm:!1,children:(0,a.jsx)(P.p,{className:"input-mono",readOnly:!0,copy:!0,disabled:!0,value:null==N?void 0:N.secret_key})})]}),(0,a.jsx)(q.Es,{children:(0,a.jsx)(O.$,{onClick:()=>{s(!1),u(!1)},children:"Done"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(q.c7,{children:[(0,a.jsx)(q.L3,{children:"Create new S3 access keys"}),(0,a.jsx)(q.rr,{children:"S3 access keys provide full access to all S3 operations across all buckets and bypass any existing RLS policies."})]}),(0,a.jsx)(q.pf,{}),(0,a.jsx)(Z.lV,{...v,children:(0,a.jsxs)("form",{onSubmit:v.handleSubmit(k),children:[(0,a.jsx)(q.OO,{children:(0,a.jsx)(Z.zB,{name:"description",render:()=>(0,a.jsx)(B.M,{label:"Description",children:(0,a.jsx)(P.p,{autoComplete:"off",placeholder:"My test key",type:"text",...v.register("description")})})})}),(0,a.jsx)(q.Es,{children:(0,a.jsx)(O.$,{htmlType:"submit",loading:C,children:"Create access key"})})]})})]})})]})},U=async e=>{let{projectRef:t,id:s}=e;if(!t||!s)throw Error("projectRef and id are required");let{data:a,error:r}=await (0,C.yH)("/platform/storage/{ref}/credentials/{id}",{params:{path:{ref:t,id:s}}});return r&&"Failed to delete project storage credential"!==r.message&&(0,C.H4)(r),a},V=e=>{let{visible:t,selectedCredential:s,onClose:r}=e,{ref:n}=(0,x.g)(),{mutate:l,isLoading:i}=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,N.jE)();return(0,S.n)(e=>U(e),{async onSuccess(t,s,r){let{projectRef:n}=s;await a.invalidateQueries(z.A.credentials(n)),await (null==e?void 0:e(t,s,r))},async onError(e,s,a){void 0===t?u.oR.error("Failed to delete S3 access key: ".concat(e.message)):t(e,s,a)},...s})}({onSuccess:()=>{u.oR.success("Successfully revoked S3 access key"),r()}});return(0,a.jsx)(q.lG,{open:t,"data-sentry-element":"Dialog","data-sentry-component":"RevokeCredentialModal","data-sentry-source-file":"RevokeCredentialModal.tsx",children:(0,a.jsxs)(q.Cf,{size:"small","data-sentry-element":"DialogContent","data-sentry-source-file":"RevokeCredentialModal.tsx",children:[(0,a.jsx)(q.c7,{"data-sentry-element":"DialogHeader","data-sentry-source-file":"RevokeCredentialModal.tsx",children:(0,a.jsxs)(q.L3,{"data-sentry-element":"DialogTitle","data-sentry-source-file":"RevokeCredentialModal.tsx",children:["Revoke credential ",(0,a.jsx)("code",{className:"text-sm",children:null==s?void 0:s.description})]})}),(0,a.jsx)(q.pf,{"data-sentry-element":"DialogSectionSeparator","data-sentry-source-file":"RevokeCredentialModal.tsx"}),(0,a.jsx)(q.OO,{"data-sentry-element":"DialogSection","data-sentry-source-file":"RevokeCredentialModal.tsx",children:(0,a.jsx)(q.rr,{"data-sentry-element":"DialogDescription","data-sentry-source-file":"RevokeCredentialModal.tsx",children:"This action is irreversible and requests made with these access keys will stop working."})}),(0,a.jsxs)(q.Es,{className:"flex justify-end gap-x-1","data-sentry-element":"DialogFooter","data-sentry-source-file":"RevokeCredentialModal.tsx",children:[(0,a.jsx)(O.$,{type:"outline",onClick:()=>r(),"data-sentry-element":"Button","data-sentry-source-file":"RevokeCredentialModal.tsx",children:"Cancel"}),(0,a.jsx)(O.$,{type:"danger",loading:i,onClick:async()=>{s&&l({id:s.id,projectRef:n})},"data-sentry-element":"Button","data-sentry-source-file":"RevokeCredentialModal.tsx",children:"Yes, revoke access keys"})]})]})})};var H=s(6336),J=s(37616),X=s(11308);function K(e,t){var s=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return s<0?-1:s>0?1:s}var Q=s(26587),ee=s(17089),et=s(55006),es=s(71139);let ea=e=>{let{description:t,id:s,created_at:r,access_key:l,onDeleteClick:i}=e,o=(0,M.SE)(n.aG.STORAGE_ADMIN_WRITE,"*");return(0,a.jsxs)("tr",{className:"h-8 text-ellipsis group","data-sentry-component":"StorageCredItem","data-sentry-source-file":"StorageCredItem.tsx",children:[(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:"text-foreground",children:t})}),(0,a.jsx)("td",{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-ellipsis font-mono cursor-default",children:l}),(0,a.jsx)("span",{className:"w-24 text-right opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(et.A,{text:l,type:"default","data-sentry-element":"CopyButton","data-sentry-source-file":"StorageCredItem.tsx"})})]})}),(0,a.jsx)("td",{children:function(e){let t=function(e,t){(0,X.A)(2,arguments);var s=(0,H.default)(e),a=(0,H.default)(t),r=K(s,a),n=Math.abs((0,J.default)(s,a));s.setDate(s.getDate()-r*n);var l=Number(K(s,a)===-r),i=r*(n-l);return 0===i?0:i}(new Date,new Date(e));return 0===t?"Today":1===t?"".concat(t," day ago"):"".concat(t," days ago")}(r)}),(0,a.jsx)("td",{className:"text-right",children:o&&(0,a.jsxs)(es.rI,{children:[(0,a.jsx)(es.ty,{asChild:!0,children:(0,a.jsx)(O.$,{icon:(0,a.jsx)(Q.A,{size:14,strokeWidth:1}),type:"text",className:"px-1.5 text-foreground-lighter hover:text-foreground"})}),(0,a.jsx)(es.SQ,{className:"max-w-40",align:"end",children:(0,a.jsxs)(es._2,{className:"flex gap-1.5 ",onClick:e=>{e.preventDefault(),i(s)},children:[(0,a.jsx)(ee.A,{size:"14"}),"Revoke key"]})})]})})]})};var er=s(54498);let en=()=>{var e,t,s,i,N;let{ref:S}=(0,x.g)(),C=(0,m.f)(),{data:k,isLoading:w}=(0,T.YA)(),[R,z]=(0,d.useState)(!1),[_,D]=(0,d.useState)(!1),[W,q]=(0,d.useState)(),$=(0,M.SE)(n.aG.STORAGE_ADMIN_READ,"*"),U=(0,M.SE)(n.aG.STORAGE_ADMIN_WRITE,"*"),{data:H}=(0,v.G)({projectRef:S}),{data:J,error:X,isSuccess:K,isError:Q}=(0,b.I)({projectRef:S}),{data:ee,isLoading:et}=E({projectRef:S},{enabled:$}),{mutate:es,isLoading:en}=A({onSuccess:(e,t)=>{t.features&&ei.reset({s3ConnectionEnabled:t.features.s3Protocol.enabled}),u.oR.success("Successfully updated storage settings")}}),el=f.Ik({s3ConnectionEnabled:f.zM()}),ei=(0,c.mN)({resolver:(0,r.u)(el),defaultValues:{s3ConnectionEnabled:!1}}),eo=null!=(N=null==H||null==(e=H.app_config)?void 0:e.protocol)?N:"https",ed=(null==H||null==(t=H.app_config)?void 0:t.storage_endpoint)||(null==H||null==(s=H.app_config)?void 0:s.endpoint),ec=(null==ee?void 0:ee.data)&&ee.data.length>0,eu=(0,er.yO)(null!=S?S:"",eo,ed),ef=async e=>S?J?void es({projectRef:S,features:{...null==J?void 0:J.features,s3Protocol:{enabled:e.s3ConnectionEnabled}}}):console.error("Storage config is required"):console.error("Project ref is required");return(0,d.useEffect)(()=>{ei.reset({s3ConnectionEnabled:null==J?void 0:J.features.s3Protocol.enabled})},[K]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(p.gu,{isFullWidth:!0,"data-sentry-element":"ScaffoldSection","data-sentry-source-file":"S3Connection.tsx",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p.sZ,{"data-sentry-element":"ScaffoldSectionTitle","data-sentry-source-file":"S3Connection.tsx",children:"S3 Connection"}),(0,a.jsx)(p.aw,{"data-sentry-element":"ScaffoldSectionDescription","data-sentry-source-file":"S3Connection.tsx",children:"Connect to your bucket using any S3-compatible service via the S3 protocol"})]}),(0,a.jsx)(g.A,{href:"https://supabase.com/docs/guides/storage/s3/authentication","data-sentry-element":"DocsButton","data-sentry-source-file":"S3Connection.tsx"})]}),(0,a.jsx)(Z.lV,{...ei,"data-sentry-element":"Form_Shadcn_","data-sentry-source-file":"S3Connection.tsx",children:(0,a.jsx)("form",{id:"s3-connection-form",onSubmit:ei.handleSubmit(ef),children:w?(0,a.jsx)(G.y,{}):C?(0,a.jsxs)(I.Zp,{children:[(0,a.jsxs)(I.Wu,{className:"pt-6",children:[(0,a.jsx)(Z.zB,{name:"s3ConnectionEnabled",control:ei.control,render:e=>{let{field:t}=e;return(0,a.jsx)(B.M,{layout:"horizontal",className:"[&>*>label]:text-foreground",label:"Enable connection via S3 protocol",description:"Allow clients to connect to Supabase Storage via the S3 protocol",children:(0,a.jsx)(Z.MJ,{children:(0,a.jsx)(L.d,{size:"large",checked:t.value,onCheckedChange:t.onChange,disabled:!K||t.disabled})})})}}),Q&&(0,a.jsx)("div",{className:"px-8 pb-8",children:(0,a.jsx)(y.A,{subject:"Failed to retrieve storage configuration",error:X})})]}),(0,a.jsx)(I.Wu,{className:"py-6",children:(0,a.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,a.jsx)(B.M,{layout:"horizontal",label:"Endpoint",isReactForm:!1,children:(0,a.jsx)(P.p,{readOnly:!0,copy:!0,disabled:!0,value:eu})}),!w&&(0,a.jsx)(B.M,{layout:"horizontal",label:"Region",isReactForm:!1,children:(0,a.jsx)(P.p,{className:"input-mono",copy:!0,disabled:!0,value:null==k?void 0:k.region})})]})}),!U&&(0,a.jsx)(I.Wu,{children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"You need additional permissions to update storage settings"})}),(0,a.jsxs)(I.wL,{className:"justify-end space-x-2",children:[ei.formState.isDirty&&(0,a.jsx)(O.$,{type:"default",htmlType:"reset",onClick:()=>ei.reset(),disabled:!ei.formState.isDirty||!U||en,children:"Cancel"}),(0,a.jsx)(O.$,{type:"primary",htmlType:"submit",loading:en,disabled:!ei.formState.isDirty||!U||en,children:"Save"})]})]}):(0,a.jsxs)(l.Fc,{variant:"warning",children:[(0,a.jsx)(F.id,{}),(0,a.jsx)(l.XL,{children:"Project is paused"}),(0,a.jsx)(l.TN,{children:"To connect to your S3 bucket, you need to restore your project."}),(0,a.jsx)("div",{className:"mt-3 flex items-center space-x-2",children:(0,a.jsx)(O.$,{asChild:!0,type:"default",children:(0,a.jsx)(o(),{href:"/project/".concat(S),children:"Restore project"})})})]})})})]}),(0,a.jsxs)(p.gu,{isFullWidth:!0,"data-sentry-element":"ScaffoldSection","data-sentry-source-file":"S3Connection.tsx",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p.sZ,{"data-sentry-element":"ScaffoldSectionTitle","data-sentry-source-file":"S3Connection.tsx",children:"S3 Access Keys"}),(0,a.jsx)(p.aw,{"data-sentry-element":"ScaffoldSectionDescription","data-sentry-source-file":"S3Connection.tsx",children:"Manage your access keys for this project."})]}),(0,a.jsx)(Y,{visible:R,onOpenChange:z,"data-sentry-element":"CreateCredentialModal","data-sentry-source-file":"S3Connection.tsx"})]}),$?w?(0,a.jsx)(G.y,{}):C?(0,a.jsx)(a.Fragment,{children:et?(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(G.y,{})}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsx)(h.A,{head:[(0,a.jsx)(h.A.th,{children:"Description"},"description"),(0,a.jsx)(h.A.th,{children:"Access key ID"},"access-key-id"),(0,a.jsx)(h.A.th,{children:"Created at"},"created-at"),(0,a.jsx)(h.A.th,{},"actions")],body:ec?null==(i=ee.data)?void 0:i.map(e=>(0,a.jsx)(ea,{created_at:e.created_at,access_key:e.access_key,description:e.description,id:e.id,onDeleteClick:()=>{q(e),D(!0)}},e.id)):(0,a.jsx)(h.A.tr,{children:(0,a.jsxs)(h.A.td,{colSpan:4,className:"!rounded-b-md overflow-hidden",children:[(0,a.jsx)("p",{className:"text-sm text-foreground",children:"No access keys created"}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"There are no access keys associated with your project yet"})]})})})})}):(0,a.jsxs)(l.Fc,{variant:"warning",children:[(0,a.jsx)(F.id,{}),(0,a.jsx)(l.XL,{children:"Can't fetch S3 access keys"}),(0,a.jsx)(l.TN,{children:"To fetch your S3 access keys, you need to restore your project."}),(0,a.jsx)(l.TN,{children:(0,a.jsx)(O.$,{asChild:!0,type:"default",className:"mt-3",children:(0,a.jsx)(o(),{href:"/project/".concat(S),children:"Restore project"})})})]}):(0,a.jsx)(j.A,{resourceText:"view this project's S3 access keys"})]}),(0,a.jsx)(V,{visible:_,selectedCredential:W,onClose:()=>{D(!1),q(void 0)},"data-sentry-element":"RevokeCredentialModal","data-sentry-source-file":"S3Connection.tsx"})]})};var el=s(63324),ei=s(12578),eo=s(90437),ed=s(61957),ec=s(86349),eu=s(23385),ef=s(34531),ex=s(93210),em=s(40990),ep=s(73934);let eh=()=>{var e,t,s,l;let{ref:i}=(0,x.g)(),{can:m,isLoading:h}=(0,M.hl)(n.aG.STORAGE_ADMIN_READ,"*"),{can:g}=(0,M.hl)(n.aG.STORAGE_ADMIN_WRITE,"*"),{data:v,error:N,isLoading:S,isSuccess:C,isError:k}=(0,b.I)({projectRef:i}),{data:w}=(0,eu.s)(),R=(null==w?void 0:w.plan.id)==="free",z=(null==w?void 0:w.plan.id)==="pro"&&(null==w?void 0:w.usage_billing_enabled)===!1,{data:_=[],isLoading:D}=(0,ec.p)({projectRef:i}),E=(0,d.useMemo)(()=>{let e=_.filter(e=>e.file_size_limit&&e.file_size_limit>0).map(e=>e.file_size_limit);return e.length>0?Math.min(...e):0},[_]),[T,F]=(0,d.useState)({fileSizeLimit:0,unit:ep.s2.MB,imageTransformationEnabled:!R}),P=(0,d.useMemo)(()=>(null==w?void 0:w.plan.id)==="free"?ep.Js:(null==w?void 0:w.usage_billing_enabled)?ep.rB:ep.GF,[w]),G=f.Ik({fileSizeLimit:f.au.number(),unit:f.fc(ep.s2),imageTransformationEnabled:f.zM()}).superRefine((e,t)=>{let{unit:s,fileSizeLimit:a}=e,{value:r}=(0,er.Jb)(P,s);if(a>r&&t.addIssue({code:el.eq.custom,message:"Maximum limit is up to ".concat(r.toLocaleString()," ").concat(s,"."),path:["fileSizeLimit"]}),E>0&&!D&&_.length>0){let{value:e}=(0,er.Jb)(E,s);if(a<e){let e=_.filter(e=>e.file_size_limit&&e.file_size_limit>0).filter(e=>(0,er.Jb)(e.file_size_limit,s).value>a).sort((e,t)=>{var s,a;return(null!=(s=t.file_size_limit)?s:0)-(null!=(a=e.file_size_limit)?a:0)});e.length>0&&t.addIssue({code:el.eq.custom,message:"bucketLimit:".concat(e.map(e=>e.name).join(",")),path:["fileSizeLimit"]})}}}),W=(0,c.mN)({resolver:(0,r.u)(G),defaultValues:T}),{unit:q}=W.watch(),{fileSizeLimit:Y}=W.formState.errors,U=!!(null==Y||null==(e=Y.message)?void 0:e.startsWith("bucketLimit")),V=U?(null!=(s=null==Y?void 0:Y.message)?s:"").split(":")[1].split(","):[],H=(0,er.Jb)(null!=(l=null==(t=_.find(e=>e.name===V[0]))?void 0:t.file_size_limit)?l:0),{mutate:J,isLoading:X}=A({onSuccess:()=>{u.oR.success("Successfully updated storage settings")}}),K=async e=>i?v?void J({projectRef:i,fileSizeLimit:(0,er.OG)(e.fileSizeLimit,e.unit),features:{imageTransformation:{enabled:e.imageTransformationEnabled},s3Protocol:{enabled:v.features.s3Protocol.enabled}}}):console.error("Storage config is required"):console.error("Project ref is required");return(0,d.useEffect)(()=>{if(C&&v){var e,t;let{fileSizeLimit:s,features:a}=v,{value:r,unit:n}=(0,er.Jb)(null!=s?s:0),l=null!=(t=null==a||null==(e=a.imageTransformation)?void 0:e.enabled)?t:!R;F({fileSizeLimit:r,unit:n,imageTransformationEnabled:l}),W.reset({fileSizeLimit:r,unit:n,imageTransformationEnabled:l})}},[C,v]),(0,a.jsx)(p.gu,{isFullWidth:!0,"data-sentry-element":"ScaffoldSection","data-sentry-component":"StorageSettings","data-sentry-source-file":"StorageSettings.tsx",children:(0,a.jsx)(Z.lV,{...W,"data-sentry-element":"Form_Shadcn_","data-sentry-source-file":"StorageSettings.tsx",children:S||h?(0,a.jsx)(eo.y,{}):(0,a.jsxs)(a.Fragment,{children:[!m&&(0,a.jsx)(j.A,{resourceText:"view storage upload limit settings"}),k&&(0,a.jsx)(y.A,{error:N,subject:"Failed to retrieve project's storage configuration"}),C&&(0,a.jsx)("form",{id:"storage-settings-form",className:"",onSubmit:W.handleSubmit(K),children:(0,a.jsxs)(I.Zp,{children:[(0,a.jsx)(I.Wu,{className:"pt-6",children:(0,a.jsx)(Z.zB,{control:W.control,name:"imageTransformationEnabled",render:e=>{let{field:t}=e;return(0,a.jsx)(B.M,{layout:"flex-row-reverse",label:"Enable Image Transformation",description:(0,a.jsxs)(a.Fragment,{children:["Optimize and resize images on the fly."," ",(0,a.jsx)(ei.g,{href:"https://supabase.com/docs/guides/storage/serving/image-transformations",children:"Learn more"}),"."]}),children:(0,a.jsx)(Z.MJ,{children:(0,a.jsx)(L.d,{size:"large",disabled:R,checked:t.value,onCheckedChange:t.onChange})})})}})}),(0,a.jsxs)(I.Wu,{children:[(0,a.jsx)(Z.zB,{control:W.control,name:"fileSizeLimit",render:e=>{let{field:t}=e;return(0,a.jsx)(B.M,{hideMessage:!0,layout:"flex-row-reverse",label:"Global file size limit",description:(0,a.jsxs)(a.Fragment,{children:["Restrict the size of files uploaded across all buckets."," ",D&&(0,a.jsxs)("span",{className:"text-foreground-light",children:[" ","Loading bucket information..."]})," ",(0,a.jsx)(ei.g,{href:"https://supabase.com/docs/guides/storage/uploads/file-limits",children:"Learn more"}),"."]}),children:(0,a.jsx)(Z.MJ,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ex.p,{type:"number",...t,className:"w-full",disabled:R||!g}),(0,a.jsx)(Z.zB,{control:W.control,name:"unit",render:e=>{let{field:t}=e;return(0,a.jsxs)(em.l6,{value:t.value,onValueChange:t.onChange,disabled:R||!g,children:[(0,a.jsx)(em.bq,{className:"w-[180px]",children:(0,a.jsx)(em.yv,{placeholder:"Choose a prefix",children:q})}),(0,a.jsx)(em.gC,{children:Object.values(ep.s2).map(e=>(0,a.jsx)(em.eb,{disabled:R,value:e,children:e},e))})]})}})]})})})}}),Y&&(0,a.jsx)(Z.C5,{className:"ml-auto mt-2 text-right w-1/2",children:U?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Global limit must be greater than that of individual buckets."}),(0,a.jsxs)("p",{children:["Remove or decrease the limit on"," ",(0,a.jsx)(ei.g,{href:"/project/".concat(i,"/storage/buckets/").concat(V[0]),className:"text-destructive decoration-destructive-500 hover:decoration-destructive",children:V[0]})," ","(",H.value,H.unit,")",V.length>1&&(0,a.jsxs)(a.Fragment,{children:[" ","and"," ",(0,a.jsxs)($.m_,{children:[(0,a.jsx)($.k$,{asChild:!0,children:(0,a.jsxs)("span",{className:"underline underline-offset-2 decoration-dotted decoration-destructive-500 hover:decoration-destructive cursor-default",children:["+",V.length-1," other bucket",V.length>2?"s":""]})}),(0,a.jsx)($.ZI,{side:"bottom",children:(0,a.jsx)("ul",{children:V.slice(1).map(e=>{var t;let s=_.find(t=>t.name===e),r=(0,er.Jb)(null!=(t=null==s?void 0:s.file_size_limit)?t:0);return(0,a.jsx)("li",{className:"hover:underline underline-offset-2",children:(0,a.jsxs)(o(),{href:"/project/".concat(i,"/storage/buckets/").concat(e),children:[null==s?void 0:s.name," (",r.value,r.unit,")"]})},e)})})})]})," ","first"]}),"."]})]}):Y.message})]}),R&&(0,a.jsx)(ed.A,{fullWidth:!0,primaryText:"Free Plan has a fixed upload file size limit of 50 MB.",secondaryText:"Upgrade to Pro Plan for a configurable upload file size limit of ".concat((0,ef.z3)(ep.rB)," and unlock image transformations."),source:"storageSizeLimit"}),z&&(0,a.jsx)(ed.A,{fullWidth:!0,buttonText:"Disable Spend Cap",primaryText:"Reduced max upload file size limit due to Spend Cap",secondaryText:"Disable your Spend Cap to allow file uploads of up to ".concat((0,ef.z3)(ep.rB),"."),source:"storageSizeLimit"}),!g&&(0,a.jsx)(I.Wu,{children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"You need additional permissions to update storage settings"})}),(0,a.jsxs)(I.wL,{className:"justify-end space-x-2",children:[W.formState.isDirty&&(0,a.jsx)(O.$,{type:"default",htmlType:"reset",onClick:()=>W.reset(),disabled:!W.formState.isDirty||!g||X,children:"Cancel"}),(0,a.jsx)(O.$,{type:"primary",htmlType:"submit",loading:X,disabled:!g||X||!W.formState.isDirty,children:"Save"})]})]})})]})})})};var ey=s(96232),eg=s(12101),ej=s(4958);let ev=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eh,{"data-sentry-element":"StorageSettings","data-sentry-source-file":"settings.tsx"}),(0,a.jsx)(en,{"data-sentry-element":"S3Connection","data-sentry-source-file":"settings.tsx"})]});ev.getLayout=e=>(0,a.jsx)(ey.A,{children:(0,a.jsx)(ej.A,{title:"Settings",children:(0,a.jsx)(eg.M,{title:"Storage settings",subtitle:"Configure your project's storage settings",children:(0,a.jsx)(p.eh,{children:e})})})});let eb=ev},59350:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(15740).A)("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]])},74680:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(15740).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},76316:(e,t,s)=>{var a=s(15196),r=s(99851),n=s(15743),l=s(4576);e.exports=function(e,t,s){return(e=n(e),void 0===(t=s?void 0:t))?r(e)?l(e):a(e):e.match(t)||[]}},82228:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>i,wL:()=>u});var a=s(80263),r=s(53239),n=s(51500);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("overflow-hidden rounded-lg border bg-surface-100 text-card-foreground shadow-sm",s),...r})});l.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 py-4 px-6 border-b",s),...r})});i.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-xs font-mono uppercase",s),...r})});o.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-foreground-muted",s),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("py-4 px-6 border-b last:border-none",s),...r})});c.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)(" flex items-center py-4 px-6",s),...r})});u.displayName="CardFooter"},85563:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(15740).A)("Clock5",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 14.5 16",key:"1pcbox"}]])},89080:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(15740).A)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},89769:(e,t,s)=>{"use strict";s.d(t,{p:()=>f});var a=s(80263),r=s(29012),n=s(53239),l=s(52647),i=s(51500),o=s(93210),d=s(40022),c=s(70800);function u(e){let{icon:t,className:s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-foreground-light",s),"data-sentry-component":"InputIconContainer","data-sentry-source-file":"InputIconContainer.tsx",children:t})}let f=(0,n.forwardRef)((e,t)=>{let{copy:s,showCopyOnHover:f=!1,icon:x,reveal:m=!1,actions:p,onCopy:h,iconContainerClassName:y,containerClassName:g,...j}=e,[v,b]=(0,n.useState)("Copy"),[N,S]=(0,n.useState)(!0),C=(0,c.A)("input"),k=[];return x&&k.push(C.with_icon),(0,a.jsxs)("div",{className:(0,i.cn)("relative group",g),children:[(0,a.jsx)(o.p,{ref:t,...j,onCopy:h,value:m&&N?"**** **** **** ****":j.value,className:(0,i.cn)(...k,j.className)}),x&&(0,a.jsx)(u,{icon:x,className:y}),s||p?(0,a.jsxs)("div",{className:C.actions_container,children:[s&&!(m&&N)?(0,a.jsx)(d.$,{size:"tiny",type:"default",className:(0,i.cn)(f&&"opacity-0 group-hover:opacity-100 transition"),icon:(0,a.jsx)(r.A,{size:16,className:"text-foreground-muted"}),onClick:()=>{var e;return e=j.value,void(0,l.l)(e,()=>{b("Copied"),setTimeout(function(){b("Copy")},3e3),null==h||h()})},children:v}):null,m&&N?(0,a.jsx)(d.$,{size:"tiny",type:"default",onClick:function(){S(!1)},children:"Reveal"}):null,p&&p]}):null]})})},92882:(e,t,s)=>{"use strict";s.d(t,{BS:()=>i,Dm:()=>c,HJ:()=>j,Rf:()=>y,Uw:()=>d,Vw:()=>N,Xr:()=>b,aw:()=>p,bV:()=>l,cJ:()=>x,dX:()=>u,eh:()=>o,fh:()=>v,gu:()=>f,sZ:()=>m,tn:()=>g,xp:()=>h});var a=s(80263),r=s(53239),n=s(51500);let l="mx-auto w-full max-w-[1200px]",i="px-4 @lg:px-6 @xl:px-10",o=(0,r.forwardRef)((e,t)=>{let{className:s,bottomPadding:r,size:l="default",...o}=e;return(0,a.jsx)("div",{ref:t,...o,className:(0,n.cn)("mx-auto w-full",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[l],i,r&&"pb-16",s)})}),d=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("header",{...r,ref:t,className:(0,n.cn)("w-full","flex-col gap-3 py-6",s)})}),c=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h1",{ref:t,...r,className:(0,n.cn)(s)})}),u=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,...r,className:(0,n.cn)("text-sm text-foreground-light",s)})}),f=(0,r.forwardRef)((e,t)=>{let{className:s,isFullWidth:r,topPadding:l,...i}=e;return(0,a.jsx)("div",{ref:t,...i,className:(0,n.cn)("flex flex-col first:pt-12 py-6",r?"w-full":"gap-3 lg:grid md:grid-cols-12",s)})}),x=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("w-full h-px bg-border",s)})}),m=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,...r,className:(0,n.cn)("text-foreground text-xl",s)})}),p=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,...r,className:(0,n.cn)("text-sm text-foreground-light",s)})}),h=(0,r.forwardRef)((e,t)=>{let{className:s,children:r,title:l,...i}=e;return(0,a.jsxs)("div",{ref:t,...i,className:(0,n.cn)("col-span-4 xl:col-span-5 prose text-sm",s),children:[l&&(0,a.jsx)("h2",{children:l}),r]})}),y=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",s)})}),g=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex flex-col gap-3 items-center",s)})}),j=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex w-full items-center",s)})}),v=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex flex-row gap-3",s)})}),b=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex flex-col gap-3","min-w-[420px]",s)})}),N=(0,r.forwardRef)((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,...r,className:(0,n.cn)(l,i,"my-8 flex flex-col gap-8",s)})});d.displayName="ScaffoldHeader",c.displayName="ScaffoldTitle",u.displayName="ScaffoldDescription",o.displayName="ScaffoldContainer",x.displayName="ScaffoldDivider",f.displayName="ScaffoldSection",b.displayName="ScaffoldColumn",h.displayName="ScaffoldSectionDetail",y.displayName="ScaffoldSectionContent",g.displayName="ScaffoldFilterAndContent",j.displayName="ScaffoldActionsContainer",v.displayName="ScaffoldActionsGroup",N.displayName="ScaffoldContainerLegacy",m.displayName="ScaffoldSectionTitle",p.displayName="ScaffoldSectionDescription"},97344:(e,t,s)=>{var a=s(58381),r=s(51276),n=s(5689),l=s(33312),i=s(89527),o=s(79661),d=s(86458),c=s(63570),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(i(e)&&(l(e)||"string"==typeof e||"function"==typeof e.splice||o(e)||c(e)||n(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(d(e))return!a(e).length;for(var s in e)if(u.call(e,s))return!1;return!0}},98181:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/storage/settings",function(){return s(58792)}])},98969:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(80263),r=s(87610);let n=e=>{let{resourceText:t,isFullPage:s=!1}=e,n=()=>(0,a.jsx)("div",{className:"block w-full rounded border border-opacity-20 py-4 px-6 border-overlay bg-surface-200","data-sentry-component":"NoPermissionMessage","data-sentry-source-file":"NoPermission.tsx",children:(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(r.A,{size:20,"data-sentry-element":"AlertCircle","data-sentry-source-file":"NoPermission.tsx"})}),(0,a.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm",children:["You need additional permissions to ",t]}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Contact your organization owner or administrator for assistance."})})]})})]})});return s?(0,a.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,a.jsx)("div",{className:"w-[550px]",children:(0,a.jsx)(n,{})})}):(0,a.jsx)(n,{})}},99851:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}}},e=>{var t=t=>e(e.s=t);e.O(0,[89,2313,9441,7494,4280,7598,4915,4560,6797,4674,2360,6110,6712,7795,4968,876,5089,9239,1895,3709,5573,9897,6585,279,7686,8343,2690,6232,597,8119,1533,8742,4958,636,6593,8792],()=>t(98181)),_N_E=e.O()}]);