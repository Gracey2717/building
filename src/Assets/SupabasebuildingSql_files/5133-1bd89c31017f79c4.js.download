try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e5544642-42a1-49aa-9161-3a19fe41dbf5",e._sentryDebugIdIdentifier="sentry-dbid-e5544642-42a1-49aa-9161-3a19fe41dbf5")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2101,5133],{2440:(e,t,a)=>{a.d(t,{F:()=>s});let s=e=>{let t="";return null!==e.definition&&void 0!==e.definition&&(t+="using (".concat(e.definition,")").concat(null===e.check||void 0===e.check?";":"","\n")),null!==e.check&&void 0!==e.check&&(t+="with check (".concat(e.check,");\n")),'\nalter policy "'.concat(e.name,'" \non "').concat(e.schema,'"."').concat(e.table,'"\nto ').concat(e.roles.join(", "),"\n").concat(t,"\n").trim()}},3434:(e,t,a)=>{a.d(t,{A0:()=>o,BF:()=>c,Gg:()=>d,Hj:()=>m,XI:()=>i,nA:()=>u,nd:()=>f,r6:()=>h});var s=a(80263),r=a(53239),n=a(51500),l=a(95083);let i=r.forwardRef((e,t)=>{let{className:a,containerProps:r,...i}=e;return(0,s.jsx)(l.x,{...r,children:(0,s.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",a),...i})})});i.displayName="Table";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b [&>tr]:bg-200",a),...r})});o.displayName="TableHeader";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",a),...r})});c.displayName="TableBody";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,n.cn)("bg-primary font-medium text-primary-foreground",a),...r})});d.displayName="TableFooter";let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:(0,n.cn)("border-b [&>td]:hover:bg-surface-200 data-[state=selected]:bg-muted",a),...r})});m.displayName="TableRow";let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:(0,n.cn)("h-10 px-4 text-left align-middle heading-meta text-foreground-lighter [&:has([role=checkbox])]:pr-0",a),...r})});f.displayName="TableHead";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:(0,n.cn)("transition-colors p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});u.displayName="TableCell";let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-foreground-muted",a),...r})});h.displayName="TableCaption"},5816:(e,t,a)=>{a.d(t,{$E:()=>m,kV:()=>c,op:()=>d});var s=a(56947),r=a(32144),n=a(65172),l=a(63492),i=a(53239),o=a(58982);async function c(e,t){let{projectRef:a}=e;if(!a)throw Error("projectRef is required");let{data:s,error:r}=await (0,n.Jt)("/platform/auth/{ref}/config",{params:{path:{ref:a}},signal:t});return r&&(0,n.H4)(r),s}let d=function(e){let{projectRef:t}=e,{enabled:a=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.I)(o.Z.authConfig(t),e=>{let{signal:a}=e;return c({projectRef:t},a)},{enabled:a&&l.pe&&void 0!==t,...r})},m=e=>{let{projectRef:t}=e,a=(0,r.jE)();return(0,i.useCallback)(()=>{t&&a.prefetchQuery(o.Z.authConfig(t),e=>{let{signal:a}=e;return c({projectRef:t},a)})},[a,t])}},10455:(e,t,a)=>{a.d(t,{a:()=>n,h:()=>l});var s=a(80263),r=a(25643);let n=e=>{let{name:t}=e;return(0,s.jsx)("div",{className:"text-typography-body-light [[data-theme*=dark]_&]:text-typography-body-dark flex cursor-not-allowed items-center space-x-2 rounded bg-gray-600 py-0.5 px-2 text-sm","data-sentry-component":"BadgeDisabled","data-sentry-source-file":"Badges.tsx",children:(0,s.jsx)("span",{className:"opacity-50",children:t})})},l=e=>{let{name:t,handleRemove:a}=e;return(0,s.jsxs)("div",{className:"text-typography-body-light [[data-theme*=dark]_&]:text-typography-body-dark flex items-center space-x-2 rounded bg-surface-300 py-0.5 px-2 text-sm",onClick:e=>e.preventDefault(),"data-sentry-component":"BadgeSelected","data-sentry-source-file":"Badges.tsx",children:[(0,s.jsx)("span",{children:t}),(0,s.jsx)(r.A,{size:12,className:"cursor-pointer opacity-50 transition hover:opacity-100",onClick:e=>{e.preventDefault(),e.stopPropagation(),a()},"data-sentry-element":"X","data-sentry-source-file":"Badges.tsx"})]})}},12101:(e,t,a)=>{a.d(t,{M:()=>_});var s=a(80263),r=a(15601),n=a.n(r),l=a(24400),i=a(75232),o=a(51500),c=a(39358),d=a(2119),m=a(40022),f=a(92882),u=a(99846),h=a(53239),p=a(8684),x=a(95043);let b=h.forwardRef((e,t)=>{let{...a}=e;return(0,s.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...a})});b.displayName="Breadcrumb";let y=h.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("ol",{ref:t,className:(0,o.cn)("flex flex-wrap items-center gap-0.5 break-words text-sm text-muted-foreground sm:gap-1.5",a),...r})});y.displayName="BreadcrumbList";let g=h.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("li",{ref:t,className:(0,o.cn)("inline-flex text-foreground-lighter items-center gap-1.5 leading-5",a),...r})});g.displayName="BreadcrumbItem";let w=h.forwardRef((e,t)=>{let{asChild:a,className:r,...n}=e,l=a?p.DX:"a";return(0,s.jsx)(l,{ref:t,className:(0,o.cn)("transition-colors underline lg:no-underline hover:text-foreground",r),...n})});w.displayName="BreadcrumbLink";let N=h.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,o.cn)("no-underline text-foreground",a),...r})});N.displayName="BreadcrumbPage";let j=e=>{let{children:t,className:a,...r}=e;return(0,s.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,o.cn)("[&>svg]:size-3.5",a),...r,"data-sentry-component":"BreadcrumbSeparator","data-sentry-source-file":"breadcrumb.tsx",children:null!=t?t:(0,s.jsx)(x.A,{})})};j.displayName="BreadcrumbSeparator";let v=e=>{let{title:t,subtitle:a,icon:r,breadcrumbs:l=[],primaryActions:c,secondaryActions:d,className:m,isCompact:p=!1}=e,{ref:x}=(0,i.g)(),v=p&&t?[...l,{label:t}]:l;return(0,s.jsxs)("div",{className:(0,o.cn)("space-y-4",m),"data-sentry-component":"PageHeader","data-sentry-source-file":"PageHeader.tsx",children:[(v.length>0||p&&(t||c||d))&&(0,s.jsxs)("div",{className:(0,o.cn)("flex items-center gap-4",p?"justify-between":"mb-4"),children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:l.length>0?(0,s.jsx)(b,{className:(0,o.cn)("text-foreground-muted",p&&"text-base"),children:(0,s.jsxs)(y,{className:p?"text-base":"text-xs",children:[l.map((e,t)=>(0,s.jsxs)(h.Fragment,{children:[(0,s.jsx)(g,{children:e.element?e.element:e.href?(0,s.jsx)(w,{asChild:!0,className:"flex items-center gap-2",children:(0,s.jsxs)(n(),{href:x?e.href.replace("[ref]",x):e.href,children:[1===l.length&&!p&&(0,s.jsx)(u.A,{size:16,strokeWidth:1.5}),e.label]})}):(0,s.jsxs)(N,{className:"flex items-center gap-2",children:[1===l.length&&(0,s.jsx)(u.A,{size:16,strokeWidth:1.5}),e.label]})}),t<l.length-1&&(0,s.jsx)(j,{})]},e.label||"breadcrumb-".concat(t))),p&&t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j,{}),(0,s.jsx)(g,{children:(0,s.jsx)(N,{children:t})})]})]})}):p?t:null}),p&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[d&&(0,s.jsx)("div",{className:"flex items-center gap-2",children:d}),c&&(0,s.jsx)("div",{className:"flex items-center gap-2",children:c})]})]}),!p&&(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[r&&(0,s.jsx)("div",{className:"text-foreground-light",children:r}),(0,s.jsxs)("div",{className:"space-y-1",children:[t&&(0,s.jsx)(f.Dm,{children:t}),a&&(0,s.jsx)(f.dX,{className:"text-sm text-foreground-light",children:a})]})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[d&&(0,s.jsx)("div",{className:"flex items-center gap-2",children:d}),c&&(0,s.jsx)("div",{className:"flex items-center gap-2",children:c})]})]})]})},_=e=>{let{children:t,title:a,subtitle:r,icon:u,breadcrumbs:h=[],primaryActions:p,secondaryActions:x,navigationItems:b=[],className:y,size:g="default",isCompact:w=!1}=e,{ref:N}=(0,i.g)(),j=(0,l.useRouter)();return(0,s.jsxs)("div",{className:"w-full min-h-full flex flex-col items-stretch","data-sentry-component":"PageLayout","data-sentry-source-file":"PageLayout.tsx",children:[(0,s.jsxs)(f.eh,{size:g,className:(0,o.cn)("w-full mx-auto","full"===g&&(w?"max-w-none !px-6 border-b pt-4":"max-w-none pt-6 !px-10 border-b"),"full"!==g&&(w?"pt-4":"pt-12"),0===b.length&&"full"===g&&(w?"pb-4":"pb-8"),y),"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"PageLayout.tsx",children:[(a||r||p||x||h.length>0)&&(0,s.jsx)(v,{title:a,subtitle:r,icon:u,breadcrumbs:h,primaryActions:p,secondaryActions:x,isCompact:w}),b.length>0&&(0,s.jsx)(c.h,{className:(0,o.cn)(w?"mt-2":"mt-4","full"===g&&"border-none"),children:b.map(e=>{let t=void 0!==e.active?e.active:j.asPath.split("?")[0]===e.href;return(0,s.jsx)(c.O,{active:t,children:e.href?(0,s.jsxs)(n(),{href:e.href.includes("[ref]")&&N?e.href.replace("[ref]",N):e.href,className:(0,o.cn)("inline-flex items-center gap-2",t&&"text-foreground"),onClick:e.onClick,children:[e.icon&&(0,s.jsx)("span",{children:e.icon}),e.label,e.badge&&(0,s.jsx)(d.E,{variant:"default",children:e.badge})]}):(0,s.jsxs)(m.$,{type:"link",onClick:e.onClick,className:(0,o.cn)(t&&"text-foreground font-medium"),children:[e.icon&&(0,s.jsx)("span",{className:"mr-2",children:e.icon}),e.label,e.badge&&(0,s.jsx)(d.E,{variant:"default",children:e.badge})]})},e.label)})})]}),t]})}},28758:(e,t,a)=>{a.d(t,{$Q:()=>n,S3:()=>s,z_:()=>r});let s=(e,t)=>[{id:"policy-1",preview:!1,templateName:"Enable read access to everyone",description:"This policy gives read access to your table for all users via the SELECT operation.",statement:'\ncreate policy "Enable read access for all users"\non "'.concat(e,'"."').concat(t,'"\nfor select using (true);').trim(),name:"Enable read access for all users",definition:"true",check:"",command:"SELECT",roles:[]},{id:"policy-2",preview:!1,templateName:"Enable insert access for authenticated users only",description:"This policy gives insert access to your table for all authenticated users only.",statement:'\ncreate policy "Enable insert for authenticated users only"\non "'.concat(e,'"."').concat(t,'"\nfor insert to authenticated\nwith check (true);').trim(),name:"Enable insert for authenticated users only",definition:"",check:"true",command:"INSERT",roles:["authenticated"]},{id:"policy-3",preview:!1,templateName:"Enable delete access for users based on their user ID *",description:'This policy assumes that your table has a column "user_id", and allows users to delete rows which the "user_id" column matches their ID',statement:'\ncreate policy "Enable delete for users based on user_id"\non "'.concat(e,'"."').concat(t,'"\nfor delete using (\n  (select auth.uid()) = user_id\n);').trim(),name:"Enable delete for users based on user_id",definition:"(select auth.uid()) = user_id",check:"",command:"DELETE",roles:[]},{id:"policy-4",preview:!1,templateName:"Enable insert access for users based on their user ID *",description:'This policy assumes that your table has a column "user_id", and allows users to insert rows which the "user_id" column matches their ID',statement:'\ncreate policy "Enable insert for users based on user_id"\non "'.concat(e,'"."').concat(t,'"\nfor insert with check (\n  (select auth.uid()) = user_id\n);').trim(),name:"Enable insert for users based on user_id",definition:"",check:"(select auth.uid()) = user_id",command:"INSERT",roles:[]},{id:"policy-5",preview:!0,name:"Policy with table joins",templateName:"Policy with table joins",description:"\nQuery across tables to build more advanced RLS rules\n\nAssuming 2 tables called `teams` and `members`, you can query both tables in the policy to control access to the members table.",statement:'\ncreate policy "Members can update team details if they belong to the team"\non teams for update using (\n  (select auth.uid()) in (\n    select user_id from members where team_id = id\n  )\n);\n'.trim(),definition:"(select auth.uid()) in (select user_id from members where team_id = id)",check:"",command:"UPDATE",roles:[]},{id:"policy-6",preview:!0,templateName:"Policy with security definer functions",description:"\nUseful in a many-to-many relationship where you want to restrict access to the linking table.\n\nAssuming 2 tables called `teams` and `members`, you can use a security definer function in combination with a policy to control access to the members table.".trim(),statement:'\ncreate or replace function get_teams_for_user(user_id uuid)\nreturns setof bigint as $$\n  select team_id from members where user_id = $1\n$$ stable language sql security definer;\n\ncreate policy "Team members can update team members if they belong to the team"\non members\nfor all using (\n  team_id in (select get_teams_for_user(auth.uid()))\n);\n'.trim(),name:"Policy with security definer functions",definition:"team_id in (select get_teams_for_user(auth.uid()))",check:"",command:"ALL",roles:[]},{id:"policy-7",preview:!0,name:"Policy to implement Time To Live (TTL)",templateName:"Policy to implement Time To Live (TTL)",description:"\nImplement a TTL-like feature that you see in Instagram stories or Snapchat where messages expire after a day.\n\nRows under the table are available only if they have been created within the last 24 hours.",statement:'\ncreate policy "Stories are live for a day"\non "'.concat(e,'"."').concat(t,"\"\nfor select using (\n  created_at > (current_timestamp - interval '1 day')\n);\n").trim(),definition:"created_at > (current_timestamp - interval '1 day')",check:"",command:"SELECT",roles:[]},{id:"policy-8",preview:!1,templateName:"Allow users to only view their own data",description:"Restrict users to reading only their own data.",statement:'\ncreate policy "Enable users to view their own data only"\non "'.concat(e,'"."').concat(t,'"\nfor select\nto authenticated\nusing (\n  (select auth.uid()) = user_id\n);').trim(),name:"Enable users to view their own data only",definition:"(select auth.uid()) = user_id",check:"",command:"SELECT",roles:["authenticated"]}],r=()=>[{id:"policy-broadcast-1",preview:!1,templateName:"Allow listening for broadcasts for authenticated users only",description:"This policy allows listening for broadcasts for authenticated users only.",statement:"\ncreate policy  \"Allow listening for broadcasts for authenticated users only\"\non realtime.messages for select\nto authenticated\nusing ( realtime.messages.extension = 'broadcast' );".trim(),name:"Allow listening for broadcasts for authenticated users only",definition:"realtime.messages.extension = 'broadcast'",check:"",command:"SELECT",roles:["authenticated"]},{id:"policy-broadcast-2",preview:!1,templateName:"Allow pushing broadcasts for authenticated users only",description:"This policy allows pushing broadcasts for authenticated users only.",statement:"\ncreate policy \"Allow pushing broadcasts for authenticated users only\"\nON realtime.messages for insert\nTO authenticated\nwith check ( realtime.messages.extension = 'broadcast' );".trim(),name:"Allow pushing broadcasts for authenticated users only",definition:"realtime.messages.extension = 'broadcast'",check:"realtime.messages.extension = 'broadcast'",command:"INSERT",roles:["authenticated"]},{id:"policy-broadcast-3",preview:!1,templateName:"Allow listening for broadcasts from a specific channel",description:"This policy allows listening for broadcasts from a specific channel.",statement:"\ncreate policy \"Allow listening for broadcasts from a specific channel\"\non realtime.messages for select\nusing ( realtime.messages.extension = 'broadcast' AND realtime.topic() = 'channel_name' );".trim(),name:"Allow listening for broadcasts from a specific channel",definition:"realtime.messages.extension = 'broadcast' AND realtime.topic() = 'channel_name'",check:"",command:"SELECT",roles:[]},{id:"policy-broadcast-4",preview:!1,templateName:"Allow pushing broadcasts to specific channel",description:"This policy allow pushing broadcasts to specific channel.",statement:"\ncreate policy \"Allow pushing broadcasts to specific channel\"\nON realtime.messages for insert\nwith check ( realtime.messages.extension = 'broadcast' AND realtime.topic() = 'channel_name' );".trim(),name:"Allow pushing broadcasts to specific channel",definition:"realtime.messages.extension = 'broadcast' AND realtime.topic() = 'channel_name'",check:"realtime.messages.extension = 'broadcast' AND realtime.topic() = 'channel_name'",command:"INSERT",roles:[]},{id:"policy-presences-1",preview:!1,templateName:"Allow listening for presences on all channels for authenticated users only",description:"This policy enables listening for presences on all channels for all authenticated users only.",statement:"\ncreate policy \"Allow listening for presences on all channels for authenticated users only\"\non realtime.messages for select\nto authenticated\nusing ( realtime.messages.extension = 'presence' );".trim(),name:"Allow listening for presences on all channels for authenticated users only",definition:"realtime.messages.extension = 'presence'",check:"",command:"SELECT",roles:["authenticated"]},{id:"policy-presences-2",preview:!1,templateName:"Allow broadcasting presences on all channels for authenticated users only",description:"This policy enables broadcasting presences on all channels for all authenticated users only.",statement:"\ncreate policy \"Allow broadcasting presences on all channels for authenticated users only\"\nON realtime.messages for insert\nTO authenticated\nwith check ( realtime.messages.extension = 'presence' );\n  ;".trim(),name:"Allow broadcasting presences on all channels for authenticated users only",definition:"realtime.messages.extension = 'presence'",check:"realtime.messages.extension = 'presence'",command:"INSERT",roles:["authenticated"]},{id:"policy-presences-3",preview:!1,templateName:"Allow listening for presences from a specific channel",description:"This policy enables listening for presences from a specific channel.",statement:"\ncreate policy \"Allow listening for presences from a specific channel\"\non realtime.messages for select\nusing ( realtime.messages.extension = 'presence' AND realtime.topic() = 'channel_name' );".trim(),name:"Allow listening for presences from a specific channel",definition:"realtime.messages.extension = 'presence' AND realtime.topic() = 'channel_name'",check:"",command:"SELECT",roles:[]},{id:"policy-presences-4",preview:!1,templateName:"Publish presence to a specific channel",description:"This policy allows publishing presence to a specific channel.",statement:"\ncreate policy \"Publish presence to a specific channel\"\nON realtime.messages for insert\nwith check ( realtime.messages.extension = 'presence' AND realtime.topic() = 'channel_name' );\n  ;".trim(),name:"Publish presence to a specific channel",definition:"realtime.messages.extension = 'presence' AND realtime.topic() = 'channel_name'",check:"realtime.messages.extension = 'presence' AND realtime.topic() = 'channel_name'",command:"INSERT",roles:[]}],n=()=>[{id:"policy-queues-1",preview:!1,templateName:"Allow access to queue",statement:"".trim(),name:"Allow anon and authenticated to access messages from queue",description:"Base policy to ensure that anon and authenticated can only access appropriate rows. USING and CHECK statements will need to be adjusted accordingly",definition:"true",check:"true",command:"ALL",roles:["anon","authenticated"]}]},32035:(e,t,a)=>{a.d(t,{A:()=>d});var s=a(80263),r=a(91194),n=a(95043),l=a(15601),i=a.n(l),o=a(53239),c=a(51500);let d=e=>{let t,{title:a,description:l,children:d,footer:m,url:f="",linkHref:u="",imgUrl:h,imgAlt:p,icon:x,className:b,loading:y=!1,fixedHeight:g=!0,hideChevron:w=!1,titleClass:N="",containerElement:j,...v}=e,_=f||u||v.onClick,k={},A=j&&o.isValidElement(j)?e=>(0,o.cloneElement)(j,{...e}):void 0;v.onClick?(t=null!=A?A:"button",k=v):u?(t=null!=A?A:i(),k={href:u,...v}):f?(t=null!=A?A:"a",k={href:f,...v}):(t=null!=A?A:"div",k=v);let E=["group relative text-left","bg-surface-100","border border-surface","rounded-md p-5 flex flex-row","transition ease-in-out duration-150"];_&&(E=[...E,"cursor-pointer","hover:bg-surface-200","hover:border-control"]),g&&(E=[...E,"min-h-32 md:min-h-44"]);let R=e=>{let{children:t}=e;return(0,s.jsx)("div",{className:"mr-4 flex flex-col","data-sentry-component":"ImageContainer","data-sentry-source-file":"CardButton.tsx",children:t})},T=(0,s.jsxs)(s.Fragment,{children:[h&&(0,s.jsx)(R,{children:(0,s.jsx)("img",{className:" transition-all group-hover:scale-110 ",src:"".concat(h),alt:"".concat(p),width:"26"})}),x&&(0,s.jsx)(R,{children:x}),(0,s.jsxs)("div",{className:"flex h-full w-full flex-col space-y-2",children:["string"==typeof a?(0,s.jsx)("h5",{className:"text-foreground pr-5 ".concat(N),children:a}):a,(d||l)&&(0,s.jsxs)("div",{className:"flex w-full flex-1 flex-col",children:[(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:l}),(0,s.jsx)("div",{className:"w-full",children:d&&d})]}),m&&(0,s.jsx)("div",{className:"w-full !mt-auto",children:m})]}),_&&(0,s.jsx)("div",{className:" absolute right-4 top-4 text-foreground-lighter transition-all duration-200 group-hover:right-3 group-hover:text-foreground ",children:y?(0,s.jsx)(r.A,{className:"animate-spin"}):w?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(n.A,{})})]});return(0,s.jsx)(t,{...k,className:(0,c.cn)(E,b),"data-sentry-element":"Container","data-sentry-component":"CardButton","data-sentry-source-file":"CardButton.tsx",children:T})}},39358:(e,t,a)=>{a.d(t,{O:()=>i,h:()=>l});var s=a(80263),r=a(53239),n=a(51500);let l=(0,r.forwardRef)((e,t)=>(0,s.jsx)("nav",{ref:t,dir:"ltr",...e,className:(0,n.cn)("border-b",e.className),children:(0,s.jsx)("ul",{role:"menu",className:"flex gap-5",children:e.children})})),i=(0,r.forwardRef)((e,t)=>{let{children:a,className:r,active:l,...i}=e;return(0,s.jsx)("li",{ref:t,"aria-selected":l?"true":"false","data-state":l?"active":"inactive",className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap text-sm ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent *:py-1.5",r),...i,children:a})})},44326:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(80263),r=a(53239),n=a(67120),l=a(27642),i=a(40022);let o=e=>{let{visible:t=!1,danger:a=!1,title:o="",description:c="",size:d="small",buttonLabel:m="",buttonLoadingLabel:f="",onSelectCancel:u=()=>{},onSelectConfirm:h=()=>{}}=e;(0,r.useEffect)(()=>{t&&x(!1)},[t]);let[p,x]=(0,r.useState)(!1),b=()=>{x(!0),h()};return(0,s.jsx)(n.A,{header:o,visible:t,title:o,description:c,size:d,hideFooter:!0,onCancel:u,"data-sentry-element":"Modal","data-sentry-component":"ConfirmModal","data-sentry-source-file":"ConfirmDialog.tsx",children:(0,s.jsx)(l.A,{initialValues:{},validateOnBlur:!0,onSubmit:()=>b(),validate:()=>[],"data-sentry-element":"Form","data-sentry-source-file":"ConfirmDialog.tsx",children:()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(n.A.Content,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.$,{block:!0,htmlType:"button",type:"default",onClick:u,disabled:p,children:"Cancel"}),(0,s.jsx)(i.$,{htmlType:"submit",block:!0,type:a?"danger":"primary",disabled:p,loading:p,children:f&&p?f:m||"Confirm"})]})})})})})}},48700:(e,t,a)=>{a.d(t,{V:()=>d});var s=a(47319),r=a(32144),n=a(80251),l=a(73969),i=a(15629),o=a(30784);async function c(e){let{projectRef:t,connectionString:a,originalPolicy:r,payload:n}=e,l=new Headers;a&&l.set("x-connection-encrypted",a);let{sql:o}=s.A.policies.update(r,n),{result:c}=await (0,i.E)({projectRef:t,connectionString:a,sql:o,queryKey:["policy","update",r.id]});return c}let d=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,r.jE)();return(0,n.n)(e=>c(e),{async onSuccess(t,a,r){let{projectRef:n}=a;await s.invalidateQueries(o.S.list(n)),await (null==e?void 0:e(t,a,r))},async onError(e,a,s){void 0===t?l.oR.error("Failed to update database policy: ".concat(e.message)):t(e,a,s)},...a})}},72192:(e,t,a)=>{a.d(t,{tV:()=>d,_X:()=>c});var s=a(47319),r=a(56947),n=a(15629);let l={databaseRoles:e=>["projects",e,"database-roles"]},i=s.A.roles.list();async function o(e,t){let{projectRef:a,connectionString:s}=e,{result:r}=await (0,n.E)({projectRef:a,connectionString:s,sql:i.sql,queryKey:["database-roles"]},t);return r}let c=function(e){let{projectRef:t,connectionString:a}=e,{enabled:s=!0,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.I)(l.databaseRoles(t),e=>{let{signal:s}=e;return o({projectRef:t,connectionString:a},s)},{enabled:s&&void 0!==t,...n})};function d(e,t){return e.invalidateQueries(l.databaseRoles(t))}},82228:(e,t,a)=>{a.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>l,aR:()=>i,wL:()=>m});var s=a(80263),r=a(53239),n=a(51500);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("overflow-hidden rounded-lg border bg-surface-100 text-card-foreground shadow-sm",a),...r})});l.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 py-4 px-6 border-b",a),...r})});i.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-xs font-mono uppercase",a),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-foreground-muted",a),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("py-4 px-6 border-b last:border-none",a),...r})});d.displayName="CardContent";let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)(" flex items-center py-4 px-6",a),...r})});m.displayName="CardFooter"},92882:(e,t,a)=>{a.d(t,{BS:()=>i,Dm:()=>d,HJ:()=>g,Rf:()=>b,Uw:()=>c,Vw:()=>j,Xr:()=>N,aw:()=>p,bV:()=>l,cJ:()=>u,dX:()=>m,eh:()=>o,fh:()=>w,gu:()=>f,sZ:()=>h,tn:()=>y,xp:()=>x});var s=a(80263),r=a(53239),n=a(51500);let l="mx-auto w-full max-w-[1200px]",i="px-4 @lg:px-6 @xl:px-10",o=(0,r.forwardRef)((e,t)=>{let{className:a,bottomPadding:r,size:l="default",...o}=e;return(0,s.jsx)("div",{ref:t,...o,className:(0,n.cn)("mx-auto w-full",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[l],i,r&&"pb-16",a)})}),c=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("header",{...r,ref:t,className:(0,n.cn)("w-full","flex-col gap-3 py-6",a)})}),d=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h1",{ref:t,...r,className:(0,n.cn)(a)})}),m=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,...r,className:(0,n.cn)("text-sm text-foreground-light",a)})}),f=(0,r.forwardRef)((e,t)=>{let{className:a,isFullWidth:r,topPadding:l,...i}=e;return(0,s.jsx)("div",{ref:t,...i,className:(0,n.cn)("flex flex-col first:pt-12 py-6",r?"w-full":"gap-3 lg:grid md:grid-cols-12",a)})}),u=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)("w-full h-px bg-border",a)})}),h=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,...r,className:(0,n.cn)("text-foreground text-xl",a)})}),p=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,...r,className:(0,n.cn)("text-sm text-foreground-light",a)})}),x=(0,r.forwardRef)((e,t)=>{let{className:a,children:r,title:l,...i}=e;return(0,s.jsxs)("div",{ref:t,...i,className:(0,n.cn)("col-span-4 xl:col-span-5 prose text-sm",a),children:[l&&(0,s.jsx)("h2",{children:l}),r]})}),b=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",a)})}),y=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex flex-col gap-3 items-center",a)})}),g=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex w-full items-center",a)})}),w=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex flex-row gap-3",a)})}),N=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)("flex flex-col gap-3","min-w-[420px]",a)})}),j=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,n.cn)(l,i,"my-8 flex flex-col gap-8",a)})});c.displayName="ScaffoldHeader",d.displayName="ScaffoldTitle",m.displayName="ScaffoldDescription",o.displayName="ScaffoldContainer",u.displayName="ScaffoldDivider",f.displayName="ScaffoldSection",N.displayName="ScaffoldColumn",x.displayName="ScaffoldSectionDetail",b.displayName="ScaffoldSectionContent",y.displayName="ScaffoldFilterAndContent",g.displayName="ScaffoldActionsContainer",w.displayName="ScaffoldActionsGroup",j.displayName="ScaffoldContainerLegacy",h.displayName="ScaffoldSectionTitle",p.displayName="ScaffoldSectionDescription"},93796:(e,t,a)=>{a.d(t,{V:()=>w});var s=a(80263),r=a(60045),n=a(83927),l=a.n(n),i=a(26587),o=a(11192),c=a(17089),d=a(64711),m=a(5816),f=a(75019),u=a(5483),h=a(86815),p=a(3434),x=a(40022),b=a(30435),y=a(71139),g=a(2440);let w=e=>{let{policy:t,isLocked:a=!1,onSelectEditPolicy:n=l(),onSelectDeletePolicy:w=l()}=e,N=(0,h.xd)(),{can:j}=(0,f.hl)(r.aG.TENANT_SQL_ADMIN_WRITE,"policies"),{data:v}=(0,u.YA)(),{data:_}=(0,m.op)({projectRef:null==v?void 0:v.ref}),k=("realtime"!==t.schema||"messages"!==t.table)&&a,A=(null==_?void 0:_.EXTERNAL_ANONYMOUS_USERS_ENABLED)&&(t.roles.includes("authenticated")||t.roles.includes("public"))?[...t.roles,"anonymous sign-ins"]:t.roles;return(0,s.jsxs)(p.Hj,{"data-sentry-element":"TableRow","data-sentry-component":"PolicyRow","data-sentry-source-file":"PolicyRow.tsx",children:[(0,s.jsx)(p.nA,{className:"w-[40%] truncate","data-sentry-element":"TableCell","data-sentry-source-file":"PolicyRow.tsx",children:(0,s.jsx)("div",{className:"flex items-center gap-x-2 min-w-0",children:(0,s.jsx)(x.$,{type:"text",className:"text-foreground text-sm p-0 hover:bg-transparent w-full truncate justify-start",onClick:()=>n(t),"data-sentry-element":"Button","data-sentry-source-file":"PolicyRow.tsx",children:t.name})})}),(0,s.jsx)(p.nA,{className:"w-[20%] truncate","data-sentry-element":"TableCell","data-sentry-source-file":"PolicyRow.tsx",children:(0,s.jsx)("code",{className:"text-foreground-light text-xs",children:t.command})}),(0,s.jsx)(p.nA,{className:"w-[30%] truncate","data-sentry-element":"TableCell","data-sentry-source-file":"PolicyRow.tsx",children:(0,s.jsxs)("div",{className:"flex items-center gap-x-1",children:[(0,s.jsx)("div",{className:"text-foreground-lighter text-sm truncate",children:A.slice(0,2).map((e,t)=>(0,s.jsxs)("span",{children:[(0,s.jsx)("code",{className:"text-foreground-light text-xs",children:e}),t<Math.min(A.length,2)-1?", ":" "]},"policy-".concat(e,"-").concat(t)))}),A.length>2&&(0,s.jsxs)(b.m_,{children:[(0,s.jsx)(b.k$,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)("code",{className:"text-foreground-light text-xs",children:["+ ",A.length-2," more"]},"policy-etc")})}),(0,s.jsx)(b.ZI,{side:"bottom",align:"center",children:A.join(", ")})]})]})}),(0,s.jsx)(p.nA,{className:"w-0 text-right whitespace-nowrap","data-sentry-element":"TableCell","data-sentry-source-file":"PolicyRow.tsx",children:!k&&(0,s.jsxs)(y.rI,{children:[(0,s.jsx)(y.ty,{asChild:!0,children:(0,s.jsx)(x.$,{type:"default",className:"px-1.5",icon:(0,s.jsx)(i.A,{})})}),(0,s.jsxs)(y.SQ,{side:"bottom",align:"end",className:"w-52",children:[(0,s.jsxs)(y._2,{className:"gap-x-2",onClick:()=>n(t),children:[(0,s.jsx)(o.A,{size:14}),(0,s.jsx)("p",{children:"Edit policy"})]}),(0,s.jsxs)(y._2,{className:"space-x-2",onClick:()=>{let e=(0,g.F)(t);N.newChat({name:"Update policy ".concat(t.name),open:!0,sqlSnippets:[e],initialInput:'Update the policy with name "'.concat(t.name,'" in the ').concat(t.schema," schema on the ").concat(t.table," table. It should..."),suggestions:{title:'I can help you make a change to the policy "'.concat(t.name,'" in the ').concat(t.schema," schema on the ").concat(t.table," table, here are a few example prompts to get you started:"),prompts:[{label:"Improve Policy",description:"Tell me how I can improve this policy..."},{label:"Duplicate Policy",description:"Duplicate this policy for another table..."},{label:"Add Conditions",description:"Add extra conditions to this policy..."}]}})},children:[(0,s.jsx)(o.A,{size:14}),(0,s.jsx)("p",{children:"Edit policy with Assistant"})]}),(0,s.jsx)(y.mB,{}),(0,s.jsxs)(d.x,{className:"gap-x-2",disabled:!j,onClick:()=>w(t),tooltip:{content:{side:"left",text:"You need additional permissions to delete policies"}},children:[(0,s.jsx)(c.A,{size:14}),(0,s.jsx)("p",{children:"Delete policy"})]})]})]})})]})}},95083:(e,t,a)=>{a.d(t,{x:()=>i});var s=a(80263),r=a(53239),n=a(51500);let l=e=>{let[t,a]=r.useState(!1),[s,n]=r.useState(!1),[l,i]=r.useState(!1);return r.useEffect(()=>{let s=e.current;if(!s)return;let r=()=>{let e=s.scrollWidth>s.clientWidth;if(a(e),e){let e=s.scrollLeft>0,t=s.scrollLeft<s.scrollWidth-s.clientWidth;n(e),i(t)}else n(!1),i(!1)},l=()=>{if(t){let e=s.scrollLeft>0,t=s.scrollLeft<s.scrollWidth-s.clientWidth;n(e),i(t)}};return r(),s.addEventListener("scroll",l),window.addEventListener("resize",r),()=>{s.removeEventListener("scroll",l),window.removeEventListener("resize",r)}},[e,t]),{hasHorizontalScroll:t,canScrollLeft:s,canScrollRight:l}},i=r.forwardRef((e,t)=>{let{className:a,children:i,stickyLastColumn:o,...c}=e,d=r.useRef(null),{hasHorizontalScroll:m,canScrollLeft:f,canScrollRight:u}=l(d),h=(0,n.cn)("[&_td:last-child]:before:absolute [&_td:last-child]:before:top-0 [&_td:last-child]:before:-left-6","[&_td:last-child]:before:bottom-0 [&_td:last-child]:before:w-6 [&_td:last-child]:before:bg-gradient-to-l","[&_td:last-child]:before:from-black/5 dark:[&_td:last-child]:before:from-black/20 [&_td:last-child]:before:to-transparent","[&_td:last-child]:before:opacity-0 [&_td:last-child]:before:transition-all [&_td:last-child]:before:duration-400","[&_td:last-child]:before:easing-[0.24, 0.25, 0.05, 1] [&_td:last-child]:before:z-[60]","[&_th:last-child]:before:absolute [&_th:last-child]:before:top-0 [&_th:last-child]:before:-left-6","[&_th:last-child]:before:bottom-0 [&_th:last-child]:before:w-6 [&_th:last-child]:before:bg-gradient-to-l","[&_th:last-child]:before:from-black/5 dark:[&_th:last-child]:before:from-black/20 [&_th:last-child]:before:to-transparent","[&_th:last-child]:before:opacity-0 [&_th:last-child]:before:transition-all [&_th:last-child]:before:duration-400","[&_th:last-child]:before:easing-[0.24, 0.25, 0.05, 1] [&_th:last-child]:before:z-[60]");return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:(0,n.cn)("absolute inset-0 pointer-events-none z-50","before:absolute before:top-0 before:right-0 before:bottom-0 before:w-6 before:bg-gradient-to-l before:from-black/5 dark:before:from-black/20 before:to-transparent before:opacity-0 before:transition-all before:duration-400 before:easing-[0.24, 0.25, 0.05, 1]","after:absolute after:top-0 after:left-0 after:bottom-0 after:w-6 after:bg-gradient-to-r after:from-black/5 dark:after:from-black/20 after:to-transparent after:opacity-0 after:transition-all after:duration-400 after:easing-[0.24, 0.25, 0.05, 1]",m&&"hover:before:opacity-100 hover:after:opacity-100",u&&"before:opacity-100",f&&"after:opacity-100")}),(0,s.jsx)("div",{ref:d,className:(0,n.cn)("w-full overflow-auto",o&&["[&_tr>*:last-child]:sticky [&_tr>*:last-child]:z-50 [&_tr>*:last-child]:right-0","[&_tr:hover>*:last-child]:bg-transparent","[&_th>*:last-child]:bg-surface-100",h],m&&"[&_tr:hover>td:last-child]:!bg-surface-200",u&&"[&_td]:before:opacity-100 [&_tr>*:last-child]:before:opacity-100 [&_th:last-child]:before:opacity-100",a),...c,children:i})]})});i.displayName="ShadowScrollArea"}}]);