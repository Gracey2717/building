try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="97f5344b-c5e7-48eb-a886-6153584ef920",e._sentryDebugIdIdentifier="sentry-dbid-97f5344b-c5e7-48eb-a886-6153584ef920")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4986,9340],{37671:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/advisors/security",function(){return s(40654)}])},40654:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var n=s(80263),i=s(53239),r=s(75232),l=s(57091),a=s(15134),d=s(66218),c=s(18354),u=s(23227),f=s(11042),o=s(60972),y=s(96232),b=s(92512),g=s(99127),L=s(5483),h=s(82692);let m=()=>{var e;let{preset:t,id:s}=(0,r.g)(),{data:o}=(0,L.YA)(),[y,m]=(0,i.useState)([{level:a.R.ERROR,filters:[]},{level:a.R.WARN,filters:[]},{level:a.R.INFO,filters:[]}]),[v,x]=(0,i.useState)(null!=t?t:a.R.ERROR),[p,_]=(0,i.useState)(null),{data:R,isLoading:j,isRefetching:w,refetch:T}=(0,g.b)({projectRef:null==o?void 0:o.ref}),A=(null!=R?R:[]).filter(e=>e.categories.includes("SECURITY")),E=(null==(e=y.find(e=>e.level===v))?void 0:e.filters)||[],N=A.filter(e=>e.level===v).filter(e=>E.length>0?E.includes(e.name):e),I=d.ah.filter(e=>A.some(t=>t.name===e.name&&t.level===v)).map(e=>({name:e.title,value:e.name}));return(0,i.useEffect)(()=>{var e;s&&_(null!=(e=A.find(e=>e.cache_key===s))?e:null)},[s,A]),(0,n.jsxs)("div",{className:"h-full flex flex-col","data-sentry-component":"ProjectLints","data-sentry-source-file":"security.tsx",children:[(0,n.jsx)(b.M,{className:"py-4 px-6 !mb-0",title:"Security Advisor",docsUrl:"https://supabase.com/docs/guides/database/database-linter","data-sentry-element":"FormHeader","data-sentry-source-file":"security.tsx"}),(0,n.jsx)(l.A,{activeLints:A,isLoading:j,currentTab:v,setCurrentTab:x,setSelectedLint:_,"data-sentry-element":"LintPageTabs","data-sentry-source-file":"security.tsx"}),(0,n.jsx)(u.A,{filterOptions:I,filteredLints:N,activeLints:A,currentTab:v,filters:y,isLoading:j||w,setFilters:m,onClickRefresh:T,"data-sentry-element":"LinterFilters","data-sentry-source-file":"security.tsx"}),(0,n.jsx)(h.$,{loading:w,"data-sentry-element":"LoadingLine","data-sentry-source-file":"security.tsx"}),(0,n.jsx)(c.A,{filteredLints:N,currentTab:v,selectedLint:p,setSelectedLint:_,isLoading:j,"data-sentry-element":"LinterDataGrid","data-sentry-source-file":"security.tsx"}),(0,n.jsx)(f.A,{hideDbInspectCTA:!0,isLoading:j,isRefetching:w,refetch:T,"data-sentry-element":"LinterPageFooter","data-sentry-source-file":"security.tsx"})]})};m.getLayout=e=>(0,n.jsx)(y.A,{children:(0,n.jsx)(o.A,{title:"Linter",children:e})});let v=m}},e=>{var t=t=>e(e.s=t);e.O(0,[89,2313,9441,7494,4280,7598,4915,4560,6797,4674,2360,6110,6712,7795,4968,876,5089,9239,1895,3709,5573,9897,6585,6699,7686,8343,2690,6232,597,8119,1533,5408,636,6593,8792],()=>t(37671)),_N_E=e.O()}]);