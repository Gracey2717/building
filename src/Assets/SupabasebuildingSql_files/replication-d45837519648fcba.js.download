try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="a8e4a3d5-010a-41d9-99c2-fe5adf064bb2",e._sentryDebugIdIdentifier="sentry-dbid-a8e4a3d5-010a-41d9-99c2-fe5adf064bb2")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4986,7144],{11122:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var a=n(80263),s=n(15601),r=n.n(s),i=n(40022),l=n(47142);let o=e=>{let{urlBack:t}=e;return(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center","data-sentry-component":"UnknownInterface","data-sentry-source-file":"UnknownInterface.tsx",children:(0,a.jsx)(l.Z,{type:"note",className:"max-w-xl",title:"Looking for something?",description:"We couldn't find the page that you're looking for","data-sentry-element":"Admonition","data-sentry-source-file":"UnknownInterface.tsx",children:(0,a.jsx)(i.$,{asChild:!0,type:"default",className:"mt-2","data-sentry-element":"Button","data-sentry-source-file":"UnknownInterface.tsx",children:(0,a.jsx)(r(),{href:t,"data-sentry-element":"Link","data-sentry-source-file":"UnknownInterface.tsx",children:"Head back"})})})})}},17904:(e,t,n)=>{"use strict";n.d(t,{$m:()=>c,As:()=>d,nD:()=>o,ub:()=>u});var a=n(80263),s=n(99502),r=n(72259),i=n(53239),l=n(51500);let o=s.bL,d=i.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(s.q7,{ref:t,className:(0,l.cn)("border-b",n),...r})});d.displayName="AccordionItem";let c=i.forwardRef((e,t)=>{let{className:n,children:i,hideIcon:o,...d}=e;return(0,a.jsx)(s.Y9,{className:"flex",children:(0,a.jsxs)(s.l9,{ref:t,className:(0,l.cn)("flex flex-1 gap-2 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180 text-left",n),...d,children:[i,!o&&(0,a.jsx)(r.A,{className:"h-4 w-4 transition-transform duration-200 shrink-0"})]})})});c.displayName=s.l9.displayName;let u=i.forwardRef((e,t)=>{let{className:n,children:r,...i}=e;return(0,a.jsx)(s.UC,{ref:t,className:(0,l.cn)("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",n),...i,children:(0,a.jsx)("div",{className:"pb-4 pt-0",children:r})})});u.displayName=s.UC.displayName},33888:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(15740).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},39412:(e,t,n)=>{"use strict";n.d(t,{xf:()=>h,sD:()=>g,Oe:()=>N,DG:()=>v,hw:()=>y});var a=n(80263),s=n(25643),r=n(96572),i=n(80903),l=n(53239),o=n(79279),d=n(32682),c=n(51500),u=n(2119),m=n(61965);let x=l.createContext(null),p=(0,c.cn)("relative text-foreground-lighter text-left px-2 py-1.5 rounded","hover:text-foreground hover:!bg-overlay-hover w-full flex items-center space-x-2","peer-data-[value=true]:bg-overlay-hover peer-data-[value=true]:text-strong");function f(){let e=l.useContext(x);if(!e)throw Error("useMultiSelect must be used within a MultiSelectProvider");return e}function h(e){var t;let{values:n=[],onValuesChange:s,disabled:r,dir:i,size:o,className:d,children:u,...p}=e,f=l.useRef(null),[h,y]=l.useState(!1),[b,j]=l.useState(""),[g,v]=l.useState(-1),N=l.useCallback(e=>{n.includes(e)?s(n.filter(t=>t!==e)||[]):s([...n,e])},[n]);t=()=>{h&&y(!h)},(0,l.useEffect)(()=>{let e=e=>{!f.current||f.current.contains(e.target)||t(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[f,t]);let w=l.useCallback(e=>{switch(e.key){case"Backspace":case"Delete":n.length>0&&0===b.length&&(-1!==g&&g<n.length?(s(n.filter(e=>e!==n[g])),v(g-1<0?0:g-1)):s(n.filter(e=>e!==n[n.length-1])));break;case"Escape":if(-1!==g?v(-1):y(!1),f.current){let e=f.current.querySelector('button[role="combobox"]');e&&e.focus()}break;case"Enter":y(!0)}},[n,b,g]);return(0,a.jsx)(x.Provider,{value:{values:n,toggleValue:N,onValuesChange:s,open:h,setOpen:y,inputValue:b,setInputValue:j,activeIndex:g,setActiveIndex:v,size:o||"small",disabled:r},"data-sentry-element":"MultiSelectContext.Provider","data-sentry-component":"MultiSelector","data-sentry-source-file":"multi-select.tsx",children:(0,a.jsx)(m.uB,{ref:f,onKeyDown:w,className:(0,c.cn)("relative w-auto overflow-visible bg-transparent flex flex-col",d),dir:i,...p,"data-sentry-element":"Command","data-sentry-source-file":"multi-select.tsx",children:u})})}(0,o.F)("",{variants:{size:{...d.vs}},defaultVariants:{size:d.FE}});let y=l.forwardRef((e,t)=>{let{label:n,persistLabel:i=!1,className:o,deletableBadge:d=!0,badgeLimit:m=9999,showIcon:x=!0,mode:p="combobox",children:h,...y}=e,{activeIndex:b,values:g,setInputValue:v,toggleValue:N,disabled:w,setOpen:S}=f(),_=l.useRef(null);l.useImperativeHandle(t,()=>_.current);let C=l.useRef(null),I=l.useRef(null),[A,P]=l.useState([]),[D,k]=l.useState(0),[R,E]=l.useState(!1),M="wrap"===m,F="number"==typeof m,B="inline-combobox"===p;l.useEffect(()=>{(null==_?void 0:_.current)&&I.current&&(M?(P(g),k(0)):(P(g.slice(0,m)),k(Math.max(0,g.length-m))))},[g,m]);let z="rounded shrink-0 px-1.5",L=l.useCallback(e=>{S(!0),v(""),B&&(e.stopPropagation(),e.preventDefault(),setTimeout(()=>{var e;null==(e=C.current)||e.focus()},100))},[]);return(0,a.jsxs)("button",{ref:_,onClick:e=>!R&&L(e),disabled:w,type:"button",role:"combobox",className:(0,c.cn)("flex w-full min-w-[200px] min-h-[40px] items-center justify-between rounded-md border","border-alternative bg-foreground/[.026] px-3 py-2 text-sm","ring-offset-background placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","hover:border-primary transition-colors duration-200",o),...y,children:[(0,a.jsxs)("div",{ref:I,className:(0,c.cn)("flex gap-1 -ml-1 overflow-hidden flex-1",M&&"flex-wrap",!M&&"overflow-x-auto scrollbar-thin scrollbar-track-transparent transition-colors scrollbar-thumb-muted-foreground dark:scrollbar-thumb-muted scrollbar-thumb-rounded-lg"),children:[A.map(e=>(0,a.jsxs)(u.E,{className:z,children:[e,d&&(0,a.jsx)("div",{onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),onClick:t=>{t.stopPropagation(),N(e),E(!1)},className:"ml-1 text-foreground-lighter hover:text-foreground-light transition-colors pointer-events-auto",children:(0,a.jsx)(s.A,{size:12})})]},e)),D>0&&(0,a.jsx)(u.E,{className:z,children:F&&m<1?"".concat(D," item").concat(D>1?"s":""," selected"):"+".concat(D)}),(0,a.jsx)("span",{className:(0,c.cn)("text-foreground-muted whitespace-nowrap leading-[1.375rem] ml-1 opacity-0 transition-opacity hidden",!B&&(i||0===g.length)&&"opacity-100 visible inline"),children:n}),B&&(0,a.jsx)(j,{ref:C,showSearchIcon:!1,onValueChange:-1===b?v:void 0,placeholder:n,autoFocus:!1,wrapperClassName:(0,c.cn)("px-0 flex-1 border-none truncate",M&&"min-w-[85px]"),className:"py-0 px-1 truncate"})]}),x&&(0,a.jsx)(r.A,{size:16,strokeWidth:2,className:"text-foreground-lighter shrink-0 ml-1.5"})]})});y.displayName="MultiSelectorTrigger",h.Trigger=y;let b=(0,o.F)("bg-control border",{variants:{size:{...d.vs}},defaultVariants:{size:d.FE}}),j=l.forwardRef((e,t)=>{let{className:n,wrapperClassName:s,showResetIcon:r,showSearchIcon:i,...o}=e,{open:d,setOpen:u,inputValue:x,setInputValue:p,activeIndex:h,setActiveIndex:y,size:j,disabled:g}=f(),v=l.useRef(null);l.useImperativeHandle(t,()=>v.current);let N=()=>{setTimeout(()=>{(null==v?void 0:v.current)&&d&&v.current.focus()},100)};return(0,l.useEffect)(()=>{if(N(),!d){var e;null==(e=v.current)||e.blur()}},[d]),(0,a.jsx)(m.G7,{ref:v,value:x,onValueChange:-1===h?p:void 0,onFocus:()=>u(!0),onClick:()=>y(-1),tabIndex:d?0:-1,disabled:g,showSearchIcon:i,showResetIcon:r,handleReset:()=>{p(""),N()},wrapperClassName:s,className:(0,c.cn)(b({size:j}),"text-sm bg-transparent h-full flex-grow border-none outline-none placeholder:text-foreground-muted flex-1",-1!==h&&"caret-transparent",n),...o})});j.displayName="MultiSelectorInput",h.Input=j;let g=l.forwardRef((e,t)=>{let{className:n,children:s}=e,{open:r}=f();return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("absolute w-full bg-overlay shadow-md z-10 border border-overlay top-[calc(100%+0.25rem)] rounded-md transition-all -translate-y-3",r?"opacity-100 translate-y-0 visible duration-150 ease-[.76,0,.23,1]":"opacity-0 -translate-y-3 invisible duration-0",n),children:r&&s})});g.displayName="MultiSelectorContent",h.Content=g;let v=l.forwardRef((e,t)=>{let{className:n,children:s,creatable:r=!1}=e,{open:i,inputValue:l,setInputValue:o,toggleValue:d}=f(),u=s?Array.isArray(s)?s:"object"==typeof s&&"props"in s?s.props.children:[]:[],x=u.filter(e=>!!e.props.value).map(e=>e.props.value.toLowerCase()).some(e=>e===l.toLowerCase());return(0,a.jsxs)(m.oI,{ref:t,className:(0,c.cn)("p-2 flex flex-col gap-2 scrollbar-thin scrollbar-track-transparent transition-colors","scrollbar-thumb-muted-foreground dark:scrollbar-thumb-muted","scrollbar-thumb-rounded-lg w-full max-h-[300px] overflow-y-auto",n),children:[s,r&&l.length>0&&!x?(0,a.jsxs)(m.h_,{role:"option",onSelect:()=>{i&&d(l),o("")},className:p,children:['Create "',l,'"']}):r&&0===u.length?(0,a.jsx)("div",{className:"p-2 py-1.5 text-xs text-foreground-lighter font-italic",children:"Type to add a value"}):(0,a.jsx)(m.xL,{children:(0,a.jsx)("span",{className:"text-foreground-muted",children:"No results found"})})]})});v.displayName="MultiSelectorList",h.List=v;let N=l.forwardRef((e,t)=>{let{className:n,value:s,children:r,...l}=e,{values:o,setInputValue:d,toggleValue:u,open:x}=f(),h=o.includes(s);return(0,a.jsxs)(m.h_,{ref:t,tabIndex:x?0:-1,role:"option",onSelect:()=>{x&&u(s),d("")},className:(0,c.cn)(p,n),...l,children:[(0,a.jsx)("div",{className:(0,c.cn)("flex items-center justify-center","peer h-4 w-4 shrink-0 rounded border border-control bg-control/25 ring-offset-background","transition-colors duration-150 ease-in-out","hover:border-strong","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-foreground data-[state=checked]:text-background",h?"bg-foreground text-background":"[&_svg]:invisible"),children:(0,a.jsx)(i.A,{className:"h-3 w-3",strokeWidth:4})}),(0,a.jsx)("div",{className:"text-xs flex-grow leading-none pointer-events-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:pointer-events-none peer-disabled:opacity-50",children:r})]})});N.displayName="MultiSelectorItem",h.Item=N},82975:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var a=n(56947),s=n(65172),r=n(76184);async function i(e,t){let{projectRef:n}=e;if(!n)throw Error("projectRef is required");let{data:a,error:r}=await (0,s.Jt)("/platform/replication/{ref}/sources",{params:{path:{ref:n}},signal:t});return r&&(0,s.H4)(r),a}let l=function(e){let{projectRef:t}=e,{enabled:n=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.I)(r.l.sources(t),e=>{let{signal:n}=e;return i({projectRef:t},n)},{enabled:n&&void 0!==t,...s})}},84357:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(15740).A)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},92349:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>e6});var a=n(80263),s=n(75232),r=n(97507),i=n(33888),l=n(25757),o=n(3689),d=n(18687),c=n(75189),u=n(26587),m=n(796),x=n(15601),p=n.n(x),f=n(53239),h=n(26218),y=n(48465);n(19360);var b=n(92882),j=n(87645),g=n(63492),v=n(40022),N=n(93210),w=n(78358);let S=[{id:"1",type:"primary",data:{label:"Primary Database",region:"East US (Ohio)",provider:"AWS",regionIcon:"us-east-1"},position:{x:825,y:0}},{id:"2",type:"replica",data:{label:"Iceberg",details:"3 tables",regionIcon:"us-west-1"},position:{x:875,y:110}},{id:"3",type:"replica",data:{label:"BigQuery",details:"5 tables",regionIcon:"us-west-1"},position:{x:875,y:200}},{id:"4",type:"blank",position:{x:875,y:290},data:{}},{id:"5",type:"cta",position:{x:125,y:20},data:{}}],_=[{id:"e1-2",source:"1",target:"2",type:"smoothstep",animated:!0},{id:"e1-3",source:"1",target:"3",type:"smoothstep",animated:!0},{id:"e1-4",source:"1",target:"4",type:"smoothstep",animated:!0}],C=()=>(0,a.jsx)(h.Ln,{"data-sentry-element":"ReactFlowProvider","data-sentry-component":"ReplicationComingSoon","data-sentry-source-file":"ComingSoon.tsx",children:(0,a.jsx)(I,{"data-sentry-element":"ReplicationStaticMockup","data-sentry-source-file":"ComingSoon.tsx"})}),I=()=>{let e=(0,f.useMemo)(()=>S,[]),t=(0,f.useMemo)(()=>_,[]),{resolvedTheme:n}=(0,m.D)(),s=(0,f.useMemo)(()=>({primary:A,replica:P,blank:D,cta:k}),[]);return(0,a.jsxs)("div",{className:"relative border-t","data-sentry-component":"ReplicationStaticMockup","data-sentry-source-file":"ComingSoon.tsx",children:[(0,a.jsx)("div",{className:"h-[500px] w-full relative",children:(0,a.jsx)(h.Gc,{fitView:!0,fitViewOptions:{minZoom:.9,maxZoom:.9},className:"instance-configuration",zoomOnPinch:!1,zoomOnScroll:!1,nodesDraggable:!0,nodesConnectable:!1,zoomOnDoubleClick:!1,edgesFocusable:!1,edgesUpdatable:!1,nodes:e,edges:t,nodeTypes:s,proOptions:{hideAttribution:!0},"data-sentry-element":"ReactFlow","data-sentry-source-file":"ComingSoon.tsx",children:(0,a.jsx)(y.V,{color:"dark"===n?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.4)","data-sentry-element":"Background","data-sentry-source-file":"ComingSoon.tsx"})})}),(0,a.jsx)(R,{"data-sentry-element":"StaticDestinations","data-sentry-source-file":"ComingSoon.tsx"})]})},A=e=>{let{data:t}=e;return(0,a.jsxs)("div",{className:"flex flex-col rounded bg-surface-100 border border-default","data-sentry-component":"PrimaryNode","data-sentry-source-file":"ComingSoon.tsx",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between p-3",style:{width:w.M4/2+55},children:[(0,a.jsxs)("div",{className:"flex gap-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-brand-500 border border-brand-600 rounded-md flex items-center justify-center",children:(0,a.jsx)(i.A,{size:16,"data-sentry-element":"Database","data-sentry-source-file":"ComingSoon.tsx"})}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-0.5",children:[(0,a.jsx)("p",{className:"text-sm",children:t.label}),(0,a.jsx)("p",{className:"flex items-center gap-x-1",children:(0,a.jsx)("span",{className:"text-sm text-foreground-light",children:t.region})}),(0,a.jsx)("p",{className:"flex items-center gap-x-1",children:(0,a.jsx)("span",{className:"text-sm text-foreground-light",children:t.provider})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("img",{alt:"region icon",className:"w-6 rounded-sm mt-0.5",src:"".concat(g.o2,"/img/regions/").concat(t.regionIcon,".svg")}),(0,a.jsx)(l.A,{size:10,className:"bg-brand-500 stroke-none rounded-full","data-sentry-element":"Circle","data-sentry-source-file":"ComingSoon.tsx"})]})]}),(0,a.jsx)(h.h7,{type:"source",position:h.yX.Left,className:"opacity-25","data-sentry-element":"Handle","data-sentry-source-file":"ComingSoon.tsx"})]})},P=e=>{let{data:t}=e;return(0,a.jsxs)("div",{className:"flex flex-col rounded bg-surface-100 border border-default px-2","data-sentry-component":"ReplicaNode","data-sentry-source-file":"ComingSoon.tsx",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between p-3",style:{width:w.M4/2-10},children:[(0,a.jsx)("div",{className:"flex gap-x-3",children:(0,a.jsxs)("div",{className:"flex flex-col gap-y-0.5",children:[(0,a.jsx)("p",{className:"",children:t.label}),(0,a.jsx)("p",{className:"flex items-center gap-x-1",children:(0,a.jsx)("span",{className:"text-sm text-foreground-light",children:t.details})})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("img",{alt:"region icon",className:"w-6 rounded-sm mt-0.5",src:"".concat(g.o2,"/img/regions/").concat(t.regionIcon,".svg")}),(0,a.jsx)(l.A,{size:10,className:"bg-brand-500 stroke-none rounded-full","data-sentry-element":"Circle","data-sentry-source-file":"ComingSoon.tsx"})]})]}),(0,a.jsx)(h.h7,{type:"target",position:h.yX.Left,className:"opacity-25","data-sentry-element":"Handle","data-sentry-source-file":"ComingSoon.tsx"})]})},D=()=>(0,a.jsx)("div",{className:"flex flex-col rounded bg-surface-100 border border-default px-1","data-sentry-component":"BlankNode","data-sentry-source-file":"ComingSoon.tsx",children:(0,a.jsxs)("div",{className:"flex items-start justify-between p-3",style:{width:w.M4/2},children:[(0,a.jsx)("div",{className:"flex gap-x-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.A,{size:16,"data-sentry-element":"Plus","data-sentry-source-file":"ComingSoon.tsx"}),(0,a.jsx)("span",{className:"text-sm",children:"Add new"})]})}),(0,a.jsx)(h.h7,{type:"target",position:h.yX.Left,className:"opacity-25","data-sentry-element":"Handle","data-sentry-source-file":"ComingSoon.tsx"})]})}),k=()=>(0,a.jsx)(r.P.div,{className:"bg-surface-100 rounded-lg p-8 shadow-lg",style:{border:"1px solid",borderColor:"hsl(var(--foreground-default) / var(--border-opacity, 0.6))"},animate:{"--border-opacity":[.6,.4,.2,.1,.2,.4,.6]},transition:{duration:4,ease:"linear",repeat:Number.POSITIVE_INFINITY},"data-sentry-element":"motion.div","data-sentry-component":"CTANode","data-sentry-source-file":"ComingSoon.tsx",children:(0,a.jsxs)("div",{className:"grid gap-4  w-[425px] relative",children:[(0,a.jsx)("span",{className:"text-xs uppercase text-foreground-light",children:"Early Access"}),(0,a.jsx)("h2",{className:"text-lg",children:"Replicate Your Data in Real Time"}),(0,a.jsx)("p",{children:"Stream changes from your Postgres database into your data warehouse—no manual exports, no lag."}),(0,a.jsx)("p",{children:"We're rolling this out to a limited group of early adopters. Sign up to get early access."}),(0,a.jsx)("p",{children:(0,a.jsx)(v.$,{asChild:!0,type:"secondary","data-sentry-element":"Button","data-sentry-source-file":"ComingSoon.tsx",children:(0,a.jsx)(p(),{href:"https://forms.supabase.com/pg_replicate",target:"_blank",rel:"noreferrer","data-sentry-element":"Link","data-sentry-source-file":"ComingSoon.tsx",children:(0,a.jsxs)("span",{className:"flex items-center gap-x-1",children:["Request Early Access",(0,a.jsx)(d.A,{size:16,"data-sentry-element":"ArrowUpRight","data-sentry-source-file":"ComingSoon.tsx"})]})})})})]})}),R=()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col bg-surface-100 px-6 py-6 border-t relative ",children:[(0,a.jsx)("div",{className:"z-10 bg-surface-300 w-full h-full absolute top-0 left-0 opacity-30"}),(0,a.jsx)(b.eh,{"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"ComingSoon.tsx",children:(0,a.jsx)(b.gu,{className:"!py-0","data-sentry-element":"ScaffoldSection","data-sentry-source-file":"ComingSoon.tsx",children:(0,a.jsxs)("div",{className:"col-span-12",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"relative w-52",children:[(0,a.jsx)(c.A,{size:14,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-foreground-lighter","data-sentry-element":"Search","data-sentry-source-file":"ComingSoon.tsx"}),(0,a.jsx)(N.p,{className:"pl-9 bg-transparent h-8 pointer-events-none",placeholder:"Search...","data-sentry-element":"Input_Shadcn_","data-sentry-source-file":"ComingSoon.tsx"})]}),(0,a.jsx)(v.$,{disabled:!0,type:"primary",icon:(0,a.jsx)(o.A,{size:16}),className:"flex items-center pointer-events-none","data-sentry-element":"Button","data-sentry-source-file":"ComingSoon.tsx",children:"New destination"})]}),(0,a.jsx)(j.A,{head:[(0,a.jsx)(j.A.th,{children:"Name"},"name"),(0,a.jsx)(j.A.th,{children:"Publication"},"publication"),(0,a.jsx)(j.A.th,{children:"Lag"},"lag"),(0,a.jsx)(j.A.th,{children:"Status"},"status"),(0,a.jsx)(j.A.th,{},"actions")],className:"mt-4",body:[{name:"BigQuery",tables:4,lag:"55ms",status:"Enabled"},{name:"Iceberg",tables:4,lag:"85ms",status:"Enabled"},{name:"US East",tables:4,lag:"125ms",status:"Enabled"}].map((e,t)=>(0,a.jsxs)(j.A.tr,{children:[(0,a.jsx)(j.A.td,{children:e.name}),(0,a.jsx)(j.A.td,{children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-bold",children:"All"}),(0,a.jsxs)("span",{className:"text-sm text-foreground-lighter",children:[e.tables," tables"]})]})}),(0,a.jsx)(j.A.td,{children:e.lag}),(0,a.jsx)(j.A.td,{children:(0,a.jsxs)("span",{className:"flex items-center gap-3",children:[(0,a.jsx)(l.A,{size:10,className:"bg-brand-500 stroke-none rounded-full"}),e.status]})}),(0,a.jsx)(j.A.td,{className:"text-right",children:(0,a.jsx)("button",{className:"p-1",children:(0,a.jsx)(u.A,{size:18})})})]},t)),"data-sentry-element":"Table","data-sentry-source-file":"ComingSoon.tsx"})]})})})]})});var E=n(20313),M=n(56947),F=n(65172),B=n(76184);async function z(e,t){let{projectRef:n}=e;if(!n)throw Error("projectRef is required");let{data:a,error:s}=await (0,F.Jt)("/platform/replication/{ref}/destinations",{params:{path:{ref:n}},signal:t});return s&&(0,F.H4)(s),a}let L=function(e){let{projectRef:t}=e,{enabled:n=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,M.I)(B.l.destinations(t),e=>{let{signal:n}=e;return z({projectRef:t},n)},{enabled:n&&void 0!==t,...a})};async function T(e,t){let{projectRef:n}=e;if(!n)throw Error("projectRef is required");let{data:a,error:s}=await (0,F.Jt)("/platform/replication/{ref}/pipelines",{params:{path:{ref:n}},signal:t});return s&&(0,F.H4)(s),a}let q=function(e){let{projectRef:t}=e,{enabled:n=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,M.I)(B.l.pipelines(t),e=>{let{signal:n}=e;return T({projectRef:t},n)},{enabled:n&&void 0!==t,...a})};var O=n(82975),Q=n(51500),H=n(27799),$=n(32981),V=n(87494),U=n(73969),J=n(10663),W=n(32144),K=n(80251);async function Y(e,t){let{projectRef:n,destinationName:a,destinationConfig:{bigQuery:{projectId:s,datasetId:r,serviceAccountKey:i,maxStalenessMins:l}},pipelineConfig:{publicationName:o,batch:d},sourceId:c}=e;if(!n)throw Error("projectRef is required");let{data:u,error:m}=await (0,F.bE)("/platform/replication/{ref}/destinations-pipelines",{params:{path:{ref:n}},body:{source_id:c,destination_name:a,destination_config:{big_query:{project_id:s,dataset_id:r,service_account_key:i,...null!=l&&{max_staleness_mins:l}}},pipeline_config:{publication_name:o,...d?{batch:{max_size:d.maxSize,max_fill_ms:d.maxFillMs}}:{}}},signal:t});return m&&(0,F.H4)(m),u}let G=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,W.jE)();return(0,K.n)(e=>Y(e),{async onSuccess(t,n,s){let{projectRef:r}=n;await Promise.all([a.invalidateQueries(B.l.destinations(r)),a.invalidateQueries(B.l.pipelines(r))]),await (null==e?void 0:e(t,n,s))},async onError(e,n,a){void 0===t?U.oR.error("Failed to create destination or pipeline: ".concat(e.message)):t(e,n,a)},...n})};async function X(e,t){let{projectRef:n}=e;if(!n)throw Error("projectRef is required");let{data:a,error:s}=await (0,F.bE)("/platform/replication/{ref}/tenants-sources",{params:{path:{ref:n}},signal:t});return s&&(0,F.H4)(s),a}let Z=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,W.jE)();return(0,K.n)(e=>X(e),{async onSuccess(t,n,s){let{projectRef:r}=n;await a.invalidateQueries(B.l.sources(r)),await (null==e?void 0:e(t,n,s))},async onError(e,n,a){void 0===t?U.oR.error("Failed to create tenant or source: ".concat(e.message)):t(e,n,a)},...n})};async function ee(e,t){let{projectRef:n,destinationId:a}=e;if(!n)throw Error("projectRef is required");if(!a)throw Error("destinationId is required");let{data:s,error:r}=await (0,F.Jt)("/platform/replication/{ref}/destinations/{destination_id}",{params:{path:{ref:n,destination_id:a}},signal:t});return r&&(0,F.H4)(r),s}let et=function(e){let{projectRef:t,destinationId:n}=e,{enabled:a=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,M.I)(B.l.destinationById(t,n),e=>{let{signal:a}=e;return ee({projectRef:t,destinationId:n},a)},{enabled:a&&void 0!==t&&void 0!==n,...s})};var en=n(89463);async function ea(e,t){let{projectRef:n,sourceId:a}=e;if(!n)throw Error("projectRef is required");if(!a)throw Error("sourceId is required");let{data:s,error:r}=await (0,F.Jt)("/platform/replication/{ref}/sources/{source_id}/publications",{params:{path:{ref:n,source_id:a}},signal:t});return r&&(0,F.H4)(r),s.publications.filter(e=>"supabase_realtime"!==e.name)}let es=function(e){let{projectRef:t,sourceId:n}=e,{enabled:a=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,M.I)(B.l.publications(t,n),e=>{let{signal:a}=e;return ea({projectRef:t,sourceId:n},a)},{enabled:a&&void 0!==t&&void 0!==n,...s})};var er=n(23891);async function ei(e,t){let{destinationId:n,pipelineId:a,projectRef:s,destinationName:r,destinationConfig:{bigQuery:{projectId:i,datasetId:l,serviceAccountKey:o,maxStalenessMins:d}},pipelineConfig:{publicationName:c,batch:u},sourceId:m}=e;if(!s)throw Error("projectRef is required");let{data:x,error:p}=await (0,F.bE)("/platform/replication/{ref}/destinations-pipelines/{destination_id}/{pipeline_id}",{params:{path:{ref:s,destination_id:n,pipeline_id:a}},body:{destination_name:r,destination_config:{big_query:{project_id:i,dataset_id:l,service_account_key:o,...null!=d&&{max_staleness_mins:d}}},pipeline_config:{publication_name:c,...u&&{batch:{max_size:u.maxSize,max_fill_ms:u.maxFillMs}}},source_id:m},signal:t});return p&&(0,F.H4)(p),x}let el=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,W.jE)();return(0,K.n)(e=>ei(e),{async onSuccess(t,n,s){let{projectRef:r}=n;await Promise.all([a.invalidateQueries(B.l.destinations(r)),a.invalidateQueries(B.l.pipelines(r))]),await (null==e?void 0:e(t,n,s))},async onError(e,n,a){void 0===t?U.oR.error("Failed to update destination or pipeline: ".concat(e.message)):t(e,n,a)},...n})};var eo=n(12981),ed=n(9919),ec=n(47452),eu=n(40990),em=n(73815),ex=n(77635),ep=n(17904),ef=n(1012),eh=n(86254),ey=n(67258);async function eb(e,t){let{projectRef:n,sourceId:a,name:s,tables:r}=e;if(!n)throw Error("projectRef is required");let{data:i,error:l}=await (0,F.bE)("/platform/replication/{ref}/sources/{source_id}/publications",{params:{path:{ref:n,source_id:a}},body:{name:s,tables:r},signal:t});return l&&(0,F.H4)(l),i}let ej=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,W.jE)();return(0,K.n)(e=>eb(e),{async onSuccess(t,n,s){let{projectRef:r,sourceId:i}=n;await a.invalidateQueries(B.l.publications(r,i)),await (null==e?void 0:e(t,n,s))},async onError(e,n,a){void 0===t?U.oR.error("Failed to create publication: ".concat(e.message)):t(e,n,a)},...n})};async function eg(e,t){let{projectRef:n,sourceId:a}=e;if(!n)throw Error("projectRef is required");if(!a)throw Error("sourceId is required");let{data:s,error:r}=await (0,F.Jt)("/platform/replication/{ref}/sources/{source_id}/tables",{params:{path:{ref:n,source_id:a}},signal:t});return r&&(0,F.H4)(r),s}let ev=function(e){let{projectRef:t,sourceId:n}=e,{enabled:a=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,M.I)(B.l.tables(t,n),e=>{let{signal:a}=e;return eg({projectRef:t,sourceId:n},a)},{enabled:a&&void 0!==t&&void 0!==n,...s})};var eN=n(25643),ew=n(39412);let eS=e=>{let{visible:t,sourceId:n,onClose:r}=e,{ref:i}=(0,s.g)(),{mutateAsync:l,isLoading:o}=ej(),{data:d}=ev({projectRef:i,sourceId:n}),c="publication-editor",u=J.Ik({name:J.Yj().min(1,"Name is required"),tables:J.YO(J.Yj()).min(1,"At least one table is required")}),m={name:"",tables:[]},x=(0,V.mN)({mode:"onBlur",reValidateMode:"onBlur",resolver:(0,$.u)(u),defaultValues:m}),p=async e=>{if(!i)return console.error("Project ref is required");if(!n)return console.error("Source id is required");try{await l({projectRef:i,sourceId:n,name:e.name,tables:e.tables.map(e=>{let[t,n]=e.split(".");return{schema:t,name:n}})}),U.oR.success("Successfully created publication"),r()}catch(e){U.oR.error("Failed to create publication")}x.reset(m)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(ed.cj,{open:t,onOpenChange:r,"data-sentry-element":"Sheet","data-sentry-source-file":"NewPublicationPanel.tsx",children:(0,a.jsx)(ed.h,{showClose:!1,size:"default","data-sentry-element":"SheetContent","data-sentry-source-file":"NewPublicationPanel.tsx",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)(ed.Fm,{"data-sentry-element":"SheetHeader","data-sentry-source-file":"NewPublicationPanel.tsx",children:(0,a.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(ed.qp,{"data-sentry-element":"SheetTitle","data-sentry-source-file":"NewPublicationPanel.tsx",children:"New Publication"}),(0,a.jsx)(ed.Qs,{"data-sentry-element":"SheetDescription","data-sentry-source-file":"NewPublicationPanel.tsx",children:"Create a new publication to share table changes for replication"})]}),(0,a.jsxs)(ed.kN,{className:(0,Q.cn)("text-muted hover:opacity-100","focus:outline-none focus:ring-2","disabled:pointer-events-none"),"data-sentry-element":"SheetClose","data-sentry-source-file":"NewPublicationPanel.tsx",children:[(0,a.jsx)(eN.A,{className:"h-3 w-3","data-sentry-element":"X","data-sentry-source-file":"NewPublicationPanel.tsx"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})}),(0,a.jsx)(ed.Xc,{className:"flex-grow overflow-auto","data-sentry-element":"SheetSection","data-sentry-source-file":"NewPublicationPanel.tsx",children:(0,a.jsx)(ec.lV,{...x,"data-sentry-element":"Form_Shadcn_","data-sentry-source-file":"NewPublicationPanel.tsx",children:(0,a.jsxs)("form",{id:c,onSubmit:x.handleSubmit(p),className:"flex flex-col gap-y-4",children:[(0,a.jsx)(ec.zB,{control:x.control,name:"name",render:e=>{let{field:t}=e;return(0,a.jsx)(ey.M,{label:"Name",layout:"vertical",children:(0,a.jsx)(ec.MJ,{children:(0,a.jsx)(N.p,{...t,placeholder:"Name"})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"NewPublicationPanel.tsx"}),(0,a.jsx)(ec.zB,{control:x.control,name:"tables",render:e=>{let{field:t}=e;return(0,a.jsx)(ey.M,{label:"Tables",description:"Which tables to make available for replication",children:(0,a.jsx)(ec.MJ,{children:(0,a.jsxs)(ew.xf,{values:t.value,onValuesChange:t.onChange,disabled:o,children:[(0,a.jsx)(ew.xf.Trigger,{children:(0,a.jsx)(ew.xf.Input,{placeholder:"Select tables"})}),(0,a.jsx)(ew.xf.Content,{children:(0,a.jsx)(ew.xf.List,{children:null==d?void 0:d.tables.map(e=>(0,a.jsx)(ew.xf.Item,{value:"".concat(e.schema,".").concat(e.name),children:"".concat(e.schema,".").concat(e.name)},"".concat(e.schema,".").concat(e.name)))})})]})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"NewPublicationPanel.tsx"})]})})}),(0,a.jsxs)(ed.XW,{"data-sentry-element":"SheetFooter","data-sentry-source-file":"NewPublicationPanel.tsx",children:[(0,a.jsx)(v.$,{type:"default",disabled:o,onClick:r,"data-sentry-element":"Button","data-sentry-source-file":"NewPublicationPanel.tsx",children:"Cancel"}),(0,a.jsx)(v.$,{type:"primary",disabled:o,form:c,htmlType:"submit","data-sentry-element":"Button","data-sentry-source-file":"NewPublicationPanel.tsx",children:"Create publication"})]})]})})})})};var e_=n(96572),eC=n(28881),eI=n(80903),eA=n(9681),eP=n(61965),eD=n(38417);let ek=e=>{let{publications:t,loading:n,onNewPublicationClick:s,field:r}=e,[i,l]=(0,f.useState)(!1),[d,c]=(0,f.useState)((null==r?void 0:r.value)||""),[u,m]=(0,f.useState)("");function x(e){c(e),l(!1),r.onChange(e)}return(0,a.jsxs)(eA.AM,{modal:!1,open:i,onOpenChange:e=>{l(e),!e&&(null==r?void 0:r.onBlur)&&r.onBlur()},"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"PublicationsComboBox","data-sentry-source-file":"PublicationsComboBox.tsx",children:[(0,a.jsx)(eA.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"PublicationsComboBox.tsx",children:(0,a.jsx)(v.$,{type:"default",size:"medium",className:"w-full [&>span]:w-full text-left",iconRight:(0,a.jsx)(e_.A,{className:"text-foreground-muted",strokeWidth:2,size:14}),name:r.name,onBlur:r.onBlur,"data-sentry-element":"Button","data-sentry-source-file":"PublicationsComboBox.tsx",children:d||"Select publication"})}),(0,a.jsx)(eA.hl,{className:"p-0",sameWidthAsTrigger:!0,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"PublicationsComboBox.tsx",children:(0,a.jsxs)(eP.uB,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"PublicationsComboBox.tsx",children:[(0,a.jsx)(eP.G7,{placeholder:"Find publication...",value:u,onValueChange:function(e){m(e)},"data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"PublicationsComboBox.tsx"}),(0,a.jsxs)(eP.oI,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"PublicationsComboBox.tsx",children:[(0,a.jsx)(eP.xL,{"data-sentry-element":"CommandEmpty_Shadcn_","data-sentry-source-file":"PublicationsComboBox.tsx",children:n?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-center justify-center",children:[(0,a.jsx)(eC.A,{size:12,className:"animate-spin"}),"Loading..."]}):"No publications found"}),(0,a.jsx)(eP.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"PublicationsComboBox.tsx",children:(0,a.jsx)(eD.FK,{className:t.length>7?"h-[210px]":"","data-sentry-element":"ScrollArea","data-sentry-source-file":"PublicationsComboBox.tsx",children:t.map(e=>(0,a.jsxs)(eP.h_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{x(e)},onClick:()=>{x(e)},children:[(0,a.jsx)("span",{children:e}),d===e&&(0,a.jsx)(eI.A,{className:"text-brand",strokeWidth:2,size:13})]},e))})}),(0,a.jsx)(eP.fx,{"data-sentry-element":"CommandSeparator_Shadcn_","data-sentry-source-file":"PublicationsComboBox.tsx"}),(0,a.jsx)(eP.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"PublicationsComboBox.tsx",children:(0,a.jsxs)(eP.h_,{className:"cursor-pointer w-full",onSelect:s,onClick:s,"data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"PublicationsComboBox.tsx",children:[(0,a.jsx)(o.A,{size:14,strokeWidth:1.5,className:"mr-2","data-sentry-element":"Plus","data-sentry-source-file":"PublicationsComboBox.tsx"}),(0,a.jsx)("p",{children:"New publication"})]})})]})]})})]})},eR="destination-editor",eE=J.k5(["BigQuery"]),eM=J.Ik({type:eE,name:J.Yj().min(1,"Name is required"),projectId:J.Yj().min(1,"Project id is required"),datasetId:J.Yj().min(1,"Dataset id is required"),serviceAccountKey:J.Yj().min(1,"Service account key is required"),publicationName:J.Yj().min(1,"Publication is required"),maxSize:J.ai().min(1,"Max Size must be greater than 0").int().optional(),maxFillMs:J.ai().min(1,"Max Fill milliseconds should be greater than 0").int().optional(),maxStalenessMins:J.ai().nonnegative().optional()}),eF=e=>{let{visible:t,sourceId:n,onClose:r,existingDestination:i}=e,{ref:l}=(0,s.g)(),{setRequestStatus:o}=(0,eo.d0)(),d=!!i,[c,u]=(0,f.useState)(!1),{mutateAsync:m,isLoading:x}=Z(),{mutateAsync:p,isLoading:h}=G({onSuccess:()=>A.reset(I)}),{mutateAsync:y,isLoading:b}=el({onSuccess:()=>A.reset(I)}),{mutateAsync:j,isLoading:g}=(0,er.n)(),{data:w,isLoading:S}=es({projectRef:l,sourceId:n}),{data:_}=et({projectRef:l,destinationId:null==i?void 0:i.destinationId}),{data:C}=(0,en.u)({projectRef:l,pipelineId:null==i?void 0:i.pipelineId}),I=(0,f.useMemo)(()=>{var e,t,n,a,s,r,i,l,o,d,c,u,m,x,p,f,h;return{type:eE.enum.BigQuery,name:null!=(m=null==_?void 0:_.name)?m:"",projectId:null!=(x=null==_||null==(t=_.config)||null==(e=t.big_query)?void 0:e.project_id)?x:"",datasetId:null!=(p=null==_||null==(a=_.config)||null==(n=a.big_query)?void 0:n.dataset_id)?p:"",serviceAccountKey:null!=(f=null==_||null==(r=_.config)||null==(s=r.big_query)?void 0:s.service_account_key)?f:"",publicationName:null!=(h=null==C?void 0:C.config.publication_name)?h:"",maxSize:null==C||null==(l=C.config)||null==(i=l.batch)?void 0:i.max_size,maxFillMs:null==C||null==(d=C.config)||null==(o=d.batch)?void 0:o.max_fill_ms,maxStalenessMins:null==_||null==(u=_.config)||null==(c=u.big_query)?void 0:c.max_staleness_mins}},[_,C]),A=(0,V.mN)({mode:"onBlur",reValidateMode:"onBlur",resolver:(0,$.u)(eM),defaultValues:I}),P=h||b||g,D=async e=>{if(!l)return console.error("Project ref is required");if(!n)return console.error("Source id is required");try{if(d&&i){if(!i.pipelineId)return console.error("Pipeline id is required");let t={projectId:e.projectId,datasetId:e.datasetId,serviceAccountKey:e.serviceAccountKey};e.maxStalenessMins&&(t.maxStalenessMins=e.maxStalenessMins);let a={};e.maxSize&&(a.maxSize=e.maxSize),e.maxFillMs&&(a.maxFillMs=e.maxFillMs);let s=2===Object.keys(a).length;await y({destinationId:i.destinationId,pipelineId:i.pipelineId,projectRef:l,destinationName:e.name,destinationConfig:{bigQuery:t},pipelineConfig:{publicationName:e.publicationName,...s?{batch:a}:{}},sourceId:n});let d=i.enabled?"started":"stopped";i.enabled?(o(i.pipelineId,eo.Mf.RestartRequested,d),U.oR.success("Settings applied. Restarting the pipeline...")):(o(i.pipelineId,eo.Mf.StartRequested,d),U.oR.success("Settings applied. Starting the pipeline...")),j({projectRef:l,pipelineId:i.pipelineId}),r()}else{let t={projectId:e.projectId,datasetId:e.datasetId,serviceAccountKey:e.serviceAccountKey};e.maxStalenessMins&&(t.maxStalenessMins=e.maxStalenessMins);let a={};e.maxSize&&(a.maxSize=e.maxSize),e.maxFillMs&&(a.maxFillMs=e.maxFillMs);let s=2===Object.keys(a).length,{pipeline_id:i}=await p({projectRef:l,destinationName:e.name,destinationConfig:{bigQuery:t},sourceId:n,pipelineConfig:{publicationName:e.publicationName,...s?{batch:a}:{}}});o(i,eo.Mf.StartRequested,void 0),U.oR.success("Destination created. Starting the pipeline..."),j({projectRef:l,pipelineId:i}),r()}}catch(t){let e=d?"apply and run":"create and start";U.oR.error("Failed to ".concat(e," destination"))}},k=async()=>{if(!l)return console.error("Project ref is required");await m({projectRef:l})};return(0,f.useEffect)(()=>{d&&_&&C&&A.reset(I)},[_,C,d,I,A]),n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ed.cj,{open:t,onOpenChange:r,"data-sentry-element":"Sheet","data-sentry-source-file":"DestinationPanel.tsx",children:(0,a.jsx)(ed.h,{showClose:!1,size:"default","data-sentry-element":"SheetContent","data-sentry-source-file":"DestinationPanel.tsx",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",tabIndex:-1,children:[(0,a.jsxs)(ed.Fm,{"data-sentry-element":"SheetHeader","data-sentry-source-file":"DestinationPanel.tsx",children:[(0,a.jsx)(ed.qp,{"data-sentry-element":"SheetTitle","data-sentry-source-file":"DestinationPanel.tsx",children:d?"Edit destination":"Create a new destination"}),(0,a.jsx)(ed.Qs,{"data-sentry-element":"SheetDescription","data-sentry-source-file":"DestinationPanel.tsx",children:d?null:"Send data to a new destination"})]}),(0,a.jsx)(ed.Xc,{className:"flex-grow overflow-auto px-0 pb-0","data-sentry-element":"SheetSection","data-sentry-source-file":"DestinationPanel.tsx",children:(0,a.jsx)(ec.lV,{...A,"data-sentry-element":"Form_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx",children:(0,a.jsxs)("form",{id:eR,onSubmit:A.handleSubmit(D),children:[(0,a.jsxs)("div",{className:"px-5 pb-4",children:[(0,a.jsx)(ec.zB,{control:A.control,name:"name",render:e=>{let{field:t}=e;return(0,a.jsx)(ey.M,{className:"mb-8",label:"Name",layout:"vertical",description:"A name you will use to identify this destination",children:(0,a.jsx)(ec.MJ,{children:(0,a.jsx)(N.p,{...t,placeholder:"Name"})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx"}),(0,a.jsx)("h3",{className:"mb-4",children:"What data to send"}),(0,a.jsx)(ec.zB,{control:A.control,name:"publicationName",render:e=>{let{field:t}=e;return(0,a.jsx)(ey.M,{className:"mb-4",label:"Publication",layout:"vertical",description:"A publication is a collection of tables that you want to replicate ",children:(0,a.jsx)(ec.MJ,{children:(0,a.jsx)(ek,{publications:(null==w?void 0:w.map(e=>e.name))||[],loading:S,field:t,onNewPublicationClick:()=>u(!0)})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx"}),(0,a.jsx)("h3",{className:"mb-4 mt-8",children:"Where to send that data"}),(0,a.jsx)(ec.zB,{name:"type",control:A.control,render:e=>{let{field:t}=e;return(0,a.jsx)(ey.M,{className:"mb-4",label:"Type",layout:"vertical",description:"The type of destination to send the data to",children:(0,a.jsx)(ec.MJ,{children:(0,a.jsxs)(eu.l6,{value:t.value,children:[(0,a.jsx)(eu.bq,{children:t.value}),(0,a.jsx)(eu.gC,{children:(0,a.jsx)(eu.s3,{children:(0,a.jsx)(eu.eb,{value:"BigQuery",children:"BigQuery"})})})]})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx"}),(0,a.jsx)(ec.zB,{control:A.control,name:"projectId",render:e=>{let{field:t}=e;return(0,a.jsx)(ey.M,{className:"mb-4",label:"Project ID",layout:"vertical",description:"Which BigQuery project to send data to",children:(0,a.jsx)(ec.MJ,{children:(0,a.jsx)(N.p,{...t,placeholder:"Project ID"})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx"}),(0,a.jsx)(ec.zB,{control:A.control,name:"datasetId",render:e=>{let{field:t}=e;return(0,a.jsx)(ey.M,{className:"mb-4",label:"Project's Dataset ID",layout:"vertical",children:(0,a.jsx)(ec.MJ,{children:(0,a.jsx)(N.p,{...t,placeholder:"Dataset ID"})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx"}),(0,a.jsx)(ec.zB,{control:A.control,name:"serviceAccountKey",render:e=>{let{field:t}=e;return(0,a.jsx)(ey.M,{label:"Service Account Key",layout:"vertical",description:"The service account key for BigQuery",children:(0,a.jsx)(ec.MJ,{children:(0,a.jsx)(em.f,{...t,rows:4,maxLength:5e3,placeholder:"Service account key"})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx"})]}),(0,a.jsx)(ex.w,{"data-sentry-element":"Separator","data-sentry-source-file":"DestinationPanel.tsx"}),(0,a.jsx)("div",{className:"px-5",children:(0,a.jsx)(ep.nD,{type:"single",collapsible:!0,"data-sentry-element":"Accordion_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx",children:(0,a.jsxs)(ep.As,{value:"item-1",className:"border-none","data-sentry-element":"AccordionItem_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx",children:[(0,a.jsx)(ep.$m,{className:"font-normal gap-2 justify-between text-sm","data-sentry-element":"AccordionTrigger_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx",children:"Advanced Settings"}),(0,a.jsxs)(ep.ub,{asChild:!0,className:"!pb-0","data-sentry-element":"AccordionContent_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx",children:[(0,a.jsx)(ec.zB,{control:A.control,name:"maxSize",render:e=>{var t;let{field:n}=e;return(0,a.jsx)(ey.M,{className:"mb-4",label:"Max size",layout:"vertical",description:"The maximum size of the data to send. Leave empty to use default value.",children:(0,a.jsx)(ec.MJ,{children:(0,a.jsx)(N.p,{...n,type:"number",value:null!=(t=n.value)?t:"",onChange:e=>{let t=e.target.value;n.onChange(""===t?void 0:Number(t))},placeholder:"Leave empty for default"})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx"}),(0,a.jsx)(ec.zB,{control:A.control,name:"maxFillMs",render:e=>{var t;let{field:n}=e;return(0,a.jsx)(ey.M,{className:"mb-4",label:"Max fill milliseconds",layout:"vertical",description:"The maximum amount of time to fill the data in milliseconds. Leave empty to use default value.",children:(0,a.jsx)(ec.MJ,{children:(0,a.jsx)(N.p,{...n,type:"number",value:null!=(t=n.value)?t:"",onChange:e=>{let t=e.target.value;n.onChange(""===t?void 0:Number(t))},placeholder:"Leave empty for default"})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx"}),(0,a.jsx)(ec.zB,{control:A.control,name:"maxStalenessMins",render:e=>{var t;let{field:n}=e;return(0,a.jsx)(ey.M,{className:"mb-4",label:"Max staleness minutes",layout:"vertical",description:"Maximum staleness time allowed in minutes. Leave empty to use default value.",children:(0,a.jsx)(ec.MJ,{children:(0,a.jsx)(N.p,{...n,type:"number",value:null!=(t=n.value)?t:"",onChange:e=>{let t=e.target.value;n.onChange(""===t?void 0:Number(t))},placeholder:"Leave empty for default"})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx"})]})]})})})]})})}),(0,a.jsxs)(ed.XW,{"data-sentry-element":"SheetFooter","data-sentry-source-file":"DestinationPanel.tsx",children:[(0,a.jsx)(v.$,{disabled:P,type:"default",onClick:r,"data-sentry-element":"Button","data-sentry-source-file":"DestinationPanel.tsx",children:"Cancel"}),(0,a.jsx)(v.$,{loading:P,form:eR,htmlType:"submit","data-sentry-element":"Button","data-sentry-source-file":"DestinationPanel.tsx",children:d?(null==i?void 0:i.enabled)?"Apply and restart":"Apply and start":"Create and start"})]})]})})}),(0,a.jsx)(eS,{visible:c,sourceId:n,onClose:()=>u(!1),"data-sentry-element":"NewPublicationPanel","data-sentry-source-file":"DestinationPanel.tsx"})]}):(0,a.jsx)(ed.cj,{open:t,onOpenChange:r,"data-sentry-element":"Sheet","data-sentry-component":"DestinationPanel","data-sentry-source-file":"DestinationPanel.tsx",children:(0,a.jsx)(ed.h,{showClose:!1,size:"default","data-sentry-element":"SheetContent","data-sentry-source-file":"DestinationPanel.tsx",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",tabIndex:-1,children:[(0,a.jsx)(ed.Fm,{"data-sentry-element":"SheetHeader","data-sentry-source-file":"DestinationPanel.tsx",children:(0,a.jsx)(ed.qp,{"data-sentry-element":"SheetTitle","data-sentry-source-file":"DestinationPanel.tsx",children:"Create a new destination"})}),(0,a.jsx)(ed.Xc,{className:"flex-grow overflow-auto","data-sentry-element":"SheetSection","data-sentry-source-file":"DestinationPanel.tsx",children:(0,a.jsxs)(ef.Fc,{"data-sentry-element":"Alert_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx",children:[(0,a.jsx)(eh.id,{"data-sentry-element":"WarningIcon","data-sentry-source-file":"DestinationPanel.tsx"}),(0,a.jsx)(ef.XL,{"data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx",children:"Enabling replication will cost additional $xx.xx"}),(0,a.jsxs)(ef.TN,{"data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"DestinationPanel.tsx",children:[(0,a.jsx)("span",{}),(0,a.jsx)("div",{className:"flex items-center gap-x-2 mt-3",children:(0,a.jsx)(v.$,{type:"default",loading:x,onClick:k,"data-sentry-element":"Button","data-sentry-source-file":"DestinationPanel.tsx",children:"Enable replication"})})]})]})}),(0,a.jsx)(ed.XW,{"data-sentry-element":"SheetFooter","data-sentry-source-file":"DestinationPanel.tsx",children:(0,a.jsx)(v.$,{disabled:x,type:"default",onClick:r,"data-sentry-element":"Button","data-sentry-source-file":"DestinationPanel.tsx",children:"Cancel"})})]})})})};async function eB(e,t){let{projectRef:n,destinationId:a,pipelineId:s}=e;if(!n)throw Error("projectRef is required");let{data:r,error:i}=await (0,F.yH)("/platform/replication/{ref}/destinations-pipelines/{destination_id}/{pipeline_id}",{params:{path:{ref:n,destination_id:a,pipeline_id:s}},signal:t});return i&&(0,F.H4)(i),r}let ez=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,W.jE)();return(0,K.n)(e=>eB(e),{async onSuccess(t,n,s){let{projectRef:r,destinationId:i,pipelineId:l}=n;await Promise.all([a.invalidateQueries(B.l.destinations(r)),a.invalidateQueries(B.l.pipelines(r)),a.invalidateQueries(B.l.pipelineById(r,l)),a.invalidateQueries(B.l.pipelinesStatus(r,l)),a.invalidateQueries(B.l.pipelinesReplicationStatus(r,l)),a.invalidateQueries(B.l.destinationById(r,i))]),await (null==e?void 0:e(t,n,s))},async onError(e,n,a){void 0===t?U.oR.error("Failed to delete destination and pipeline: ".concat(e.message)):t(e,n,a)},...n})};var eL=n(64919),eT=n(85790),eq=n(55039),eO=n(87610),eQ=n(30435),eH=n(20168);let e$=e=>{let{visible:t,isLoading:n,name:s,setVisible:r,onDelete:i}=e;return(0,a.jsx)(eH.A,{variant:"destructive",visible:t,loading:n,title:"Delete this destination",confirmLabel:n?"Deleting…":"Delete destination",confirmPlaceholder:"Type in name of destination",confirmString:null!=s?s:"Unknown",text:'This will delete the destination "'.concat(s,'"'),alert:{title:"You cannot recover this destination once deleted."},onCancel:()=>r(!t),onConfirm:i,"data-sentry-element":"TextConfirmModal","data-sentry-component":"DeleteDestination","data-sentry-source-file":"DeleteDestination.tsx"})};var eV=n(30984),eU=n(22310),eJ=n(44382),eW=n(84357),eK=n(10819),eY=n(11192),eG=n(17089),eX=n(71139);let eZ=e=>{let{pipeline:t,pipelineStatus:n,error:r,isLoading:i,isError:l,onEditClick:o,onDeleteClick:d}=e,{ref:c}=(0,s.g)(),m=(0,eV.Ob)(n),x=m!==eU.G.STOPPED,{mutateAsync:p}=(0,er.n)(),{mutateAsync:f}=(0,eq.J)(),{setRequestStatus:h}=(0,eo.d0)(),y=async()=>{if(!c)return console.error("Project ref is required");if(!t)return U.oR.error(eV.n.NO_PIPELINE_FOUND);try{eV.xc.includes(m)&&h(t.id,eo.Mf.StartRequested,m),await p({projectRef:c,pipelineId:t.id})}catch(e){h(t.id,eo.Mf.None),U.oR.error(eV.n.ENABLE_DESTINATION)}},b=async()=>{if(!c)return void console.error("Project ref is required");if(!t)return void U.oR.error(eV.n.NO_PIPELINE_FOUND);try{eV.C4.includes(m)&&h(t.id,eo.Mf.StopRequested,m),await f({projectRef:c,pipelineId:t.id})}catch(e){h(t.id,eo.Mf.None),U.oR.error(eV.n.DISABLE_DESTINATION)}};return(0,a.jsxs)("div",{className:"flex justify-end items-center space-x-2","data-sentry-component":"RowMenu","data-sentry-source-file":"RowMenu.tsx",children:[i&&(0,a.jsx)(H.A,{}),l&&(0,a.jsx)(E.A,{error:r,subject:eV.n.RETRIEVE_PIPELINE_STATUS}),(0,a.jsxs)(eX.rI,{"data-sentry-element":"DropdownMenu","data-sentry-source-file":"RowMenu.tsx",children:[(0,a.jsx)(eX.ty,{asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"RowMenu.tsx",children:(0,a.jsx)(v.$,{type:"default",className:"px-1.5",icon:(0,a.jsx)(u.A,{}),"data-sentry-element":"Button","data-sentry-source-file":"RowMenu.tsx"})}),(0,a.jsxs)(eX.SQ,{side:"bottom",align:"end",className:"w-52","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"RowMenu.tsx",children:[x?(0,a.jsxs)(eX._2,{className:"space-x-2",onClick:b,children:[(0,a.jsx)(eW.A,{size:14}),(0,a.jsx)("p",{children:"Stop pipeline"})]}):(0,a.jsxs)(eX._2,{className:"space-x-2",onClick:y,children:[(0,a.jsx)(eK.A,{size:14}),(0,a.jsx)("p",{children:"Start pipeline"})]}),(0,a.jsx)(eX.mB,{"data-sentry-element":"DropdownMenuSeparator","data-sentry-source-file":"RowMenu.tsx"}),(0,a.jsxs)(eX._2,{className:"space-x-2",onClick:o,"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"RowMenu.tsx",children:[(0,a.jsx)(eY.A,{size:14,"data-sentry-element":"Edit","data-sentry-source-file":"RowMenu.tsx"}),(0,a.jsx)("p",{children:"Edit destination"})]}),(0,a.jsxs)(eX._2,{className:"space-x-2",onClick:d,"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"RowMenu.tsx",children:[(0,a.jsx)(eG.A,{stroke:"red",size:14,"data-sentry-element":"Trash","data-sentry-source-file":"RowMenu.tsx"}),(0,a.jsx)("p",{children:"Delete destination"})]})]})]})]})},e0=e=>{var t;let{sourceId:n,destinationId:r,destinationName:i,type:l,pipeline:o,error:d,isLoading:c,isError:u,isSuccess:m}=e,{ref:x}=(0,s.g)(),[h,y]=(0,f.useState)(!1),[b,g]=(0,f.useState)(!1),[N,w]=(0,f.useState)(!1),{data:S,error:_,isLoading:C,isError:I,isSuccess:A}=(0,eT.C)({projectRef:x,pipelineId:null==o?void 0:o.id},{refetchInterval:eJ.B}),{getRequestStatus:P,updatePipelineStatus:D}=(0,eo.d0)(),k=(null==o?void 0:o.id)?P(o.id):eo.Mf.None,{mutateAsync:R}=(0,eq.J)(),{mutateAsync:M}=ez({}),F=null==S?void 0:S.status,B=(0,eV.Ob)(F),{data:z}=(0,eL.K)({projectRef:x,pipelineId:null==o?void 0:o.id},{refetchInterval:eJ.B}),L=(null!=(t=null==z?void 0:z.table_statuses)?t:[]).filter(e=>{var t;return(null==(t=e.state)?void 0:t.name)==="error"}).length,T=async()=>{if(!x)return console.error("Project ref is required");if(!o)return U.oR.error(eV.n.NO_PIPELINE_FOUND);try{g(!0),await R({projectRef:x,pipelineId:o.id}),await M({projectRef:x,destinationId:r,pipelineId:o.id}),y(!1),U.oR.success('Deleted destination "'.concat(i,'"'))}catch(e){U.oR.error(eV.n.DELETE_DESTINATION)}finally{g(!1)}};return(0,f.useEffect)(()=>{(null==o?void 0:o.id)&&D(o.id,B)},[null==o?void 0:o.id,B,D]),(0,a.jsxs)(a.Fragment,{children:[u&&(0,a.jsx)(E.A,{error:d,subject:eV.n.RETRIEVE_PIPELINE}),m&&(0,a.jsxs)(j.A.tr,{children:[(0,a.jsx)(j.A.td,{children:c?(0,a.jsx)(H.A,{}):i}),(0,a.jsx)(j.A.td,{children:c?(0,a.jsx)(H.A,{}):l}),(0,a.jsx)(j.A.td,{children:c||!o?(0,a.jsx)(H.A,{}):(0,a.jsx)(eU.z,{pipelineStatus:null==S?void 0:S.status,error:_,isLoading:C,isError:I,isSuccess:A,requestStatus:k})}),(0,a.jsx)(j.A.td,{children:c||!o?(0,a.jsx)(H.A,{}):o.config.publication_name}),(0,a.jsx)(j.A.td,{children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-x-2",children:[(0,a.jsx)(v.$,{asChild:!0,type:"default",className:"relative",children:(0,a.jsx)(p(),{href:"/project/".concat(x,"/database/replication/").concat(null==o?void 0:o.id),children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,a.jsx)("span",{children:"View status"}),L>0&&(0,a.jsxs)(eQ.m_,{children:[(0,a.jsx)(eQ.k$,{children:(0,a.jsx)(eO.A,{size:14})}),(0,a.jsxs)(eQ.ZI,{side:"bottom",children:[L," table",1===L?"":"s"," have replication errors"]})]})]})})}),(0,a.jsx)(eZ,{pipeline:o,pipelineStatus:null==S?void 0:S.status,error:_,isLoading:C,isError:I,onDeleteClick:()=>y(!0),onEditClick:()=>w(!0)})]})})]}),(0,a.jsx)(e$,{visible:h,setVisible:y,onDelete:T,isLoading:b,name:i,"data-sentry-element":"DeleteDestination","data-sentry-source-file":"DestinationRow.tsx"}),(0,a.jsx)(eF,{visible:N,onClose:()=>w(!1),sourceId:n,existingDestination:{sourceId:n,destinationId:r,pipelineId:null==o?void 0:o.id,enabled:B===eU.G.STARTED},"data-sentry-element":"DestinationPanel","data-sentry-source-file":"DestinationRow.tsx"})]})},e1=()=>{var e,t,n;let[r,i]=(0,f.useState)(!1),[l,d]=(0,f.useState)(""),{ref:u}=(0,s.g)(),{data:m,error:x,isLoading:p,isError:h}=(0,O.Y)({projectRef:u}),y=null==m||null==(e=m.sources.find(e=>e.name===u))?void 0:e.id,{data:b,error:g,isLoading:w,isError:S,isSuccess:_}=L({projectRef:u}),{data:C,error:I,isLoading:A,isError:P,isSuccess:D}=q({projectRef:u}),k=_&&b.destinations.length>0,R=0===l.length?null!=(t=null==b?void 0:b.destinations)?t:[]:(null!=(n=null==b?void 0:b.destinations)?n:[]).filter(e=>e.name.toLowerCase().includes(l.toLowerCase()));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-foreground-lighter",size:14,"data-sentry-element":"Search","data-sentry-source-file":"Destinations.tsx"}),(0,a.jsx)(N.p,{className:"pl-9 h-7",placeholder:"Filter destinations",value:l,onChange:e=>d(e.target.value),"data-sentry-element":"Input_Shadcn_","data-sentry-source-file":"Destinations.tsx"})]})}),(0,a.jsx)(v.$,{type:"default",icon:(0,a.jsx)(o.A,{}),onClick:()=>i(!0),"data-sentry-element":"Button","data-sentry-source-file":"Destinations.tsx",children:"Add destination"})]})}),(0,a.jsxs)("div",{className:"w-full overflow-hidden overflow-x-auto",children:[(p||w)&&(0,a.jsx)(H.y,{}),(h||S)&&(0,a.jsx)(E.A,{error:x||g,subject:eV.n.RETRIEVE_DESTINATIONS}),k?(0,a.jsx)(j.A,{head:[(0,a.jsx)(j.A.th,{children:"Name"},"name"),(0,a.jsx)(j.A.th,{children:"Type"},"type"),(0,a.jsx)(j.A.th,{children:"Status"},"status"),(0,a.jsx)(j.A.th,{children:"Publication"},"publication"),(0,a.jsx)(j.A.th,{},"actions")],body:R.map(e=>{let t=null==C?void 0:C.pipelines.find(t=>t.destination_id===e.id);return(0,a.jsx)(e0,{sourceId:y,destinationId:e.id,destinationName:e.name,type:e.config.big_query?"BigQuery":"Other",pipeline:t,error:I,isLoading:A,isError:P,isSuccess:D},e.id)})}):!p&&!w&&!h&&!S&&(0,a.jsxs)("div",{className:(0,Q.cn)("w-full","border border-dashed bg-surface-100 border-overlay","flex flex-col px-10 rounded-lg justify-center items-center py-8 mt-4"),children:[(0,a.jsx)("h4",{children:"Send data to your first destination"}),(0,a.jsx)("p",{className:"prose text-sm text-center mt-1 max-w-full",children:"Use destinations to improve performance or run analysis on your data via integrations like BigQuery"}),(0,a.jsx)(v.$,{icon:(0,a.jsx)(o.A,{}),onClick:()=>i(!0),className:"mt-4",children:"Add destination"})]})]}),!p&&!w&&0===R.length&&k&&(0,a.jsx)("div",{className:"text-center py-8 text-foreground-light",children:(0,a.jsxs)("p",{children:['No destinations match "',l,'"']})}),(0,a.jsx)(eF,{visible:r,sourceId:y,onClose:()=>i(!1),"data-sentry-element":"DestinationPanel","data-sentry-source-file":"Destinations.tsx"})]})};var e2=n(46221),e5=n(96232),e4=n(92512),e9=n(11122),e3=n(97600);let e8=()=>{let{ref:e}=(0,s.g)(),t=(0,s._P)("enablePgReplicate");return(0,e3.x)("database:replication")?(0,a.jsx)(a.Fragment,{children:t?(0,a.jsx)(eo.zy,{children:(0,a.jsx)(b.eh,{children:(0,a.jsx)(b.gu,{children:(0,a.jsxs)("div",{className:"col-span-12",children:[(0,a.jsx)(e4.M,{title:"Replication"}),(0,a.jsx)(e1,{})]})})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.eh,{children:(0,a.jsx)(b.gu,{children:(0,a.jsx)("div",{className:"col-span-12",children:(0,a.jsx)(e4.M,{title:"Replication",description:"Send data to other destinations"})})})}),(0,a.jsx)(C,{})]})}):(0,a.jsx)(e9.c,{urlBack:"/project/".concat(e,"/database/schemas")})};e8.getLayout=e=>(0,a.jsx)(e5.A,{children:(0,a.jsx)(e2.A,{title:"Database Replication",children:e})});let e6=e8},97628:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/database/replication",function(){return n(92349)}])},99502:(e,t,n)=>{"use strict";n.d(t,{UC:()=>ei,Y9:()=>es,q7:()=>ea,bL:()=>en,l9:()=>er});var a=n(53239),s=n(30106),r=n(56070),i=n(71896),l=n(41375),o=n(57535),d=n(50155),c=n(78395),u=n(21388),m=n(30219),x=n(80263),p="Collapsible",[f,h]=(0,s.A)(p),[y,b]=f(p),j=a.forwardRef((e,t)=>{let{__scopeCollapsible:n,open:s,defaultOpen:r,disabled:i,onOpenChange:l,...c}=e,[u,f]=(0,o.i)({prop:s,defaultProp:r??!1,onChange:l,caller:p});return(0,x.jsx)(y,{scope:n,disabled:i,contentId:(0,m.B)(),open:u,onOpenToggle:a.useCallback(()=>f(e=>!e),[f]),children:(0,x.jsx)(d.sG.div,{"data-state":_(u),"data-disabled":i?"":void 0,...c,ref:t})})});j.displayName=p;var g="CollapsibleTrigger",v=a.forwardRef((e,t)=>{let{__scopeCollapsible:n,...a}=e,s=b(g,n);return(0,x.jsx)(d.sG.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":_(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...a,ref:t,onClick:(0,l.mK)(e.onClick,s.onOpenToggle)})});v.displayName=g;var N="CollapsibleContent",w=a.forwardRef((e,t)=>{let{forceMount:n,...a}=e,s=b(N,e.__scopeCollapsible);return(0,x.jsx)(u.C,{present:n||s.open,children:({present:e})=>(0,x.jsx)(S,{...a,ref:t,present:e})})});w.displayName=N;var S=a.forwardRef((e,t)=>{let{__scopeCollapsible:n,present:s,children:r,...l}=e,o=b(N,n),[u,m]=a.useState(s),p=a.useRef(null),f=(0,i.s)(t,p),h=a.useRef(0),y=h.current,j=a.useRef(0),g=j.current,v=o.open||u,w=a.useRef(v),S=a.useRef(void 0);return a.useEffect(()=>{let e=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,c.N)(()=>{let e=p.current;if(e){S.current=S.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();h.current=t.height,j.current=t.width,w.current||(e.style.transitionDuration=S.current.transitionDuration,e.style.animationName=S.current.animationName),m(s)}},[o.open,s]),(0,x.jsx)(d.sG.div,{"data-state":_(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...l,ref:f,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:v&&r})});function _(e){return e?"open":"closed"}var C=n(39963),I="Accordion",A=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[P,D,k]=(0,r.N)(I),[R,E]=(0,s.A)(I,[k,h]),M=h(),F=a.forwardRef((e,t)=>{let{type:n,...a}=e;return(0,x.jsx)(P.Provider,{scope:e.__scopeAccordion,children:"multiple"===n?(0,x.jsx)(O,{...a,ref:t}):(0,x.jsx)(q,{...a,ref:t})})});F.displayName=I;var[B,z]=R(I),[L,T]=R(I,{collapsible:!1}),q=a.forwardRef((e,t)=>{let{value:n,defaultValue:s,onValueChange:r=()=>{},collapsible:i=!1,...l}=e,[d,c]=(0,o.i)({prop:n,defaultProp:s??"",onChange:r,caller:I});return(0,x.jsx)(B,{scope:e.__scopeAccordion,value:a.useMemo(()=>d?[d]:[],[d]),onItemOpen:c,onItemClose:a.useCallback(()=>i&&c(""),[i,c]),children:(0,x.jsx)(L,{scope:e.__scopeAccordion,collapsible:i,children:(0,x.jsx)($,{...l,ref:t})})})}),O=a.forwardRef((e,t)=>{let{value:n,defaultValue:s,onValueChange:r=()=>{},...i}=e,[l,d]=(0,o.i)({prop:n,defaultProp:s??[],onChange:r,caller:I}),c=a.useCallback(e=>d((t=[])=>[...t,e]),[d]),u=a.useCallback(e=>d((t=[])=>t.filter(t=>t!==e)),[d]);return(0,x.jsx)(B,{scope:e.__scopeAccordion,value:l,onItemOpen:c,onItemClose:u,children:(0,x.jsx)(L,{scope:e.__scopeAccordion,collapsible:!0,children:(0,x.jsx)($,{...i,ref:t})})})}),[Q,H]=R(I),$=a.forwardRef((e,t)=>{let{__scopeAccordion:n,disabled:s,dir:r,orientation:o="vertical",...c}=e,u=a.useRef(null),m=(0,i.s)(u,t),p=D(n),f="ltr"===(0,C.jH)(r),h=(0,l.mK)(e.onKeyDown,e=>{if(!A.includes(e.key))return;let t=e.target,n=p().filter(e=>!e.ref.current?.disabled),a=n.findIndex(e=>e.ref.current===t),s=n.length;if(-1===a)return;e.preventDefault();let r=a,i=s-1,l=()=>{(r=a+1)>i&&(r=0)},d=()=>{(r=a-1)<0&&(r=i)};switch(e.key){case"Home":r=0;break;case"End":r=i;break;case"ArrowRight":"horizontal"===o&&(f?l():d());break;case"ArrowDown":"vertical"===o&&l();break;case"ArrowLeft":"horizontal"===o&&(f?d():l());break;case"ArrowUp":"vertical"===o&&d()}let c=r%s;n[c].ref.current?.focus()});return(0,x.jsx)(Q,{scope:n,disabled:s,direction:r,orientation:o,children:(0,x.jsx)(P.Slot,{scope:n,children:(0,x.jsx)(d.sG.div,{...c,"data-orientation":o,ref:m,onKeyDown:s?void 0:h})})})}),V="AccordionItem",[U,J]=R(V),W=a.forwardRef((e,t)=>{let{__scopeAccordion:n,value:a,...s}=e,r=H(V,n),i=z(V,n),l=M(n),o=(0,m.B)(),d=a&&i.value.includes(a)||!1,c=r.disabled||e.disabled;return(0,x.jsx)(U,{scope:n,open:d,disabled:c,triggerId:o,children:(0,x.jsx)(j,{"data-orientation":r.orientation,"data-state":et(d),...l,...s,ref:t,disabled:c,open:d,onOpenChange:e=>{e?i.onItemOpen(a):i.onItemClose(a)}})})});W.displayName=V;var K="AccordionHeader",Y=a.forwardRef((e,t)=>{let{__scopeAccordion:n,...a}=e,s=H(I,n),r=J(K,n);return(0,x.jsx)(d.sG.h3,{"data-orientation":s.orientation,"data-state":et(r.open),"data-disabled":r.disabled?"":void 0,...a,ref:t})});Y.displayName=K;var G="AccordionTrigger",X=a.forwardRef((e,t)=>{let{__scopeAccordion:n,...a}=e,s=H(I,n),r=J(G,n),i=T(G,n),l=M(n);return(0,x.jsx)(P.ItemSlot,{scope:n,children:(0,x.jsx)(v,{"aria-disabled":r.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:r.triggerId,...l,...a,ref:t})})});X.displayName=G;var Z="AccordionContent",ee=a.forwardRef((e,t)=>{let{__scopeAccordion:n,...a}=e,s=H(I,n),r=J(Z,n),i=M(n);return(0,x.jsx)(w,{role:"region","aria-labelledby":r.triggerId,"data-orientation":s.orientation,...i,...a,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function et(e){return e?"open":"closed"}ee.displayName=Z;var en=F,ea=W,es=Y,er=X,ei=ee}},e=>{var t=t=>e(e.s=t);e.O(0,[89,2313,5233,9441,7494,4280,7598,4915,4560,6797,4674,2360,6110,6712,7795,4968,876,5089,9239,1895,3709,5573,9897,6585,1972,7686,8343,2690,6232,597,8119,1533,1018,636,6593,8792],()=>t(97628)),_N_E=e.O()}]);