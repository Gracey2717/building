try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="61b6a6da-2e77-49b1-aff3-2b3478ef0d88",e._sentryDebugIdIdentifier="sentry-dbid-61b6a6da-2e77-49b1-aff3-2b3478ef0d88")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4986,6616,8966],{3434:(e,t,n)=>{"use strict";n.d(t,{A0:()=>l,BF:()=>c,Gg:()=>d,Hj:()=>u,XI:()=>i,nA:()=>f,nd:()=>p,r6:()=>m});var r=n(80263),a=n(53239),o=n(51500),s=n(95083);let i=a.forwardRef((e,t)=>{let{className:n,containerProps:a,...i}=e;return(0,r.jsx)(s.x,{...a,children:(0,r.jsx)("table",{ref:t,className:(0,o.cn)("w-full caption-bottom text-sm",n),...i})})});i.displayName="Table";let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("thead",{ref:t,className:(0,o.cn)("[&_tr]:border-b [&>tr]:bg-200",n),...a})});l.displayName="TableHeader";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,o.cn)("[&_tr:last-child]:border-0",n),...a})});c.displayName="TableBody";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,o.cn)("bg-primary font-medium text-primary-foreground",n),...a})});d.displayName="TableFooter";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("tr",{ref:t,className:(0,o.cn)("border-b [&>td]:hover:bg-surface-200 data-[state=selected]:bg-muted",n),...a})});u.displayName="TableRow";let p=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("th",{ref:t,className:(0,o.cn)("h-10 px-4 text-left align-middle heading-meta text-foreground-lighter [&:has([role=checkbox])]:pr-0",n),...a})});p.displayName="TableHead";let f=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("td",{ref:t,className:(0,o.cn)("transition-colors p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...a})});f.displayName="TableCell";let m=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("caption",{ref:t,className:(0,o.cn)("mt-4 text-sm text-foreground-muted",n),...a})});m.displayName="TableCaption"},5043:(e,t,n)=>{"use strict";n.d(t,{Lh:()=>u,T_:()=>y});var r=n(32144),a=n(80251),o=n(73969),s=n(26616),i=n.n(s),l=n(15629),c=n(48054),d=n(92403);let u="pgmq_public",p=i()("\ncreate schema if not exists ".concat(u,";\ngrant usage on schema ").concat(u," to postgres, anon, authenticated, service_role;\n\ncreate or replace function ").concat(u,".pop(\n    queue_name text\n)\n  returns setof pgmq.message_record\n  language plpgsql\n  set search_path = ''\nas $$\nbegin\n    return query\n    select *\n    from pgmq.pop(\n        queue_name := queue_name\n    );\nend;\n$$;\n\ncomment on function ").concat(u,".pop(queue_name text) is 'Retrieves and locks the next message from the specified queue.';\n\n\ncreate or replace function ").concat(u,".send(\n    queue_name text,\n    message jsonb,\n    sleep_seconds integer default 0  -- renamed from 'delay'\n)\n  returns setof bigint\n  language plpgsql\n  set search_path = ''\nas $$\nbegin\n    return query\n    select *\n    from pgmq.send(\n        queue_name := queue_name,\n        msg := message,\n        delay := sleep_seconds\n    );\nend;\n$$;\n\ncomment on function ").concat(u,".send(queue_name text, message jsonb, sleep_seconds integer) is 'Sends a message to the specified queue, optionally delaying its availability by a number of seconds.';\n\n\ncreate or replace function ").concat(u,".send_batch(\n    queue_name text,\n    messages jsonb[],\n    sleep_seconds integer default 0  -- renamed from 'delay'\n)\n  returns setof bigint\n  language plpgsql\n  set search_path = ''\nas $$\nbegin\n    return query\n    select *\n    from pgmq.send_batch(\n        queue_name := queue_name,\n        msgs := messages,\n        delay := sleep_seconds\n    );\nend;\n$$;\n\ncomment on function ").concat(u,".send_batch(queue_name text, messages jsonb[], sleep_seconds integer) is 'Sends a batch of messages to the specified queue, optionally delaying their availability by a number of seconds.';\n\n\ncreate or replace function ").concat(u,".archive(\n    queue_name text,\n    message_id bigint\n)\n  returns boolean\n  language plpgsql\n  set search_path = ''\nas $$\nbegin\n    return\n    pgmq.archive(\n        queue_name := queue_name,\n        msg_id := message_id\n    );\nend;\n$$;\n\ncomment on function ").concat(u,".archive(queue_name text, message_id bigint) is 'Archives a message by moving it from the queue to a permanent archive.';\n\n\ncreate or replace function ").concat(u,".delete(\n    queue_name text,\n    message_id bigint\n)\n  returns boolean\n  language plpgsql\n  set search_path = ''\nas $$\nbegin\n    return\n    pgmq.delete(\n        queue_name := queue_name,\n        msg_id := message_id\n    );\nend;\n$$;\n\ncomment on function ").concat(u,".delete(queue_name text, message_id bigint) is 'Permanently deletes a message from the specified queue.';\n\ncreate or replace function ").concat(u,".read(\n    queue_name text,\n    sleep_seconds integer,\n    n integer\n)\n  returns setof pgmq.message_record\n  language plpgsql\n  set search_path = ''\nas $$\nbegin\n    return query\n    select *\n    from pgmq.read(\n        queue_name := queue_name,\n        vt := sleep_seconds,\n        qty := n\n    );\nend;\n$$;\n\ncomment on function ").concat(u,'.read(queue_name text, sleep_seconds integer, n integer) is \'Reads up to "n" messages from the specified queue with an optional "sleep_seconds" (visibility timeout).\';\n\n-- Grant execute permissions on wrapper functions to roles\ngrant execute on function ').concat(u,".pop(text) to postgres, service_role, anon, authenticated;\ngrant execute on function pgmq.pop(text) to postgres, service_role, anon, authenticated;\n\ngrant execute on function ").concat(u,".send(text, jsonb, integer) to postgres, service_role, anon, authenticated;\ngrant execute on function pgmq.send(text, jsonb, integer) to postgres, service_role, anon, authenticated;\n\ngrant execute on function ").concat(u,".send_batch(text, jsonb[], integer) to postgres, service_role, anon, authenticated;\ngrant execute on function pgmq.send_batch(text, jsonb[], integer) to postgres, service_role, anon, authenticated;\n\ngrant execute on function ").concat(u,".archive(text, bigint) to postgres, service_role, anon, authenticated;\ngrant execute on function pgmq.archive(text, bigint) to postgres, service_role, anon, authenticated;\n\ngrant execute on function ").concat(u,".delete(text, bigint) to postgres, service_role, anon, authenticated;\ngrant execute on function pgmq.delete(text, bigint) to postgres, service_role, anon, authenticated;\n\ngrant execute on function ").concat(u,".read(text, integer, integer) to postgres, service_role, anon, authenticated;\ngrant execute on function pgmq.read(text, integer, integer) to postgres, service_role, anon, authenticated;\n\n-- For the service role, we want full access\n-- Grant permissions on existing tables\ngrant all privileges on all tables in schema pgmq to postgres, service_role;\n\n-- Ensure service_role has permissions on future tables\nalter default privileges in schema pgmq grant all privileges on tables to postgres, service_role;\n\ngrant usage on schema pgmq to postgres, anon, authenticated, service_role;\n\n\n/*\n  Grant access to sequences to API roles by default. Existing table permissions\n  continue to enforce insert restrictions. This is necessary to accommodate the\n  on-backup hook that rebuild queue table primary keys to avoid a pg_dump segfault.\n  This can be removed once logical backups are completely retired.\n*/\ngrant usage, select, update\non all sequences in schema pgmq\nto anon, authenticated, service_role;\n\nalter default privileges in schema pgmq\ngrant usage, select, update\non sequences\nto anon, authenticated, service_role;\n")),f=i()("\n  drop function if exists \n    ".concat(u,".pop(queue_name text),\n    ").concat(u,".send(queue_name text, message jsonb, sleep_seconds integer),\n    ").concat(u,".send_batch(queue_name text, message jsonb[], sleep_seconds integer),\n    ").concat(u,".archive(queue_name text, message_id bigint),\n    ").concat(u,".delete(queue_name text, message_id bigint),\n    ").concat(u,".read(queue_name text, sleep integer, n integer)\n  ;\n\n  -- Revoke execute permissions on inner pgmq functions to roles (inverse of enabling)\n  do $$\n  begin\n      if exists (select 1 from pg_namespace where nspname = 'pgmq') then\n          -- Revoke privileges on the schema itself\n          revoke all on schema pgmq from anon, authenticated, service_role;\n          \n          -- Revoke default privileges for future objects\n          alter default privileges in schema pgmq revoke all on tables from anon, authenticated, service_role;\n          alter default privileges in schema pgmq revoke all on sequences from anon, authenticated, service_role;\n          alter default privileges in schema pgmq revoke all on functions from anon, authenticated, service_role;\n      end if;\n  end $$;\n\n  drop schema if exists ").concat(u,";\n"));async function m(e){let{projectRef:t,connectionString:n,enable:r}=e,{result:a}=await (0,l.E)({projectRef:t,connectionString:n,sql:r?p:f,queryKey:["toggle-queues-exposure"]});return a}let y=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,r.jE)();return(0,a.n)(e=>m(e),{async onSuccess(t,n,r){let{projectRef:a}=n;await s.invalidateQueries(c.m.exposePostgrestStatus(a)),s.invalidateQueries(d.c.schemas(a)),await (null==e?void 0:e(t,n,r))},async onError(e,n,r){void 0===t?o.oR.error("Failed to toggle queue exposure via PostgREST: ".concat(e.message)):t(e,n,r)},...n})}},7634:(e,t,n)=>{"use strict";n.d(t,{_:()=>h});var r=n(80263),a=n(30788),o=n.n(a),s=n(37253),i=n.n(s),l=n(72259),c=n(80903),d=n(53239),u=n(9681),p=n(51500),f=n(61965),m=n(38417),y=n(10455);let h=e=>{let{options:t,value:n,placeholder:a,searchPlaceholder:s="Search for option",disabled:h=!1,onChange:g=()=>{}}=e,[x,b]=(0,d.useState)(!1),[v,j]=(0,d.useState)(n||[]),S=n||v,_=o()(t,["disabled"],["desc"]),w=e=>void 0!==(S||[]).find(t=>t===e.value),A=e=>{let n=w(e)?[...i()(S,e.value)]:[...S.concat([e.value])],r=t.filter(e=>e.disabled).map(e=>e.name),a=[...new Set(n.concat(r))];j(a),g(a)};return(0,r.jsx)("div",{className:h?"pointer-events-none opacity-50":"","data-sentry-component":"MultiSelectV2","data-sentry-source-file":"MultiSelectV2.tsx",children:(0,r.jsxs)(u.AM,{open:x,onOpenChange:b,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"MultiSelectV2.tsx",children:[(0,r.jsx)(u.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"MultiSelectV2.tsx",children:(0,r.jsxs)("div",{className:(0,p.cn)("relative border border-strong bg-control rounded","flex w-full flex-wrap items-start gap-1.5 p-1.5 cursor-pointer","".concat(0===S.length?"h-9":"")),onClick:()=>b(!0),children:[0===S.length&&a&&(0,r.jsx)("div",{className:"px-2 text-sm text-foreground-light h-full flex items-center",children:a}),S.map((e,t)=>{var n;let a="".concat(e,"-").concat(t),o=_.find(t=>t.value===e),s=null!=(n=null==o?void 0:o.disabled)&&n;return o?s?(0,r.jsx)(y.a,{name:o.name},a):(0,r.jsx)(y.h,{name:o.name,handleRemove:()=>A(o)},a):(0,r.jsx)(r.Fragment,{})}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 pl-3 pr-2 flex space-x-1 items-center cursor-pointer ",children:(0,r.jsx)(l.A,{size:16,strokeWidth:2,className:"text-foreground-lighter","data-sentry-element":"ChevronDown","data-sentry-source-file":"MultiSelectV2.tsx"})})]})}),(0,r.jsx)(u.hl,{className:"p-0 w-96 border-strong",side:"bottom",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"MultiSelectV2.tsx",children:(0,r.jsxs)(f.uB,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"MultiSelectV2.tsx",children:[(0,r.jsx)(f.G7,{placeholder:s,"data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"MultiSelectV2.tsx"}),(0,r.jsxs)(f.oI,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"MultiSelectV2.tsx",children:[(0,r.jsx)(f.xL,{"data-sentry-element":"CommandEmpty_Shadcn_","data-sentry-source-file":"MultiSelectV2.tsx",children:"No options found"}),(0,r.jsx)(f.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"MultiSelectV2.tsx",children:(0,r.jsx)(m.FK,{className:(0,p.cn)(_.length>7?"h-[210px]":""),"data-sentry-element":"ScrollArea","data-sentry-source-file":"MultiSelectV2.tsx",children:null==_?void 0:_.map(e=>{let t=!!(S&&S.find(t=>t===e.value));return(0,r.jsx)(f.h_,{value:e.value,className:"cursor-pointer w-full",onClick:()=>A(e),onSelect:()=>A(e),children:(0,r.jsxs)("div",{className:"w-full flex items-center justify-between",children:[e.name,t&&(0,r.jsx)(c.A,{size:14})]})},e.id)})})})]})]})})]})})}},10455:(e,t,n)=>{"use strict";n.d(t,{a:()=>o,h:()=>s});var r=n(80263),a=n(25643);let o=e=>{let{name:t}=e;return(0,r.jsx)("div",{className:"text-typography-body-light [[data-theme*=dark]_&]:text-typography-body-dark flex cursor-not-allowed items-center space-x-2 rounded bg-gray-600 py-0.5 px-2 text-sm","data-sentry-component":"BadgeDisabled","data-sentry-source-file":"Badges.tsx",children:(0,r.jsx)("span",{className:"opacity-50",children:t})})},s=e=>{let{name:t,handleRemove:n}=e;return(0,r.jsxs)("div",{className:"text-typography-body-light [[data-theme*=dark]_&]:text-typography-body-dark flex items-center space-x-2 rounded bg-surface-300 py-0.5 px-2 text-sm",onClick:e=>e.preventDefault(),"data-sentry-component":"BadgeSelected","data-sentry-source-file":"Badges.tsx",children:[(0,r.jsx)("span",{children:t}),(0,r.jsx)(a.A,{size:12,className:"cursor-pointer opacity-50 transition hover:opacity-100",onClick:e=>{e.preventDefault(),e.stopPropagation(),n()},"data-sentry-element":"X","data-sentry-source-file":"Badges.tsx"})]})}},12006:(e,t,n)=>{"use strict";n.d(t,{RB:()=>i,ov:()=>l});var r=n(56947),a=n(15629),o=n(48895);let s=()=>"\n    select\n      s.oid as \"id\",\n      w.fdwname as \"name\",\n      s.srvname as \"server_name\",\n      s.srvoptions as \"server_options\",\n      c.proname as \"handler\",\n      (\n        select jsonb_agg(\n          jsonb_build_object(\n            'id', c.oid::bigint,\n            'schema', relnamespace::regnamespace::text,\n            'name', c.relname,\n            'columns', (\n              select jsonb_agg(\n                jsonb_build_object(\n                  'name', a.attname,\n                  'type', pg_catalog.format_type(a.atttypid, a.atttypmod)\n                )\n              )\n              from pg_catalog.pg_attribute a\n              where a.attrelid = c.oid and a.attnum > 0 and not a.attisdropped\n            ),\n            'options', t.ftoptions\n          )\n        )\n        from pg_catalog.pg_class c\n        join pg_catalog.pg_foreign_table t on c.oid = t.ftrelid\n        where c.oid = any (select t.ftrelid from pg_catalog.pg_foreign_table t where t.ftserver = s.oid)\n      ) as \"tables\"\n    from pg_catalog.pg_foreign_server s\n    join pg_catalog.pg_foreign_data_wrapper w on s.srvfdw = w.oid\n    join pg_catalog.pg_proc c on w.fdwhandler = c.oid;\n  ";async function i(e,t){let{projectRef:n,connectionString:r}=e,o=s(),{result:i}=await (0,a.E)({projectRef:n,connectionString:r,sql:o,queryKey:["fdws"]},t);return i}let l=function(e){let{projectRef:t,connectionString:n}=e,{enabled:a=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.I)(o.Y.list(t),e=>{let{signal:r}=e;return i({projectRef:t,connectionString:n},r)},{enabled:a&&void 0!==t,...s})}},24771:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(80263);n(53239);let a=function(e){let{children:t,target:n="_blank",href:a,className:o,onClick:s,style:i}=e;return(0,r.jsx)("a",{onClick:s,href:a,target:n,rel:"noopener noreferrer",style:i,"data-sentry-component":"Link","data-sentry-source-file":"Link.tsx",children:t})}},26616:(e,t,n)=>{let r=n(56095),a=n(48646);r.SQLParsingError=a.SQLParsingError,r.parsingErrorCode=a.parsingErrorCode,e.exports=r},30788:(e,t,n)=>{var r=n(98198),a=n(33312);e.exports=function(e,t,n,o){return null==e?[]:(a(t)||(t=null==t?[]:[t]),a(n=o?void 0:n)||(n=null==n?[]:[n]),r(e,t,n))}},37253:(e,t,n)=>{var r=n(48550),a=n(92479),o=n(50084);e.exports=a(function(e,t){return o(e)?r(e,t):[]})},37490:(e,t,n)=>{"use strict";n.d(t,{HJ:()=>l});var r=n(56947),a=n(15629),o=n(92403);let s=e=>{let{table:t,schema:n}=e,r=[];t&&r.push("tablename = '".concat(t,"'")),n&&r.push("schemaname = '".concat(n,"'"));let a=r.length>0?"WHERE ".concat(r.join(" AND ")):"";return"\n  \n  SELECT\n    tbl.schemaname,\n    tbl.tablename,\n    tbl.quoted_name,\n    tbl.is_table,\n    json_agg(a) as columns\n  FROM\n    (\n      SELECT\n        n.nspname as schemaname,\n        c.relname as tablename,\n        (quote_ident(n.nspname) || '.' || quote_ident(c.relname)) as quoted_name,\n        true as is_table\n      FROM\n        pg_catalog.pg_class c\n        JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace\n      WHERE\n        c.relkind = 'r'\n        AND n.nspname not in ('information_schema', 'pg_catalog', 'pg_toast')\n        AND n.nspname not like 'pg_temp_%'\n        AND n.nspname not like 'pg_toast_temp_%'\n        AND has_schema_privilege(n.oid, 'USAGE') = true\n        AND has_table_privilege(quote_ident(n.nspname) || '.' || quote_ident(c.relname), 'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER') = true\n      union all\n      SELECT\n        n.nspname as schemaname,\n        c.relname as tablename,\n        (quote_ident(n.nspname) || '.' || quote_ident(c.relname)) as quoted_name,\n        false as is_table\n      FROM\n        pg_catalog.pg_class c\n        JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace\n      WHERE\n        c.relkind in ('v', 'm')\n        AND n.nspname not in ('information_schema', 'pg_catalog', 'pg_toast')\n        AND n.nspname not like 'pg_temp_%'\n        AND n.nspname not like 'pg_toast_temp_%'\n        AND has_schema_privilege(n.oid, 'USAGE') = true\n        AND has_table_privilege(quote_ident(n.nspname) || '.' || quote_ident(c.relname), 'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER') = true\n    ) as tbl\n    LEFT JOIN (\n      SELECT\n        attrelid,\n        attname,\n        format_type(atttypid, atttypmod) as data_type,\n        attnum,\n        attisdropped\n      FROM\n        pg_attribute\n    ) as a ON (\n      a.attrelid = tbl.quoted_name::regclass\n      AND a.attnum > 0\n      AND NOT a.attisdropped\n      AND has_column_privilege(tbl.quoted_name, a.attname, 'SELECT, INSERT, UPDATE, REFERENCES')\n    )\n  ".concat(a,"\n  GROUP BY schemaname, tablename, quoted_name, is_table;\n").trim()};async function i(e,t){let{projectRef:n,connectionString:r,table:o,schema:i}=e,l=s({table:o,schema:i}),{result:c}=await (0,a.E)({projectRef:n,connectionString:r,sql:l,queryKey:["table-columns",i,o]},t);return c}let l=function(e){let{projectRef:t,connectionString:n,schema:a,table:s}=e,{enabled:l=!0,...c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.I)(o.c.tableColumns(t,a,s),e=>{let{signal:r}=e;return i({projectRef:t,connectionString:n,schema:a,table:s},r)},{enabled:l&&void 0!==t,...c})}},42455:(e,t,n)=>{var r=n(15599).Buffer,a=n(23727);!function(){var t={992:function(e){e.exports=function(e,n,r){if(e.filter)return e.filter(n,r);if(null==e||"function"!=typeof n)throw TypeError();for(var a=[],o=0;o<e.length;o++)if(t.call(e,o)){var s=e[o];n.call(r,s,o,e)&&a.push(s)}return a};var t=Object.prototype.hasOwnProperty},256:function(e,t,n){"use strict";var r=n(192),a=n(139),o=a(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?a(n):n}},139:function(e,t,n){"use strict";var r=n(212),a=n(192),o=a("%Function.prototype.apply%"),s=a("%Function.prototype.call%"),i=a("%Reflect.apply%",!0)||r.call(s,o),l=a("%Object.getOwnPropertyDescriptor%",!0),c=a("%Object.defineProperty%",!0),d=a("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=i(r,s,arguments);return l&&c&&l(t,"length").configurable&&c(t,"length",{value:1+d(0,e.length-(arguments.length-1))}),t};var u=function(){return i(r,o,arguments)};c?c(e.exports,"apply",{value:u}):e.exports.apply=u},181:function(e){"use strict";e.exports=EvalError},545:function(e){"use strict";e.exports=Error},22:function(e){"use strict";e.exports=RangeError},803:function(e){"use strict";e.exports=ReferenceError},182:function(e){"use strict";e.exports=SyntaxError},202:function(e){"use strict";e.exports=TypeError},284:function(e){"use strict";e.exports=URIError},144:function(e){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString;e.exports=function(e,r,a){if("[object Function]"!==n.call(r))throw TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var s=0;s<o;s++)r.call(a,e[s],s,e);else for(var i in e)t.call(e,i)&&r.call(a,e[i],i,e)}},136:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var a=0;a<t.length;a+=1)n[a+e.length]=t[a];return n},a=function(e,t){for(var n=[],r=t||0,a=0;r<e.length;r+=1,a+=1)n[a]=e[r];return n},o=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n};e.exports=function(e){var s,i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw TypeError("Function.prototype.bind called on incompatible "+i);for(var l=a(arguments,1),c=n(0,i.length-l.length),d=[],u=0;u<c;u++)d[u]="$"+u;if(s=Function("binder","return function ("+o(d,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof s){var t=i.apply(this,r(l,arguments));return Object(t)===t?t:this}return i.apply(e,r(l,arguments))}),i.prototype){var p=function(){};p.prototype=i.prototype,s.prototype=new p,p.prototype=null}return s}},212:function(e,t,n){"use strict";var r=n(136);e.exports=Function.prototype.bind||r},192:function(e,t,n){"use strict";var r,a=n(545),o=n(181),s=n(22),i=n(803),l=n(182),c=n(202),d=n(284),u=Function,p=function(e){try{return u('"use strict"; return ('+e+").constructor;")()}catch(e){}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch(e){f=null}var m=function(){throw new c},y=f?function(){try{return arguments.callee,m}catch(e){try{return f(arguments,"callee").get}catch(e){return m}}}():m,h=n(115)(),g=n(14)(),x=Object.getPrototypeOf||(g?function(e){return e.__proto__}:null),b={},v="undefined"!=typeof Uint8Array&&x?x(Uint8Array):r,j={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":h&&x?x([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":a,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":b,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h&&x?x(x([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h&&x?x((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":s,"%ReferenceError%":i,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h&&x?x((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h&&x?x(""[Symbol.iterator]()):r,"%Symbol%":h?Symbol:r,"%SyntaxError%":l,"%ThrowTypeError%":y,"%TypedArray%":v,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":d,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(x)try{null.error}catch(e){var S=x(x(e));j["%Error.prototype%"]=S}var _=function e(t){var n;if("%AsyncFunction%"===t)n=p("async function () {}");else if("%GeneratorFunction%"===t)n=p("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=p("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var a=e("%AsyncGenerator%");a&&x&&(n=x(a.prototype))}return j[t]=n,n},w={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=n(212),N=n(270),E=A.call(Function.call,Array.prototype.concat),P=A.call(Function.apply,Array.prototype.splice),O=A.call(Function.call,String.prototype.replace),C=A.call(Function.call,String.prototype.slice),I=A.call(Function.call,RegExp.prototype.exec),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,q=function(e){var t=C(e,0,1),n=C(e,-1);if("%"===t&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var r=[];return O(e,k,function(e,t,n,a){r[r.length]=n?O(a,R,"$1"):t||e}),r},T=function(e,t){var n,r=e;if(N(w,r)&&(r="%"+(n=w[r])[0]+"%"),N(j,r)){var a=j[r];if(a===b&&(a=_(r)),void 0===a&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===I(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=q(e),r=n.length>0?n[0]:"",a=T("%"+r+"%",t),o=a.name,s=a.value,i=!1,d=a.alias;d&&(r=d[0],P(n,E([0,1],d)));for(var u=1,p=!0;u<n.length;u+=1){var m=n[u],y=C(m,0,1),h=C(m,-1);if(('"'===y||"'"===y||"`"===y||'"'===h||"'"===h||"`"===h)&&y!==h)throw new l("property names with quotes must have matching quotes");if("constructor"!==m&&p||(i=!0),r+="."+m,N(j,o="%"+r+"%"))s=j[o];else if(null!=s){if(!(m in s)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(f&&u+1>=n.length){var g=f(s,m);s=(p=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:s[m]}else p=N(s,m),s=s[m];p&&!i&&(j[o]=s)}}return s}},14:function(e){"use strict";var t={__proto__:null,foo:{}},n=Object;e.exports=function(){return({__proto__:t}).foo===t.foo&&!(t instanceof n)}},942:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,a=n(773);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&a()}},773:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},115:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,a=n(832);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&a()}},832:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},270:function(e,t,n){"use strict";var r=Function.prototype.call,a=Object.prototype.hasOwnProperty;e.exports=n(212).call(r,a)},782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},157:function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,n=Object.prototype.toString,r=function(e){return(!t||!e||"object"!=typeof e||!(Symbol.toStringTag in e))&&"[object Arguments]"===n.call(e)},a=function(e){return!!r(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==n.call(e)&&"[object Function]"===n.call(e.callee)},o=function(){return r(arguments)}();r.isLegacyArguments=a,e.exports=o?r:a},391:function(e){"use strict";var t=Object.prototype.toString,n=Function.prototype.toString,r=/^\s*(?:function)?\*/,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.getPrototypeOf,s=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}(),i=s?o(s):{};e.exports=function(e){return"function"==typeof e&&(!!r.test(n.call(e))||(a?o(e)===i:"[object GeneratorFunction]"===t.call(e)))}},994:function(e,t,r){"use strict";var a=r(144),o=r(349),s=r(256),i=s("Object.prototype.toString"),l=r(942)()&&"symbol"==typeof Symbol.toStringTag,c=o(),d=s("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return -1},u=s("String.prototype.slice"),p={},f=r(24),m=Object.getPrototypeOf;l&&f&&m&&a(c,function(e){var t=new n.g[e];if(!(Symbol.toStringTag in t))throw EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var r=m(t),a=f(r,Symbol.toStringTag);a||(a=f(m(r),Symbol.toStringTag)),p[e]=a.get});var y=function(e){var t=!1;return a(p,function(n,r){if(!t)try{t=n.call(e)===r}catch(e){}}),t};e.exports=function(e){return!!e&&"object"==typeof e&&(l?!!f&&y(e):d(c,u(i(e),8,-1))>-1)}},369:function(e){e.exports=function(e){return e instanceof r}},584:function(e,t,n){"use strict";var r=n(157),a=n(391),o=n(490),s=n(994);function i(e){return e.call.bind(e)}var l="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,d=i(Object.prototype.toString),u=i(Number.prototype.valueOf),p=i(String.prototype.valueOf),f=i(Boolean.prototype.valueOf);if(l)var m=i(BigInt.prototype.valueOf);if(c)var y=i(Symbol.prototype.valueOf);function h(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function g(e){return"[object Map]"===d(e)}function x(e){return"[object Set]"===d(e)}function b(e){return"[object WeakMap]"===d(e)}function v(e){return"[object WeakSet]"===d(e)}function j(e){return"[object ArrayBuffer]"===d(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(j.working?j(e):e instanceof ArrayBuffer)}function _(e){return"[object DataView]"===d(e)}function w(e){return"undefined"!=typeof DataView&&(_.working?_(e):e instanceof DataView)}t.isArgumentsObject=r,t.isGeneratorFunction=a,t.isTypedArray=s,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||w(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},g.working="undefined"!=typeof Map&&g(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(g.working?g(e):e instanceof Map)},x.working="undefined"!=typeof Set&&x(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(x.working?x(e):e instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(b.working?b(e):e instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),t.isWeakSet=function(e){return v(e)},j.working="undefined"!=typeof ArrayBuffer&&j(new ArrayBuffer),t.isArrayBuffer=S,_.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&_(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=w;var A="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function N(e){return"[object SharedArrayBuffer]"===d(e)}function E(e){return void 0!==A&&(void 0===N.working&&(N.working=N(new A)),N.working?N(e):e instanceof A)}function P(e){return h(e,u)}function O(e){return h(e,p)}function C(e){return h(e,f)}function I(e){return l&&h(e,m)}function k(e){return c&&h(e,y)}t.isSharedArrayBuffer=E,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===d(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===d(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===d(e)},t.isGeneratorObject=function(e){return"[object Generator]"===d(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===d(e)},t.isNumberObject=P,t.isStringObject=O,t.isBooleanObject=C,t.isBigIntObject=I,t.isSymbolObject=k,t.isBoxedPrimitive=function(e){return P(e)||O(e)||C(e)||I(e)||k(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||E(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw Error(e+" is not supported in userland")}})})},177:function(e,t,n){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,a=r.length,s=String(e).replace(o,function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),i=r[n];n<a;i=r[++n])g(i)||!S(i)?s+=" "+i:s+=" "+c(i);return s},t.deprecate=function(e,n){if(void 0!==a&&!0===a.noDeprecation)return e;if(void 0===a)return function(){return t.deprecate(e,n).apply(this,arguments)};var r=!1;return function(){if(!r){if(a.throwDeprecation)throw Error(n);a.traceDeprecation?console.trace(n):console.error(n),r=!0}return e.apply(this,arguments)}};var s={},i=/^$/;if(a.env.NODE_DEBUG){var l=a.env.NODE_DEBUG;i=RegExp("^"+(l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase())+"$","i")}function c(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=d),p(r,e,r.depth)}function d(e,t){var n=c.styles[t];return n?"\x1b["+c.colors[n][0]+"m"+e+"\x1b["+c.colors[n][1]+"m":e}function u(e,t){return e}function p(e,n,r){if(e.customInspect&&n&&A(n.inspect)&&n.inspect!==t.inspect&&!(n.constructor&&n.constructor.prototype===n)){var a,o,s,i,l,c,d=n.inspect(r,e);return b(d)||(d=p(e,d,r)),d}var u=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return x(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}(e,n);if(u)return u;var S=Object.keys(n),N=(l={},S.forEach(function(e,t){l[e]=!0}),l);if(e.showHidden&&(S=Object.getOwnPropertyNames(n)),w(n)&&(S.indexOf("message")>=0||S.indexOf("description")>=0))return f(n);if(0===S.length){if(A(n)){var E=n.name?": "+n.name:"";return e.stylize("[Function"+E+"]","special")}if(j(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return e.stylize(Date.prototype.toString.call(n),"date");if(w(n))return f(n)}var P="",C=!1,I=["{","}"];if(y(n)&&(C=!0,I=["[","]"]),A(n)&&(P=" [Function"+(n.name?": "+n.name:"")+"]"),j(n)&&(P=" "+RegExp.prototype.toString.call(n)),_(n)&&(P=" "+Date.prototype.toUTCString.call(n)),w(n)&&(P=" "+f(n)),0===S.length&&(!C||0==n.length))return I[0]+P+I[1];if(r<0)if(j(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");else return e.stylize("[Object]","special");return e.seen.push(n),c=C?function(e,t,n,r,a){for(var o=[],s=0,i=t.length;s<i;++s)O(t,String(s))?o.push(m(e,t,n,r,String(s),!0)):o.push("");return a.forEach(function(a){a.match(/^\d+$/)||o.push(m(e,t,n,r,a,!0))}),o}(e,n,r,N,S):S.map(function(t){return m(e,n,r,N,t,C)}),e.seen.pop(),a=c,o=P,s=I,i=0,a.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?s[0]+(""===o?"":o+"\n ")+" "+a.join(",\n  ")+" "+s[1]:s[0]+o+" "+a.join(", ")+" "+s[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function m(e,t,n,r,a,o){var s,i,l;if((l=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?i=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(i=e.stylize("[Setter]","special")),O(r,a)||(s="["+a+"]"),!i&&(0>e.seen.indexOf(l.value)?(i=g(n)?p(e,l.value,null):p(e,l.value,n-1)).indexOf("\n")>-1&&(i=o?i.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+i.split("\n").map(function(e){return"   "+e}).join("\n")):i=e.stylize("[Circular]","special")),v(s)){if(o&&a.match(/^\d+$/))return i;(s=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+i}function y(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function g(e){return null===e}function x(e){return"number"==typeof e}function b(e){return"string"==typeof e}function v(e){return void 0===e}function j(e){return S(e)&&"[object RegExp]"===N(e)}function S(e){return"object"==typeof e&&null!==e}function _(e){return S(e)&&"[object Date]"===N(e)}function w(e){return S(e)&&("[object Error]"===N(e)||e instanceof Error)}function A(e){return"function"==typeof e}function N(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(!s[e=e.toUpperCase()])if(i.test(e)){var n=a.pid;s[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else s[e]=function(){};return s[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=n(584),t.isArray=y,t.isBoolean=h,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=x,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=j,t.types.isRegExp=j,t.isObject=S,t.isDate=_,t.types.isDate=_,t.isError=w,t.types.isNativeError=w,t.isFunction=A,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(369);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(n=[E((e=new Date).getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":"),[e.getDate(),P[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(782),t._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(e,t){if(!e){var n=Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t=e[C];if("function"!=typeof t)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);a.push(function(e,r){e?n(e):t(r)});try{e.apply(this,a)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=C,t.callbackify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var r=t.pop();if("function"!=typeof r)throw TypeError("The last argument must be of type Function");var o=this,s=function(){return r.apply(o,arguments)};e.apply(this,t).then(function(e){a.nextTick(s.bind(null,null,e))},function(e){a.nextTick(I.bind(null,e,s))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,r(e)),t}},490:function(e,t,r){"use strict";var a=r(144),o=r(349),s=r(256),i=s("Object.prototype.toString"),l=r(942)()&&"symbol"==typeof Symbol.toStringTag,c=o(),d=s("String.prototype.slice"),u={},p=r(24),f=Object.getPrototypeOf;l&&p&&f&&a(c,function(e){if("function"==typeof n.g[e]){var t=new n.g[e];if(!(Symbol.toStringTag in t))throw EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var r=f(t),a=p(r,Symbol.toStringTag);a||(a=p(f(r),Symbol.toStringTag)),u[e]=a.get}});var m=function(e){var t=!1;return a(u,function(n,r){if(!t)try{var a=n.call(e);a===r&&(t=a)}catch(e){}}),t},y=r(994);e.exports=function(e){return!!y(e)&&(l?m(e):d(i(e),8,-1))}},349:function(e,t,r){"use strict";var a=r(992);e.exports=function(){return a(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(e){return"function"==typeof n.g[e]})}},24:function(e,t,n){"use strict";var r=n(192)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r}},o={};function s(e){var n=o[e];if(void 0!==n)return n.exports;var r=o[e]={exports:{}},a=!0;try{t[e](r,r.exports,s),a=!1}finally{a&&delete o[e]}return r.exports}s.ab="//",e.exports=s(177)}()},43242:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>f});var r=n(80263),a=n(53239),o=n(70800),s=n(51500),i=n(24771);function l(e){let{children:t,className:n,tag:a="div",style:o}=e;return(0,r.jsx)("".concat(a),{style:o,"data-sentry-element":"CustomTag","data-sentry-component":"Typography","data-sentry-source-file":"Typography.tsx",children:t})}l.Title=function(e){let{className:t,level:n=1,children:a,style:o}=e;return(0,r.jsx)("h".concat(n),{style:o,"data-sentry-element":"CustomTag","data-sentry-component":"Title","data-sentry-source-file":"Title.tsx",children:a})},l.Text=function(e){let{className:t,children:n,style:a,type:o,disabled:s,mark:i,code:l,keyboard:c,underline:d,strikethrough:u,strong:p,small:f}=e;return l?(0,r.jsx)("code",{style:a,children:n}):i?(0,r.jsx)("mark",{style:a,children:n}):c?(0,r.jsx)("kbd",{style:a,children:n}):p?(0,r.jsx)("strong",{style:a,children:n}):(0,r.jsx)("span",{style:a,"data-sentry-component":"Text","data-sentry-source-file":"Text.tsx",children:n})},l.Link=i.A;let c=(0,a.createContext)({type:"text"}),d=e=>{let{type:t}=e;return(0,r.jsx)(c.Provider,{value:{type:t},"data-sentry-element":"MenuContext.Provider","data-sentry-component":"MenuContextProvider","data-sentry-source-file":"MenuContext.tsx",children:e.children})},u=()=>{let e=(0,a.useContext)(c);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function p(e){let{children:t,className:n,ulClassName:a,style:o,type:s="text"}=e;return(0,r.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:n,style:o,"data-sentry-component":"Menu","data-sentry-source-file":"Menu.tsx",children:(0,r.jsx)(d,{type:s,"data-sentry-element":"MenuContextProvider","data-sentry-source-file":"Menu.tsx",children:(0,r.jsx)("ul",{className:a,children:t})})})}p.Item=function(e){let{children:t,icon:n,active:a,rounded:i,onClick:l,doNotCloseOverlay:c=!1,showActiveBar:d=!1,style:p}=e,f=(0,o.A)("menu"),{type:m}=u(),y=[f.item.base];y.push(f.item.variants[m].base),a?y.push(f.item.variants[m].active):y.push(f.item.variants[m].normal);let h=[f.item.content.base];a?h.push(f.item.content.active):h.push(f.item.content.normal);let g=[f.item.icon.base];return a?g.push(f.item.icon.active):g.push(f.item.icon.normal),(0,r.jsxs)("li",{role:"menuitem",className:(0,s.cn)("outline-none",y),style:p,onClick:l,"aria-current":a?"page":void 0,"data-sentry-component":"Item","data-sentry-source-file":"Menu.tsx",children:[n&&(0,r.jsx)("div",{className:"".concat(g.join(" ")," min-w-fit"),children:n}),(0,r.jsx)("span",{className:h.join(" "),children:t})]})},p.Group=function(e){let{children:t,icon:n,title:a}=e,s=(0,o.A)("menu"),{type:i}=u();return(0,r.jsxs)("div",{className:[s.group.base,s.group.variants[i]].join(" "),"data-sentry-component":"Group","data-sentry-source-file":"Menu.tsx",children:[n&&(0,r.jsx)("span",{className:s.group.icon,children:n}),(0,r.jsx)("span",{className:s.group.content,children:a}),t]})},p.Misc=function(e){let{children:t}=e;return(0,r.jsx)("div",{"data-sentry-component":"Misc","data-sentry-source-file":"Menu.tsx",children:(0,r.jsx)(l.Text,{"data-sentry-element":"Typography.Text","data-sentry-source-file":"Menu.tsx",children:(0,r.jsx)("span",{children:t})})})};let f=p},46221:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(80263),a=n(24400),o=n(75232),s=n(72035),i=n(90226),l=n(91435),c=n(20438),d=n(97600),u=n(5483),p=n(52361),f=n(31533),m=n(97175);let y=()=>{let{data:e}=(0,u.YA)(),t=(0,a.useRouter)().pathname.split("/")[4],{data:n}=(0,l.z)({projectRef:null==e?void 0:e.ref,connectionString:null==e?void 0:e.connectionString}),{data:p}=(0,c.Q)({projectRef:null==e?void 0:e.ref}),f=void 0!==(null!=n?n:[]).find(e=>"pg_net"===e.name),y=(null==p?void 0:p.selected_addons.find(e=>"pitr"===e.type))!==void 0,h=(0,s.p4)(),g=(0,o._P)("enablePgReplicate"),{databaseReplication:x,databaseRoles:b}=(0,d.x)(["database:replication","database:roles"]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.l,{page:t,menu:(0,m.k)(e,{pgNetExtensionExists:f,pitrEnabled:y,columnLevelPrivileges:h,enablePgReplicate:g,showPgReplicate:x,showRoles:b}),"data-sentry-element":"ProductMenu","data-sentry-source-file":"DatabaseLayout.tsx"})})},h=(0,p.r)(e=>{let{children:t}=e;return(0,r.jsx)(f.A,{product:"Database",productMenu:(0,r.jsx)(y,{}),isBlocking:!1,"data-sentry-element":"ProjectLayout","data-sentry-component":"DatabaseLayout","data-sentry-source-file":"DatabaseLayout.tsx",children:t})})},48054:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});let r={create:()=>["queues","create"],delete:e=>["queues",e,"delete"],purge:e=>["queues",e,"purge"],getMessagesInfinite:(e,t,n)=>["projects",e,"queue-messages",t,n].filter(Boolean),list:e=>["projects",e,"queues"],metrics:(e,t)=>["projects",e,"queue-metrics",t],exposePostgrestStatus:e=>["projects",e,"queue-expose-status"]}},48550:(e,t,n)=>{var r=n(45558),a=n(10116),o=n(59568),s=n(71057),i=n(10876),l=n(99582);e.exports=function(e,t,n,c){var d=-1,u=a,p=!0,f=e.length,m=[],y=t.length;if(!f)return m;n&&(t=s(t,i(n))),c?(u=o,p=!1):t.length>=200&&(u=l,p=!1,t=new r(t));e:for(;++d<f;){var h=e[d],g=null==n?h:n(h);if(h=c||0!==h?h:0,p&&g==g){for(var x=y;x--;)if(t[x]===g)continue e;m.push(h)}else u(t,g,c)||m.push(h)}return m}},48646:(e,t,n)=>{let{EOL:r}=n(69098),{addInspection:a,messageGap:o}=n(82337),s={unclosedMLC:0,unclosedText:1,unclosedQI:2,multiLineQI:3};Object.freeze(s);let i=[{name:"unclosedMLC",message:"Unclosed multi-line comment."},{name:"unclosedText",message:"Unclosed text block."},{name:"unclosedQI",message:"Unclosed quoted identifier."},{name:"multiLineQI",message:"Multi-line quoted identifiers are not supported."}];class l extends Error{constructor(e,t){let n=i[e].message;super(`Error parsing SQL at {line:${t.line},col:${t.column}}: ${n}`),this.name=this.constructor.name,this.error=n,this.code=e,this.position=t,Error.captureStackTrace(this,this.constructor)}}l.prototype.toString=function(e){let t=o((e=e>0?parseInt(e):0)+1);return["SQLParsingError {",`${t}code: parsingErrorCode.${i[this.code].name}`,`${t}error: "${this.error}"`,`${t}position: {line: ${this.position.line}, col: ${this.position.column}}`,`${o(e)}}`].join(r)},a(l.prototype,function(){return this.toString()}),e.exports={SQLParsingError:l,parsingErrorCode:s}},56095:(e,t,n)=>{let{parsingErrorCode:r,SQLParsingError:a}=n(48646),{getIndexPos:o}=n(82337),s=".,;:()[]=<>+-*/|!?@#";function i(e){return" "===e||"	"===e||"\r"===e||"\n"===e}e.exports=function(e,t){if("string"!=typeof e)throw TypeError("Input SQL must be a text string.");if(!e.length)return"";e=e.replace(/\r\n/g,"\n"),t=t||{};let n=0,l="",c=!1,d=e.length;do{let a,o,m=e[n],y=e[n+1];if(i(m)){for(;++n<d&&i(e[n]););n<d&&(c=!0),n--;continue}if("-"===m&&"-"===y){let t=e.indexOf("\n",n+2);if(t<0)break;n=t-1,u();continue}if("/"===m&&"*"===y){let a=n+1,o=0,s=0,i,m;for(;++a<d-1&&s<=o;)"/"===e[a]&&"*"===e[a+1]?(i=a,o++,a++):"*"===e[a]&&"/"===e[a+1]&&(m=a,s++,a++);s<=o&&(n=i,f(r.unclosedMLC)),"!"!==e[n+2]||t.removeAll||(t.compress&&(c=!1),p(),l+=e.substring(n,m+2).replace(/\n/g,"\r\n")),n=m+1,u();continue}if('"'===m){(a=e.indexOf('"',n+1))<0&&f(r.unclosedQI),(o=e.substring(n,a+1)).indexOf("\n")>0&&f(r.multiLineQI),t.compress&&(c=!1),p(),l+=o,n=a,u();continue}if("'"===m){a=n;do if((a=e.indexOf("'",a+1))>0){let t=a;for(;"\\"===e[--t];);if((a-t)%2){let t=a;for(;++t<d&&"'"===e[t];);if((t-a)%2){a=t-1;break}a=t===d?-1:t}}while(a>0);a<0&&f(r.unclosedText),t.compress&&(c=!1),p();let i=(o=e.substring(n,a+1)).indexOf("\n")>0;i&&(o=o.split("\n").map(e=>e.replace(/^\s+|\s+$/g,"")).join("\\n"));let m=o.indexOf("	")>0;if(i||m){let t=n?e[n-1]:"";if("E"!==t&&"e"!==t){let e=l?l[l.length-1]:"";e&&" "!==e&&0>s.indexOf(e)&&(l+=" "),l+="E"}m&&(o=o.replace(/\t/g,"\\t"))}l+=o,n=a,u();continue}t.compress&&s.indexOf(m)>=0&&(c=!1,u()),p(),l+=m}while(++n<d);return l;function u(){if(t.compress)for(;n<d-1&&i(e[n+1])&&n++;);}function p(){c&&(l.length&&(l+=" "),c=!1)}function f(t){throw new a(t,o(e,n))}}},56776:(e,t,n)=>{"use strict";n.d(t,{$O:()=>u,BQ:()=>m,Uu:()=>f});var r=n(74722),a=n.n(r),o=n(53239),s=n(23229),i=n(3914),l=n(5043),c=n(12006),d=n(5483);let u=["auth","cron","extensions","information_schema","net","pgsodium","pgsodium_masks","pgbouncer","pgtle","realtime","storage","supabase_functions","supabase_migrations","vault","graphql","graphql_public",l.Lh],p=()=>{let{data:e}=(0,d.YA)(),t=(0,c.ov)({projectRef:null==e?void 0:e.ref,connectionString:null==e?void 0:e.connectionString}),n=(0,o.useMemo)(()=>{var e;let n=null==(e=t.data)?void 0:e.filter(e=>(0,i.vN)({handlerName:s.U.ICEBERG,server:{options:[]}},e)),r=null==n?void 0:n.map(e=>(0,i.WV)(e.server_options)).map(e=>e.supabase_target_schema).flatMap(e=>null==e?void 0:e.split(",")).filter(Boolean);return a()(r)},[t.data]);return{...t,data:n}},f=function(){let{excludeSchemas:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.useMemo)(()=>e,[JSON.stringify(e)]),n=p(),r=(0,o.useMemo)(()=>{var e;let r=u.map(e=>({name:e,type:"internal"})),o=null==(e=n.data)?void 0:e.map(e=>({name:e,type:"fdw"}));return a()([...r,...o]).filter(e=>!t.includes(e.name))},[n.data,t]);return{...n,data:r}},m=e=>{let{schema:t,excludedSchemas:n=[]}=e,{data:r}=f({excludeSchemas:n}),a=r.find(e=>e.name===t);return a?{isSchemaLocked:!0,reason:a.type}:{isSchemaLocked:!1,reason:void 0}}},69098:e=>{!function(){"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//");var t={};t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"},e.exports=t}()},73047:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(80263),a=n(15601),o=n.n(a),s=n(43242),i=n(2119),l=n(40022);let c=e=>{let{name:t="",isActive:n,isExternal:a,icon:c,rightIcon:d,url:u="",target:p="_self",onClick:f,textClassName:m="",hoverText:y="",label:h}=e,g=(0,r.jsx)(s.Ay.Item,{icon:c,rounded:!0,active:n,onClick:f,children:(0,r.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,r.jsxs)("div",{title:y||("string"==typeof t?t:""),className:"flex items-center gap-2 truncate w-full "+m,children:[(0,r.jsxs)("span",{className:"truncate",children:[t," "]}),void 0!==h&&(0,r.jsx)(i.E,{variant:"warning",className:"py-0 px-1.5 capitalize",children:h})]}),d&&(0,r.jsx)("div",{children:d})]})});return u?a?(0,r.jsx)(l.$,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:c,children:(0,r.jsx)(o(),{href:u,target:"_blank",rel:"noreferrer",children:t})}):(0,r.jsx)(o(),{href:u,className:"block",target:p,children:g}):g}},79015:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var r=n(80263),a=n(60045),o=n(96572),s=n(80903),i=n(3689),l=n(53239),c=n(63604),d=n(75019),u=n(5483),p=n(40022),f=n(53555),m=n(1012),y=n(9681),h=n(61965),g=n(38417);let x=e=>{let{className:t,disabled:n=!1,size:x="tiny",showError:b=!0,selectedSchemaName:v,supportSelectAll:j=!1,excludedSchemas:S=[],onSelectSchema:_,onSelectCreateSchema:w,portal:A=!0,align:N="start"}=e,[E,P]=(0,l.useState)(!1),{can:O}=(0,d.hl)(a.aG.TENANT_SQL_ADMIN_WRITE,"schemas"),{data:C}=(0,u.YA)(),{data:I,isLoading:k,isSuccess:R,isError:q,error:T,refetch:F}=(0,c.w$)({projectRef:null==C?void 0:C.ref,connectionString:null==C?void 0:C.connectionString}),M=(I||[]).filter(e=>!S.includes(e.name)).sort((e,t)=>e.name.localeCompare(t.name));return(0,r.jsxs)("div",{className:t,"data-sentry-component":"SchemaSelector","data-sentry-source-file":"SchemaSelector.tsx",children:[k&&(0,r.jsx)(p.$,{type:"default",className:"w-full [&>span]:w-full",size:x,disabled:!0,children:(0,r.jsx)(f.E,{className:"w-full h-3 bg-foreground-muted"})},"schema-selector-skeleton"),b&&q&&(0,r.jsxs)(m.Fc,{variant:"warning",className:"!px-3 !py-3",children:[(0,r.jsx)(m.XL,{className:"text-xs text-amber-900",children:"Failed to load schemas"}),(0,r.jsxs)(m.TN,{className:"text-xs mb-2 break-words",children:["Error: ",null==T?void 0:T.message]}),(0,r.jsx)(p.$,{type:"default",size:"tiny",onClick:()=>F(),children:"Reload schemas"})]}),R&&(0,r.jsxs)(y.AM,{open:E,onOpenChange:P,modal:!1,children:[(0,r.jsx)(y.Wv,{asChild:!0,children:(0,r.jsx)(p.$,{size:x,disabled:n,type:"default","data-testid":"schema-selector",className:"w-full [&>span]:w-full !pr-1 space-x-1",iconRight:(0,r.jsx)(o.A,{className:"text-foreground-muted",strokeWidth:2,size:14}),children:v?(0,r.jsxs)("div",{className:"w-full flex gap-1",children:[(0,r.jsx)("p",{className:"text-foreground-lighter",children:"schema"}),(0,r.jsx)("p",{className:"text-foreground",children:"*"===v?"All schemas":v})]}):(0,r.jsx)("div",{className:"w-full flex gap-1",children:(0,r.jsx)("p",{className:"text-foreground-lighter",children:"Choose a schema"})})})}),(0,r.jsx)(y.hl,{className:"p-0 min-w-[200px] pointer-events-auto",side:"bottom",align:N,portal:A,sameWidthAsTrigger:!0,children:(0,r.jsxs)(h.uB,{children:[(0,r.jsx)(h.G7,{placeholder:"Find schema..."}),(0,r.jsxs)(h.oI,{children:[(0,r.jsx)(h.xL,{children:"No schemas found"}),(0,r.jsx)(h.L$,{children:(0,r.jsxs)(g.FK,{className:(M||[]).length>7?"h-[210px]":"",children:[j&&(0,r.jsxs)(h.h_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{_("*"),P(!1)},onClick:()=>{_("*"),P(!1)},children:[(0,r.jsx)("span",{children:"All schemas"}),"*"===v&&(0,r.jsx)(s.A,{className:"text-brand",strokeWidth:2,size:16})]},"select-all"),null==M?void 0:M.map(e=>(0,r.jsxs)(h.h_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{_(e.name),P(!1)},onClick:()=>{_(e.name),P(!1)},children:[(0,r.jsx)("span",{children:e.name}),v===e.name&&(0,r.jsx)(s.A,{className:"text-brand",strokeWidth:2,size:16})]},e.id))]})}),void 0!==w&&O&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.fx,{}),(0,r.jsx)(h.L$,{children:(0,r.jsxs)(h.h_,{className:"cursor-pointer flex items-center gap-x-2 w-full",onSelect:()=>{w(),P(!1)},onClick:()=>{w(),P(!1)},children:[(0,r.jsx)(i.A,{size:12}),"Create a new schema"]})})]})]})]})})]})]})}},80139:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/database/indexes",function(){return n(86875)}])},82228:(e,t,n)=>{"use strict";n.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>s,aR:()=>i,wL:()=>u});var r=n(80263),a=n(53239),o=n(51500);let s=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("overflow-hidden rounded-lg border bg-surface-100 text-card-foreground shadow-sm",n),...a})});s.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 py-4 px-6 border-b",n),...a})});i.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,o.cn)("text-xs font-mono uppercase",n),...a})});l.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-foreground-muted",n),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("py-4 px-6 border-b last:border-none",n),...a})});d.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)(" flex items-center py-4 px-6",n),...a})});u.displayName="CardFooter"},82337:(e,t,n)=>{let{inspect:r}=n(42455);e.exports={getIndexPos:function(e,t){let n=0,r=t,a=0;do{if(-1===(a=e.indexOf("\n",a))||t<a+1)break;n++,r=t-++a}while(a<t);return{line:n+1,column:r+1}},messageGap:function(e){return" ".repeat(4*e)},addInspection:function(e,t){e[r.custom]=t}}},86505:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(32466),a=n(53239),o=n(75232);let s=e=>(0,r.ZA)("schema",r.tU.withDefault(e).withOptions({clearOnDefault:!1})),i=()=>{let{ref:e}=(0,o.g)(),t=e&&e.length>0&&window.localStorage.getItem(o.rS.LAST_SELECTED_SCHEMA(e))||"public",[n,r]=s((0,a.useMemo)(()=>t,[e]));return(0,a.useEffect)(()=>{e&&e.length>0&&window.localStorage.setItem(o.rS.LAST_SELECTED_SCHEMA(e),n)},[n,e]),{selectedSchema:n,setSelectedSchema:r}}},86875:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ed});var r=n(80263),a=n(23445),o=n(14506),s=n.n(o),i=n(87610),l=n(75189),c=n(17089),d=n(53239),u=n(73969),p=n(75232),f=n(20313),m=n(82143),y=n(79015),h=n(90437),g=n(32144),x=n(80251),b=n(15629),v=n(85924);async function j(e){let{projectRef:t,connectionString:n,name:r,schema:a}=e,o='drop index if exists "'.concat(a,'"."').concat(r,'"'),{result:s}=await (0,b.E)({projectRef:t,connectionString:n,sql:o,queryKey:["indexes"]});return s}let S=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,g.jE)();return(0,x.n)(e=>j(e),{async onSuccess(t,n,a){let{projectRef:o}=n;await r.invalidateQueries(v.K.list(o)),await (null==e?void 0:e(t,n,a))},async onError(e,n,r){void 0===t?u.oR.error("Failed to delete database index: ".concat(e.message)):t(e,n,r)},...n})};var _=n(56947);let w=e=>{let{schema:t}=e;return'\nSELECT schemaname as "schema",\n  tablename as "table",\n  indexname as "name",\n  indexdef as "definition"\nFROM pg_indexes\nWHERE schemaname = \''.concat(t,"';\n").trim()};async function A(e,t){let{schema:n,projectRef:r,connectionString:a}=e;if(!n)throw Error("schema is required");let o=w({schema:n}),{result:s}=await (0,b.E)({projectRef:r,connectionString:a,sql:o,queryKey:["indexes",n]},t);return s}let N=function(e){let{projectRef:t,connectionString:n,schema:r}=e,{enabled:a=!0,...o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,_.I)(v.K.list(t,r),e=>{let{signal:a}=e;return A({projectRef:t,connectionString:n,schema:r},a)},{enabled:a&&void 0!==t&&void 0!==r,...o})};var E=n(63604),P=n(86505),O=n(5483),C=n(56776),I=n(95708),k=n(40022),R=n(82228),q=n(3434),T=n(24332),F=n(50204),M=n(91746),D=n(96572),B=n(80903),L=n(28881),U=n(15601),$=n.n(U),z=n(62136);async function W(e){let{projectRef:t,connectionString:n,payload:r}=e,{schema:a,entity:o,type:s,columns:i}=r,l='\n  CREATE INDEX ON "'.concat(a,'"."').concat(o,'" USING ').concat(s," (").concat(i.map(e=>'"'.concat(e,'"')).join(", "),");\n  ").trim(),{result:c}=await (0,b.E)({projectRef:t,connectionString:n,sql:l,queryKey:["indexes",a]});return c}let G=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,g.jE)();return(0,x.n)(e=>W(e),{async onSuccess(t,n,a){let{projectRef:o}=n;await r.invalidateQueries(v.K.list(o)),await (null==e?void 0:e(t,n,a))},async onError(e,n,r){void 0===t?u.oR.error("Failed to create database index: ".concat(e.message)):t(e,n,r)},...n})};var V=n(37490),H=n(23748),Q=n(9681),J=n(61965),K=n(38417),X=n(51500),Y=n(40990),Z=n(47142),ee=n(7634),et=n(67258);let en=[{name:"B-Tree",value:"btree",description:"For querying data with equality or range conditions on columns.\nThis is the default index type that Postgres uses."},{name:"Hash",value:"hash",description:"For querying exact matches on columns"},{name:"GiST",value:"gist",description:"For querying complex data types or custom-defined operators"},{name:"SP-GiST",value:"spgist",description:"Similar to GiST, but is more specialized and customizable"},{name:"GIN",value:"gin",description:"For querying multi-valued data such as arrays or full-text search scenarios"},{name:"BRIN",value:"brin",description:"For querying large tables with sorted data"}],er=e=>{var t,n;let{visible:a,onClose:o}=e,{data:s}=(0,O.YA)(),i=(0,O.W0)(),[l,c]=(0,d.useState)("public"),[p,f]=(0,d.useState)(void 0),[y,g]=(0,d.useState)([]),[x,b]=(0,d.useState)(en[0].value),[v,j]=(0,d.useState)(!1),[S,_]=(0,d.useState)(!1),[w,A]=(0,d.useState)(""),{data:N}=(0,E.w$)({projectRef:null==s?void 0:s.ref,connectionString:null==s?void 0:s.connectionString}),{data:P,isLoading:C}=(0,H.kD)({schemas:[l],sort:"alphabetical",search:w,projectRef:null==s?void 0:s.ref,connectionString:null==s?void 0:s.connectionString}),{data:I,isLoading:R,isSuccess:q}=(0,V.HJ)({schema:l,table:p,projectRef:null==s?void 0:s.ref,connectionString:null==s?void 0:s.connectionString}),{mutate:F,isLoading:M}=G({onSuccess:()=>{o(),u.oR.success("Successfully created index")}}),U=(0,d.useMemo)(()=>(null==P?void 0:P.pages.flatMap(e=>e.data.entities))||[],[null==P?void 0:P.pages]);function W(e){A(e)}let er=(null!=(n=null==I||null==(t=I[0])?void 0:t.columns)?n:[]).filter(e=>null!==e).map(e=>({id:e.attname,value:e.attname,name:e.attname,disabled:!1})),ea='\nCREATE INDEX ON "'.concat(l,'"."').concat(p,'" USING ').concat(x," (").concat(y.map(e=>'"'.concat(e,'"')).join(", "),");\n").trim(),eo=()=>s?p?void F({projectRef:s.ref,connectionString:s.connectionString,payload:{schema:l,entity:p,type:x,columns:y}}):console.error("Entity is required"):console.error("Project is required");(0,d.useEffect)(()=>{a&&(c("public"),f(""),g([]),b(en[0].value))},[a]),(0,d.useEffect)(()=>{f(""),g([]),b(en[0].value)},[l]),(0,d.useEffect)(()=>{g([]),b(en[0].value)},[p]);let es=0===U.length;return(0,r.jsx)(T.Ay,{size:"large",header:"Create new index",visible:a,onCancel:o,onConfirm:()=>eo(),loading:M,confirmText:"Create index","data-sentry-element":"SidePanel","data-sentry-component":"CreateIndexSidePanel","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:(0,r.jsxs)("div",{className:"py-6 space-y-6",children:[(0,r.jsxs)(T.Ay.Content,{className:"space-y-6","data-sentry-element":"SidePanel.Content","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:[(0,r.jsx)(et.M,{label:"Select a schema",name:"select-schema",isReactForm:!1,"data-sentry-element":"FormItemLayout","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:(0,r.jsxs)(Q.AM,{modal:!1,open:v,onOpenChange:j,"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:[(0,r.jsx)(Q.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:(0,r.jsx)(k.$,{type:"default",size:"medium",className:"w-full [&>span]:w-full text-left",iconRight:(0,r.jsx)(D.A,{className:"text-foreground-muted",strokeWidth:2,size:14}),"data-sentry-element":"Button","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:void 0!==l&&""!==l?l:"Choose a schema"})}),(0,r.jsx)(Q.hl,{className:"p-0",side:"bottom",align:"start",sameWidthAsTrigger:!0,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:(0,r.jsxs)(J.uB,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:[(0,r.jsx)(J.G7,{placeholder:"Find table...",value:w,onValueChange:W,"data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"CreateIndexSidePanel.tsx"}),(0,r.jsxs)(J.oI,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:[(0,r.jsx)(J.xL,{"data-sentry-element":"CommandEmpty_Shadcn_","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:"No schemas found"}),(0,r.jsx)(J.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:(0,r.jsx)(K.FK,{className:(N||[]).length>7?"h-[210px]":"","data-sentry-element":"ScrollArea","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:(null!=N?N:[]).map(e=>(0,r.jsxs)(J.h_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{c(e.name),j(!1)},onClick:()=>{c(e.name),j(!1)},children:[(0,r.jsx)("span",{children:e.name}),p===e.name&&(0,r.jsx)(B.A,{className:"text-brand",strokeWidth:2,size:16})]},e.name))})})]})]})})]})}),(0,r.jsx)(et.M,{label:"Select a table",name:"select-table",description:es&&!C&&"Create a table in this schema via the Table or SQL editor first",isReactForm:!1,"data-sentry-element":"FormItemLayout","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:(0,r.jsxs)(Q.AM,{modal:!1,open:S,onOpenChange:_,"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:[(0,r.jsx)(Q.Wv,{asChild:!0,disabled:es||C,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:(0,r.jsx)(k.$,{type:"default",size:"medium",className:(0,X.cn)("w-full [&>span]:w-full text-left",""===p&&"text-foreground-lighter"),iconRight:(0,r.jsx)(D.A,{className:"text-foreground-muted",strokeWidth:2,size:14}),"data-sentry-element":"Button","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:void 0!==p&&""!==p?p:es?"No tables available in schema":"Choose a table"})}),(0,r.jsx)(Q.hl,{className:"p-0",side:"bottom",align:"start",sameWidthAsTrigger:!0,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:(0,r.jsxs)(J.uB,{shouldFilter:!1,"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:[(0,r.jsx)(J.G7,{placeholder:"Find table...",value:w,onValueChange:W,"data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"CreateIndexSidePanel.tsx"}),(0,r.jsxs)(J.oI,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:[(0,r.jsx)(J.xL,{"data-sentry-element":"CommandEmpty_Shadcn_","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:C?(0,r.jsxs)("div",{className:"flex items-center gap-2 text-center justify-center",children:[(0,r.jsx)(L.A,{size:12,className:"animate-spin"}),"Loading..."]}):"No tables found"}),(0,r.jsx)(J.L$,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:(0,r.jsx)(K.FK,{className:(U||[]).length>7?"h-[210px]":"","data-sentry-element":"ScrollArea","data-sentry-source-file":"CreateIndexSidePanel.tsx",children:(null!=U?U:[]).map(e=>(0,r.jsxs)(J.h_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{f(e.name),_(!1)},onClick:()=>{f(e.name),_(!1)},children:[(0,r.jsx)("span",{children:e.name}),p===e.name&&(0,r.jsx)(B.A,{className:"text-brand",strokeWidth:2,size:16})]},e.name))})})]})]})})]})}),p&&(0,r.jsxs)(et.M,{label:"Select up to 32 columns",isReactForm:!1,children:[R&&(0,r.jsx)(h.A,{className:"py-4"}),q&&(0,r.jsx)(ee._,{options:er,placeholder:"Choose which columns to create an index on",searchPlaceholder:"Search for a column",value:y,onChange:g})]})]}),y.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T.Ay.Separator,{}),(0,r.jsxs)(T.Ay.Content,{className:"space-y-6",children:[(0,r.jsx)(et.M,{label:"Select an index type",name:"selected-index-type",isReactForm:!1,children:(0,r.jsxs)(Y.l6,{disabled:i,value:x,onValueChange:b,name:"selected-index-type",children:[(0,r.jsx)(Y.bq,{size:"small",children:(0,r.jsx)(Y.yv,{className:"font-mono",children:x})}),(0,r.jsx)(Y.gC,{children:en.map((e,t)=>(0,r.jsxs)(d.Fragment,{children:[(0,r.jsx)(Y.eb,{value:e.value,children:(0,r.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,r.jsx)("span",{children:e.name}),e.description.split("\n").map((t,n)=>(0,r.jsx)("span",{className:"text-foreground-lighter group-focus:text-foreground-light group-data-[state=checked]:text-foreground-light",children:t},"".concat(e.value,"-description-").concat(n)))]})}),t<en.length-1&&(0,r.jsx)(Y.mi,{})]},e.name))})]})}),i&&(0,r.jsx)(Z.Z,{type:"default",className:"!mt-2",title:"OrioleDB currently only supports the B-tree index type",description:"More index types may be supported when OrioleDB is no longer in preview",children:(0,r.jsx)(z.A,{className:"mt-2",abbrev:!1,href:"https://supabase.com/docs"})})]}),(0,r.jsx)(T.Ay.Separator,{}),(0,r.jsx)(T.Ay.Content,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-sm",children:"Preview of SQL statement"}),(0,r.jsx)(k.$,{asChild:!0,type:"default",children:(0,r.jsx)($(),{href:void 0!==s?"/project/".concat(s.ref,"/sql/new?content=").concat(ea):"/",children:"Open in SQL Editor"})})]})}),(0,r.jsx)("div",{className:"h-[200px] !mt-2",children:(0,r.jsx)("div",{className:"relative h-full",children:(0,r.jsx)(m.A,{isReadOnly:!0,autofocus:!1,id:"".concat(l,"-").concat(p,"-").concat(y.join(","),"-").concat(x),language:"pgsql",defaultValue:ea})})})]})]})})},ea=()=>{var e,t;let{data:n}=(0,O.YA)(),{schema:a,table:o}=(0,p.g)(),[g,x]=(0,d.useState)(""),{selectedSchema:b,setSelectedSchema:v}=(0,P.k)(),[j,_]=(0,d.useState)(!1),[w,A]=(0,d.useState)(),[D,B]=(0,d.useState)(),{data:L,error:U,isLoading:$,isSuccess:z,isError:W}=N({schema:b,projectRef:null==n?void 0:n.ref,connectionString:null==n?void 0:n.connectionString}),{data:G,isLoading:V,isSuccess:H,isError:Q}=(0,E.w$)({projectRef:null==n?void 0:n.ref,connectionString:null==n?void 0:n.connectionString}),{mutate:J,isLoading:K}=S({onSuccess:async()=>{B(void 0),u.oR.success("Successfully deleted index")}}),{isSchemaLocked:X}=(0,C.BQ)({schema:b}),Y=s()(null!=L?L:[],e=>e.name.toLocaleLowerCase()),Z=g.length>0?Y.filter(e=>e.name.includes(g)||e.table.includes(g)):Y,ee=e=>{if(!n)return console.error("Project is required");J({projectRef:n.ref,connectionString:n.connectionString,name:e.name,schema:b})};return(0,d.useEffect)(()=>{if(void 0!==a){let e=null==G?void 0:G.find(e=>e.name===a);void 0!==e&&v(e.name)}},[a,H]),(0,d.useEffect)(()=>{void 0!==o&&x(o)},[o]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"pb-8",children:(0,r.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[V&&(0,r.jsx)(h.A,{className:"w-[260px]"}),Q&&(0,r.jsxs)("div",{className:"w-[260px] text-foreground-light text-sm border px-3 py-1.5 rounded flex items-center space-x-2",children:[(0,r.jsx)(i.A,{strokeWidth:2,size:16}),(0,r.jsx)("p",{children:"Failed to load schemas"})]}),H&&(0,r.jsx)(y.A,{className:"w-full lg:w-[180px]",size:"tiny",showError:!1,selectedSchemaName:b,onSelectSchema:v}),(0,r.jsx)(I.A,{size:"tiny",value:g,className:"w-full lg:w-52",onChange:e=>x(e.target.value),placeholder:"Search for an index",icon:(0,r.jsx)(l.A,{size:14}),"data-sentry-element":"Input","data-sentry-source-file":"Indexes.tsx"}),!X&&(0,r.jsx)(k.$,{className:"ml-auto flex-grow lg:flex-grow-0",type:"primary",onClick:()=>_(!0),disabled:!H,children:"Create index"})]}),X&&(0,r.jsx)(M.i,{schema:b,entity:"indexes"}),$&&(0,r.jsx)(h.y,{}),W&&(0,r.jsx)(f.A,{error:U,subject:"Failed to retrieve database indexes"}),z&&(0,r.jsx)("div",{className:"w-full overflow-hidden",children:(0,r.jsx)(R.Zp,{children:(0,r.jsxs)(q.XI,{children:[(0,r.jsx)(q.A0,{children:(0,r.jsxs)(q.Hj,{children:[(0,r.jsx)(q.nd,{children:"Schema"},"schema"),(0,r.jsx)(q.nd,{children:"Table"},"table"),(0,r.jsx)(q.nd,{children:"Name"},"name"),(0,r.jsx)(q.nd,{},"buttons")]})}),(0,r.jsxs)(q.BF,{children:[0===Y.length&&0===g.length&&(0,r.jsx)(q.Hj,{children:(0,r.jsxs)(q.nA,{colSpan:4,children:[(0,r.jsx)("p",{className:"text-sm text-foreground",children:"No indexes created yet"}),(0,r.jsxs)("p",{className:"text-sm text-foreground-light",children:['There are no indexes found in the schema "',b,'"']})]})}),0===Y.length&&g.length>0&&(0,r.jsx)(q.Hj,{children:(0,r.jsxs)(q.nA,{colSpan:4,children:[(0,r.jsx)("p",{className:"text-sm text-foreground",children:"No results found"}),(0,r.jsxs)("p",{className:"text-sm text-foreground-light",children:['Your search for "',g,'" did not return any results']})]})}),Z.length>0&&Z.map(e=>(0,r.jsxs)(q.Hj,{children:[(0,r.jsx)(q.nA,{children:(0,r.jsx)("p",{title:e.schema,children:e.schema})}),(0,r.jsx)(q.nA,{children:(0,r.jsx)("p",{title:e.table,children:e.table})}),(0,r.jsx)(q.nA,{children:(0,r.jsx)("p",{title:e.name,children:e.name})}),(0,r.jsx)(q.nA,{children:(0,r.jsxs)("div",{className:"flex justify-end items-center space-x-2",children:[(0,r.jsx)(k.$,{type:"default",onClick:()=>A(e),children:"View definition"}),!X&&(0,r.jsx)(k.$,{"aria-label":"Delete index",type:"text",className:"px-1",icon:(0,r.jsx)(c.A,{}),onClick:()=>B(e)})]})})]},e.name))]})]})})})]})}),(0,r.jsx)(T.Ay,{size:"xlarge",visible:void 0!==w,header:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Index:"}),(0,r.jsx)("code",{className:"text-sm ml-2",children:null==w?void 0:w.name})]}),onCancel:()=>A(void 0),"data-sentry-element":"SidePanel","data-sentry-source-file":"Indexes.tsx",children:(0,r.jsx)("div",{className:"h-full",children:(0,r.jsx)("div",{className:"relative h-full",children:(0,r.jsx)(m.A,{isReadOnly:!0,id:null!=(e=null==w?void 0:w.name)?e:"",language:"pgsql",defaultValue:null!=(t=null==w?void 0:w.definition)?t:"","data-sentry-element":"CodeEditor","data-sentry-source-file":"Indexes.tsx"})})})}),(0,r.jsx)(er,{visible:j,onClose:()=>_(!1),"data-sentry-element":"CreateIndexSidePanel","data-sentry-source-file":"Indexes.tsx"}),(0,r.jsx)(F.A,{variant:"warning",size:"medium",loading:K,visible:void 0!==D,title:(0,r.jsxs)(r.Fragment,{children:["Confirm to delete index ",(0,r.jsx)("code",{className:"text-sm",children:null==D?void 0:D.name})]}),confirmLabel:"Confirm delete",confirmLabelLoading:"Deleting...",onConfirm:()=>void 0!==D?ee(D):{},onCancel:()=>B(void 0),alert:{title:"This action cannot be undone",description:"Deleting an index that is still in use will cause queries to slow down, and in some cases causing significant performance issues."},"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"Indexes.tsx",children:(0,r.jsx)("ul",{className:"mt-4 space-y-5",children:(0,r.jsx)("li",{className:"flex gap-3",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{className:"text-sm",children:"Before deleting this index, consider:"}),(0,r.jsxs)("ul",{className:"space-y-2 mt-2 text-sm text-foreground-light",children:[(0,r.jsx)("li",{className:"list-disc ml-6",children:"This index is no longer in use"}),(0,r.jsx)("li",{className:"list-disc ml-6",children:"The table which the index is on is not currently in use, as dropping an index requires a short exclusive access lock on the table."})]})]})})})})]})};var eo=n(46221),es=n(92882),ei=n(92512),el=n(96232);let ec=()=>(0,r.jsx)(es.eh,{"data-sentry-element":"ScaffoldContainer","data-sentry-component":"IndexesPage","data-sentry-source-file":"indexes.tsx",children:(0,r.jsxs)(es.gu,{"data-sentry-element":"ScaffoldSection","data-sentry-source-file":"indexes.tsx",children:[(0,r.jsx)(es.Rf,{className:"gap-0","data-sentry-element":"ScaffoldSectionContent","data-sentry-source-file":"indexes.tsx",children:(0,r.jsx)(ei.M,{className:"!mb-0",title:"Database Indexes",description:"Improve query performance against your database","data-sentry-element":"FormHeader","data-sentry-source-file":"indexes.tsx"})}),(0,r.jsxs)(es.xp,{className:"flex items-center lg:justify-end gap-2 flex-wrap","data-sentry-element":"ScaffoldSectionDetail","data-sentry-source-file":"indexes.tsx",children:[(0,r.jsx)(z.A,{className:"no-underline",href:"https://supabase.com/docs/guides/database/query-optimization","data-sentry-element":"DocsButton","data-sentry-source-file":"indexes.tsx"}),(0,r.jsx)(k.$,{asChild:!0,type:"default",icon:(0,r.jsx)(a.A,{strokeWidth:1.5}),"data-sentry-element":"Button","data-sentry-source-file":"indexes.tsx",children:(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",className:"no-underline",href:"https://supabase.com/docs/guides/database/extensions/index_advisor",children:"Index Advisor"})})]}),(0,r.jsx)("div",{className:"col-span-12 mt-3",children:(0,r.jsx)(ea,{"data-sentry-element":"Indexes","data-sentry-source-file":"indexes.tsx"})})]})});ec.getLayout=e=>(0,r.jsx)(el.A,{children:(0,r.jsx)(eo.A,{title:"Indexes",children:e})});let ed=ec},90226:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var r=n(80263),a=n(43242),o=n(2119),s=n(73047);let i=e=>{let{page:t,menu:n}=e;return(0,r.jsx)("div",{className:"flex flex-col space-y-8","data-sentry-component":"ProductMenu","data-sentry-source-file":"ProductMenu.tsx",children:(0,r.jsx)(a.Ay,{type:"pills","data-sentry-element":"Menu","data-sentry-source-file":"ProductMenu.tsx",children:n.map((e,i)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"my-6 space-y-8",children:(0,r.jsxs)("div",{className:"mx-3",children:[(0,r.jsx)(a.Ay.Group,{title:e.title?(0,r.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,r.jsx)("span",{children:e.title}),e.isPreview&&(0,r.jsx)(o.E,{variant:"warning",children:"Not production ready"})]}):null}),(0,r.jsx)("div",{children:e.items.map(e=>{let n=e.pages?e.pages.includes(null!=t?t:""):t===e.key;return(0,r.jsx)(s.A,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:n,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key)})})]})}),i!==n.length-1&&(0,r.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},91435:(e,t,n)=>{"use strict";n.d(t,{z:()=>d});var r=n(89811),a=n(56947),o=n(65172),s=n(5483),i=n(63492),l=n(28140);async function c(e,t,n){let{projectRef:a,connectionString:s}=e;if(!a)throw Error("projectRef is required");let i=new Headers(n);s&&i.set("x-connection-encrypted",s);let{data:l,error:c}=await (0,o.Jt)("/platform/pg-meta/{ref}/extensions",{params:{header:{"x-connection-encrypted":s,"x-pg-application-name":r.r},path:{ref:a}},headers:i,signal:t});return c&&(0,o.H4)(c),l}let d=function(e){let{projectRef:t,connectionString:n}=e,{enabled:r=!0,...o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{data:d}=(0,s.YA)(),u=(null==d?void 0:d.status)===i.BU.ACTIVE_HEALTHY;return(0,a.I)(l.I.list(t),e=>{let{signal:r}=e;return c({projectRef:t,connectionString:n},r)},{enabled:r&&void 0!==t&&u,...o})}},91746:(e,t,n)=>{"use strict";n.d(t,{i:()=>u});var r=n(80263),a=n(53239),o=n(16838),s=n(40022),i=n(51500),l=n(56776),c=n(47142);let d=e=>{let{onClose:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.c7,{"data-sentry-element":"DialogHeader","data-sentry-source-file":"ProtectedSchemaWarning.tsx",children:(0,r.jsx)(o.L3,{"data-sentry-element":"DialogTitle","data-sentry-source-file":"ProtectedSchemaWarning.tsx",children:"Schemas managed by Supabase"})}),(0,r.jsx)(o.pf,{"data-sentry-element":"DialogSectionSeparator","data-sentry-source-file":"ProtectedSchemaWarning.tsx"}),(0,r.jsxs)(o.OO,{className:"space-y-2 prose","data-sentry-element":"DialogSection","data-sentry-source-file":"ProtectedSchemaWarning.tsx",children:[(0,r.jsx)("p",{className:"text-sm",children:"The following schemas are managed by Supabase and are currently protected from write access through the dashboard."}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:l.$O.map(e=>(0,r.jsx)("code",{className:"text-xs",children:e},e))}),(0,r.jsx)("p",{className:"text-sm !mt-4",children:"These schemas are critical to the functionality of your Supabase project and hence we highly recommend not altering them."}),(0,r.jsx)("p",{className:"text-sm",children:"You can, however, still interact with those schemas through the SQL Editor although we advise you only do so if you know what you are doing."})]}),(0,r.jsx)(o.Es,{"data-sentry-element":"DialogFooter","data-sentry-source-file":"ProtectedSchemaWarning.tsx",children:(0,r.jsx)("div",{className:"flex items-center justify-end space-x-2",children:(0,r.jsx)(s.$,{type:"default",onClick:t,"data-sentry-element":"Button","data-sentry-source-file":"ProtectedSchemaWarning.tsx",children:"Understood"})})})]})},u=e=>{let{size:t="md",schema:n,entity:u}=e,[p,f]=(0,a.useState)(!1),{isSchemaLocked:m,reason:y}=(0,l.BQ)({schema:n});return m?(0,r.jsx)(c.Z,{showIcon:!1,type:"note",title:"sm"===t?"Viewing protected schema":"Viewing ".concat(u," from a protected schema"),className:(0,i.cn)("[&>div>p]:prose [&>div>p]:max-w-full [&>div>p]:!leading-normal","sm"===t?"[&>div>p]:text-xs":"[&>div>p]:text-sm"),"data-sentry-element":"Admonition","data-sentry-component":"ProtectedSchemaWarning","data-sentry-source-file":"ProtectedSchemaWarning.tsx",children:"fdw"===y?(0,r.jsxs)("p",{children:["The ",(0,r.jsx)("code",{className:"text-xs",children:n})," schema is used by Supabase to connect to analytics buckets and is read-only through the dashboard."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:"mb-2",children:["The ",(0,r.jsx)("code",{className:"text-xs",children:n})," schema is managed by Supabase and is read-only through the dashboard."]}),(0,r.jsxs)(o.lG,{open:p,onOpenChange:f,children:[(0,r.jsx)(o.zM,{asChild:!0,children:(0,r.jsx)(s.$,{type:"default",size:"tiny",onClick:()=>f(!0),children:"Learn more"})}),(0,r.jsx)(o.Cf,{children:(0,r.jsx)(d,{onClose:()=>f(!1)})})]})]})}):null}},92512:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});var r=n(80263),a=n(51500),o=n(62136);let s=e=>{let{title:t,description:n,docsUrl:s,actions:i,className:l}=e;return(0,r.jsxs)("div",{className:(0,a.cn)("w-full mb-6 flex flex-col sm:flex-row md:items-center justify-between gap-4 ".concat(l)),"data-sentry-component":"FormHeader","data-sentry-source-file":"FormHeader.tsx",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h3",{className:"text-foreground text-xl prose",children:t}),n&&(0,r.jsx)("div",{className:"prose text-sm max-w-2xl",children:n})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row md:items-center gap-x-2",children:[void 0!==s&&(0,r.jsx)(o.A,{href:s}),i]})]})}},92882:(e,t,n)=>{"use strict";n.d(t,{BS:()=>i,Dm:()=>d,HJ:()=>b,Rf:()=>g,Uw:()=>c,Vw:()=>S,Xr:()=>j,aw:()=>y,bV:()=>s,cJ:()=>f,dX:()=>u,eh:()=>l,fh:()=>v,gu:()=>p,sZ:()=>m,tn:()=>x,xp:()=>h});var r=n(80263),a=n(53239),o=n(51500);let s="mx-auto w-full max-w-[1200px]",i="px-4 @lg:px-6 @xl:px-10",l=(0,a.forwardRef)((e,t)=>{let{className:n,bottomPadding:a,size:s="default",...l}=e;return(0,r.jsx)("div",{ref:t,...l,className:(0,o.cn)("mx-auto w-full",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[s],i,a&&"pb-16",n)})}),c=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("header",{...a,ref:t,className:(0,o.cn)("w-full","flex-col gap-3 py-6",n)})}),d=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("h1",{ref:t,...a,className:(0,o.cn)(n)})}),u=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("p",{ref:t,...a,className:(0,o.cn)("text-sm text-foreground-light",n)})}),p=(0,a.forwardRef)((e,t)=>{let{className:n,isFullWidth:a,topPadding:s,...i}=e;return(0,r.jsx)("div",{ref:t,...i,className:(0,o.cn)("flex flex-col first:pt-12 py-6",a?"w-full":"gap-3 lg:grid md:grid-cols-12",n)})}),f=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,...a,className:(0,o.cn)("w-full h-px bg-border",n)})}),m=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("h3",{ref:t,...a,className:(0,o.cn)("text-foreground text-xl",n)})}),y=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("p",{ref:t,...a,className:(0,o.cn)("text-sm text-foreground-light",n)})}),h=(0,a.forwardRef)((e,t)=>{let{className:n,children:a,title:s,...i}=e;return(0,r.jsxs)("div",{ref:t,...i,className:(0,o.cn)("col-span-4 xl:col-span-5 prose text-sm",n),children:[s&&(0,r.jsx)("h2",{children:s}),a]})}),g=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,...a,className:(0,o.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",n)})}),x=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,...a,className:(0,o.cn)("flex flex-col gap-3 items-center",n)})}),b=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,...a,className:(0,o.cn)("flex w-full items-center",n)})}),v=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,...a,className:(0,o.cn)("flex flex-row gap-3",n)})}),j=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,...a,className:(0,o.cn)("flex flex-col gap-3","min-w-[420px]",n)})}),S=(0,a.forwardRef)((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,...a,className:(0,o.cn)(s,i,"my-8 flex flex-col gap-8",n)})});c.displayName="ScaffoldHeader",d.displayName="ScaffoldTitle",u.displayName="ScaffoldDescription",l.displayName="ScaffoldContainer",f.displayName="ScaffoldDivider",p.displayName="ScaffoldSection",j.displayName="ScaffoldColumn",h.displayName="ScaffoldSectionDetail",g.displayName="ScaffoldSectionContent",x.displayName="ScaffoldFilterAndContent",b.displayName="ScaffoldActionsContainer",v.displayName="ScaffoldActionsGroup",S.displayName="ScaffoldContainerLegacy",m.displayName="ScaffoldSectionTitle",y.displayName="ScaffoldSectionDescription"},95083:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(80263),a=n(53239),o=n(51500);let s=e=>{let[t,n]=a.useState(!1),[r,o]=a.useState(!1),[s,i]=a.useState(!1);return a.useEffect(()=>{let r=e.current;if(!r)return;let a=()=>{let e=r.scrollWidth>r.clientWidth;if(n(e),e){let e=r.scrollLeft>0,t=r.scrollLeft<r.scrollWidth-r.clientWidth;o(e),i(t)}else o(!1),i(!1)},s=()=>{if(t){let e=r.scrollLeft>0,t=r.scrollLeft<r.scrollWidth-r.clientWidth;o(e),i(t)}};return a(),r.addEventListener("scroll",s),window.addEventListener("resize",a),()=>{r.removeEventListener("scroll",s),window.removeEventListener("resize",a)}},[e,t]),{hasHorizontalScroll:t,canScrollLeft:r,canScrollRight:s}},i=a.forwardRef((e,t)=>{let{className:n,children:i,stickyLastColumn:l,...c}=e,d=a.useRef(null),{hasHorizontalScroll:u,canScrollLeft:p,canScrollRight:f}=s(d),m=(0,o.cn)("[&_td:last-child]:before:absolute [&_td:last-child]:before:top-0 [&_td:last-child]:before:-left-6","[&_td:last-child]:before:bottom-0 [&_td:last-child]:before:w-6 [&_td:last-child]:before:bg-gradient-to-l","[&_td:last-child]:before:from-black/5 dark:[&_td:last-child]:before:from-black/20 [&_td:last-child]:before:to-transparent","[&_td:last-child]:before:opacity-0 [&_td:last-child]:before:transition-all [&_td:last-child]:before:duration-400","[&_td:last-child]:before:easing-[0.24, 0.25, 0.05, 1] [&_td:last-child]:before:z-[60]","[&_th:last-child]:before:absolute [&_th:last-child]:before:top-0 [&_th:last-child]:before:-left-6","[&_th:last-child]:before:bottom-0 [&_th:last-child]:before:w-6 [&_th:last-child]:before:bg-gradient-to-l","[&_th:last-child]:before:from-black/5 dark:[&_th:last-child]:before:from-black/20 [&_th:last-child]:before:to-transparent","[&_th:last-child]:before:opacity-0 [&_th:last-child]:before:transition-all [&_th:last-child]:before:duration-400","[&_th:last-child]:before:easing-[0.24, 0.25, 0.05, 1] [&_th:last-child]:before:z-[60]");return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:(0,o.cn)("absolute inset-0 pointer-events-none z-50","before:absolute before:top-0 before:right-0 before:bottom-0 before:w-6 before:bg-gradient-to-l before:from-black/5 dark:before:from-black/20 before:to-transparent before:opacity-0 before:transition-all before:duration-400 before:easing-[0.24, 0.25, 0.05, 1]","after:absolute after:top-0 after:left-0 after:bottom-0 after:w-6 after:bg-gradient-to-r after:from-black/5 dark:after:from-black/20 after:to-transparent after:opacity-0 after:transition-all after:duration-400 after:easing-[0.24, 0.25, 0.05, 1]",u&&"hover:before:opacity-100 hover:after:opacity-100",f&&"before:opacity-100",p&&"after:opacity-100")}),(0,r.jsx)("div",{ref:d,className:(0,o.cn)("w-full overflow-auto",l&&["[&_tr>*:last-child]:sticky [&_tr>*:last-child]:z-50 [&_tr>*:last-child]:right-0","[&_tr:hover>*:last-child]:bg-transparent","[&_th>*:last-child]:bg-surface-100",m],u&&"[&_tr:hover>td:last-child]:!bg-surface-200",f&&"[&_td]:before:opacity-100 [&_tr>*:last-child]:before:opacity-100 [&_th:last-child]:before:opacity-100",n),...c,children:i})]})});i.displayName="ShadowScrollArea"},97344:(e,t,n)=>{var r=n(58381),a=n(51276),o=n(5689),s=n(33312),i=n(89527),l=n(79661),c=n(86458),d=n(63570),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(i(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||d(e)||o(e)))return!e.length;var t=a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(u.call(e,n))return!1;return!0}}},e=>{var t=t=>e(e.s=t);e.O(0,[89,2313,9441,7494,4280,7598,4915,4560,6797,4674,2360,6110,6712,7795,4968,876,5089,9239,1895,3709,5573,9897,6585,279,7686,8343,2690,6232,597,8119,1533,8742,636,6593,8792],()=>t(80139)),_N_E=e.O()}]);